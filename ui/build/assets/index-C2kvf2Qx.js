function r1(t,r){for(var s=0;s<r.length;s++){const a=r[s];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in t)){const c=Object.getOwnPropertyDescriptor(a,i);c&&Object.defineProperty(t,i,c.get?c:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function s(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(i){if(i.ep)return;i.ep=!0;const c=s(i);fetch(i.href,c)}})();function tf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vd={exports:{}},Fa={},Hd={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm;function s1(){if(Pm)return We;Pm=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),u=Symbol.iterator;function y(M){return M===null||typeof M!="object"?null:(M=u&&M[u]||M["@@iterator"],typeof M=="function"?M:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,C={};function w(M,K,re){this.props=M,this.context=K,this.refs=C,this.updater=re||b}w.prototype.isReactComponent={},w.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},w.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function E(){}E.prototype=w.prototype;function S(M,K,re){this.props=M,this.context=K,this.refs=C,this.updater=re||b}var k=S.prototype=new E;k.constructor=S,N(k,w.prototype),k.isPureReactComponent=!0;var R=Array.isArray,T=Object.prototype.hasOwnProperty,D={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function I(M,K,re){var se,he={},be=null,ie=null;if(K!=null)for(se in K.ref!==void 0&&(ie=K.ref),K.key!==void 0&&(be=""+K.key),K)T.call(K,se)&&!P.hasOwnProperty(se)&&(he[se]=K[se]);var fe=arguments.length-2;if(fe===1)he.children=re;else if(1<fe){for(var _e=Array(fe),De=0;De<fe;De++)_e[De]=arguments[De+2];he.children=_e}if(M&&M.defaultProps)for(se in fe=M.defaultProps,fe)he[se]===void 0&&(he[se]=fe[se]);return{$$typeof:t,type:M,key:be,ref:ie,props:he,_owner:D.current}}function V(M,K){return{$$typeof:t,type:M.type,key:K,ref:M.ref,props:M.props,_owner:M._owner}}function Y(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function J(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(re){return K[re]})}var ue=/\/+/g;function Q(M,K){return typeof M=="object"&&M!==null&&M.key!=null?J(""+M.key):K.toString(36)}function ne(M,K,re,se,he){var be=typeof M;(be==="undefined"||be==="boolean")&&(M=null);var ie=!1;if(M===null)ie=!0;else switch(be){case"string":case"number":ie=!0;break;case"object":switch(M.$$typeof){case t:case r:ie=!0}}if(ie)return ie=M,he=he(ie),M=se===""?"."+Q(ie,0):se,R(he)?(re="",M!=null&&(re=M.replace(ue,"$&/")+"/"),ne(he,K,re,"",function(De){return De})):he!=null&&(Y(he)&&(he=V(he,re+(!he.key||ie&&ie.key===he.key?"":(""+he.key).replace(ue,"$&/")+"/")+M)),K.push(he)),1;if(ie=0,se=se===""?".":se+":",R(M))for(var fe=0;fe<M.length;fe++){be=M[fe];var _e=se+Q(be,fe);ie+=ne(be,K,re,_e,he)}else if(_e=y(M),typeof _e=="function")for(M=_e.call(M),fe=0;!(be=M.next()).done;)be=be.value,_e=se+Q(be,fe++),ie+=ne(be,K,re,_e,he);else if(be==="object")throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return ie}function z(M,K,re){if(M==null)return M;var se=[],he=0;return ne(M,se,"","",function(be){return K.call(re,be,he++)}),se}function H(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(re){(M._status===0||M._status===-1)&&(M._status=1,M._result=re)},function(re){(M._status===0||M._status===-1)&&(M._status=2,M._result=re)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var B={current:null},F={transition:null},ee={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:F,ReactCurrentOwner:D};function U(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:z,forEach:function(M,K,re){z(M,function(){K.apply(this,arguments)},re)},count:function(M){var K=0;return z(M,function(){K++}),K},toArray:function(M){return z(M,function(K){return K})||[]},only:function(M){if(!Y(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},We.Component=w,We.Fragment=s,We.Profiler=i,We.PureComponent=S,We.StrictMode=a,We.Suspense=g,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,We.act=U,We.cloneElement=function(M,K,re){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var se=N({},M.props),he=M.key,be=M.ref,ie=M._owner;if(K!=null){if(K.ref!==void 0&&(be=K.ref,ie=D.current),K.key!==void 0&&(he=""+K.key),M.type&&M.type.defaultProps)var fe=M.type.defaultProps;for(_e in K)T.call(K,_e)&&!P.hasOwnProperty(_e)&&(se[_e]=K[_e]===void 0&&fe!==void 0?fe[_e]:K[_e])}var _e=arguments.length-2;if(_e===1)se.children=re;else if(1<_e){fe=Array(_e);for(var De=0;De<_e;De++)fe[De]=arguments[De+2];se.children=fe}return{$$typeof:t,type:M.type,key:he,ref:be,props:se,_owner:ie}},We.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:c,_context:M},M.Consumer=M},We.createElement=I,We.createFactory=function(M){var K=I.bind(null,M);return K.type=M,K},We.createRef=function(){return{current:null}},We.forwardRef=function(M){return{$$typeof:f,render:M}},We.isValidElement=Y,We.lazy=function(M){return{$$typeof:m,_payload:{_status:-1,_result:M},_init:H}},We.memo=function(M,K){return{$$typeof:p,type:M,compare:K===void 0?null:K}},We.startTransition=function(M){var K=F.transition;F.transition={};try{M()}finally{F.transition=K}},We.unstable_act=U,We.useCallback=function(M,K){return B.current.useCallback(M,K)},We.useContext=function(M){return B.current.useContext(M)},We.useDebugValue=function(){},We.useDeferredValue=function(M){return B.current.useDeferredValue(M)},We.useEffect=function(M,K){return B.current.useEffect(M,K)},We.useId=function(){return B.current.useId()},We.useImperativeHandle=function(M,K,re){return B.current.useImperativeHandle(M,K,re)},We.useInsertionEffect=function(M,K){return B.current.useInsertionEffect(M,K)},We.useLayoutEffect=function(M,K){return B.current.useLayoutEffect(M,K)},We.useMemo=function(M,K){return B.current.useMemo(M,K)},We.useReducer=function(M,K,re){return B.current.useReducer(M,K,re)},We.useRef=function(M){return B.current.useRef(M)},We.useState=function(M){return B.current.useState(M)},We.useSyncExternalStore=function(M,K,re){return B.current.useSyncExternalStore(M,K,re)},We.useTransition=function(){return B.current.useTransition()},We.version="18.3.1",We}var Am;function Ba(){return Am||(Am=1,Hd.exports=s1()),Hd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function o1(){if(Tm)return Fa;Tm=1;var t=Ba(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(f,g,p){var m,u={},y=null,b=null;p!==void 0&&(y=""+p),g.key!==void 0&&(y=""+g.key),g.ref!==void 0&&(b=g.ref);for(m in g)a.call(g,m)&&!c.hasOwnProperty(m)&&(u[m]=g[m]);if(f&&f.defaultProps)for(m in g=f.defaultProps,g)u[m]===void 0&&(u[m]=g[m]);return{$$typeof:r,type:f,key:y,ref:b,props:u,_owner:i.current}}return Fa.Fragment=s,Fa.jsx=d,Fa.jsxs=d,Fa}var Mm;function a1(){return Mm||(Mm=1,Vd.exports=o1()),Vd.exports}var e=a1(),ul={},Ud={exports:{}},Ut={},qd={exports:{}},Yd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function i1(){return Om||(Om=1,(function(t){function r(F,ee){var U=F.length;F.push(ee);e:for(;0<U;){var M=U-1>>>1,K=F[M];if(0<i(K,ee))F[M]=ee,F[U]=K,U=M;else break e}}function s(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var ee=F[0],U=F.pop();if(U!==ee){F[0]=U;e:for(var M=0,K=F.length,re=K>>>1;M<re;){var se=2*(M+1)-1,he=F[se],be=se+1,ie=F[be];if(0>i(he,U))be<K&&0>i(ie,he)?(F[M]=ie,F[be]=U,M=be):(F[M]=he,F[se]=U,M=se);else if(be<K&&0>i(ie,U))F[M]=ie,F[be]=U,M=be;else break e}}return ee}function i(F,ee){var U=F.sortIndex-ee.sortIndex;return U!==0?U:F.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();t.unstable_now=function(){return d.now()-f}}var g=[],p=[],m=1,u=null,y=3,b=!1,N=!1,C=!1,w=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(F){for(var ee=s(p);ee!==null;){if(ee.callback===null)a(p);else if(ee.startTime<=F)a(p),ee.sortIndex=ee.expirationTime,r(g,ee);else break;ee=s(p)}}function R(F){if(C=!1,k(F),!N)if(s(g)!==null)N=!0,H(T);else{var ee=s(p);ee!==null&&B(R,ee.startTime-F)}}function T(F,ee){N=!1,C&&(C=!1,E(I),I=-1),b=!0;var U=y;try{for(k(ee),u=s(g);u!==null&&(!(u.expirationTime>ee)||F&&!J());){var M=u.callback;if(typeof M=="function"){u.callback=null,y=u.priorityLevel;var K=M(u.expirationTime<=ee);ee=t.unstable_now(),typeof K=="function"?u.callback=K:u===s(g)&&a(g),k(ee)}else a(g);u=s(g)}if(u!==null)var re=!0;else{var se=s(p);se!==null&&B(R,se.startTime-ee),re=!1}return re}finally{u=null,y=U,b=!1}}var D=!1,P=null,I=-1,V=5,Y=-1;function J(){return!(t.unstable_now()-Y<V)}function ue(){if(P!==null){var F=t.unstable_now();Y=F;var ee=!0;try{ee=P(!0,F)}finally{ee?Q():(D=!1,P=null)}}else D=!1}var Q;if(typeof S=="function")Q=function(){S(ue)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,z=ne.port2;ne.port1.onmessage=ue,Q=function(){z.postMessage(null)}}else Q=function(){w(ue,0)};function H(F){P=F,D||(D=!0,Q())}function B(F,ee){I=w(function(){F(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){N||b||(N=!0,H(T))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return s(g)},t.unstable_next=function(F){switch(y){case 1:case 2:case 3:var ee=3;break;default:ee=y}var U=y;y=ee;try{return F()}finally{y=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,ee){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var U=y;y=F;try{return ee()}finally{y=U}},t.unstable_scheduleCallback=function(F,ee,U){var M=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?M+U:M):U=M,F){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=U+K,F={id:m++,callback:ee,priorityLevel:F,startTime:U,expirationTime:K,sortIndex:-1},U>M?(F.sortIndex=U,r(p,F),s(g)===null&&F===s(p)&&(C?(E(I),I=-1):C=!0,B(R,U-M))):(F.sortIndex=K,r(g,F),N||b||(N=!0,H(T))),F},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(F){var ee=y;return function(){var U=y;y=ee;try{return F.apply(this,arguments)}finally{y=U}}}})(Yd)),Yd}var Im;function l1(){return Im||(Im=1,qd.exports=i1()),qd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function c1(){if(Lm)return Ut;Lm=1;var t=Ba(),r=l1();function s(n){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,i={};function c(n,o){d(n,o),d(n+"Capture",o)}function d(n,o){for(i[n]=o,n=0;n<o.length;n++)a.add(o[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},u={};function y(n){return g.call(u,n)?!0:g.call(m,n)?!1:p.test(n)?u[n]=!0:(m[n]=!0,!1)}function b(n,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function N(n,o,l,h){if(o===null||typeof o>"u"||b(n,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function C(n,o,l,h,x,j,_){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=x,this.mustUseProperty=l,this.propertyName=n,this.type=o,this.sanitizeURL=j,this.removeEmptyString=_}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){w[n]=new C(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var o=n[0];w[o]=new C(o,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){w[n]=new C(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){w[n]=new C(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){w[n]=new C(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){w[n]=new C(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){w[n]=new C(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){w[n]=new C(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){w[n]=new C(n,5,!1,n.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function S(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var o=n.replace(E,S);w[o]=new C(o,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var o=n.replace(E,S);w[o]=new C(o,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var o=n.replace(E,S);w[o]=new C(o,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){w[n]=new C(n,1,!1,n.toLowerCase(),null,!1,!1)}),w.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){w[n]=new C(n,1,!1,n.toLowerCase(),null,!0,!0)});function k(n,o,l,h){var x=w.hasOwnProperty(o)?w[o]:null;(x!==null?x.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(N(o,l,x,h)&&(l=null),h||x===null?y(o)&&(l===null?n.removeAttribute(o):n.setAttribute(o,""+l)):x.mustUseProperty?n[x.propertyName]=l===null?x.type===3?!1:"":l:(o=x.attributeName,h=x.attributeNamespace,l===null?n.removeAttribute(o):(x=x.type,l=x===3||x===4&&l===!0?"":""+l,h?n.setAttributeNS(h,o,l):n.setAttribute(o,l))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),D=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),J=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),F=Symbol.iterator;function ee(n){return n===null||typeof n!="object"?null:(n=F&&n[F]||n["@@iterator"],typeof n=="function"?n:null)}var U=Object.assign,M;function K(n){if(M===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);M=o&&o[1]||""}return`
`+M+n}var re=!1;function se(n,o){if(!n||re)return"";re=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(G){var h=G}Reflect.construct(n,[],o)}else{try{o.call()}catch(G){h=G}n.call(o.prototype)}else{try{throw Error()}catch(G){h=G}n()}}catch(G){if(G&&h&&typeof G.stack=="string"){for(var x=G.stack.split(`
`),j=h.stack.split(`
`),_=x.length-1,A=j.length-1;1<=_&&0<=A&&x[_]!==j[A];)A--;for(;1<=_&&0<=A;_--,A--)if(x[_]!==j[A]){if(_!==1||A!==1)do if(_--,A--,0>A||x[_]!==j[A]){var O=`
`+x[_].replace(" at new "," at ");return n.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",n.displayName)),O}while(1<=_&&0<=A);break}}}finally{re=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?K(n):""}function he(n){switch(n.tag){case 5:return K(n.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return n=se(n.type,!1),n;case 11:return n=se(n.type.render,!1),n;case 1:return n=se(n.type,!0),n;default:return""}}function be(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case P:return"Fragment";case D:return"Portal";case V:return"Profiler";case I:return"StrictMode";case Q:return"Suspense";case ne:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case J:return(n.displayName||"Context")+".Consumer";case Y:return(n._context.displayName||"Context")+".Provider";case ue:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case z:return o=n.displayName||null,o!==null?o:be(n.type)||"Memo";case H:o=n._payload,n=n._init;try{return be(n(o))}catch{}}return null}function ie(n){var o=n.type;switch(n.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=o.render,n=n.displayName||n.name||"",o.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function fe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function _e(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function De(n){var o=_e(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,o),h=""+n[o];if(!n.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var x=l.get,j=l.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return x.call(this)},set:function(_){h=""+_,j.call(this,_)}}),Object.defineProperty(n,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(_){h=""+_},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function ze(n){n._valueTracker||(n._valueTracker=De(n))}function Ve(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return n&&(h=_e(n)?n.checked?"true":"false":n.value),n=h,n!==l?(o.setValue(n),!0):!1}function pt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Tt(n,o){var l=o.checked;return U({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function Ar(n,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=fe(o.value!=null?o.value:l),n._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function pr(n,o){o=o.checked,o!=null&&k(n,"checked",o,!1)}function Zt(n,o){pr(n,o);var l=fe(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(h==="submit"||h==="reset"){n.removeAttribute("value");return}o.hasOwnProperty("value")?en(n,o.type,l):o.hasOwnProperty("defaultValue")&&en(n,o.type,fe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(n.defaultChecked=!!o.defaultChecked)}function Ho(n,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+n._wrapperState.initialValue,l||o===n.value||(n.value=o),n.defaultValue=o}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function en(n,o,l){(o!=="number"||pt(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var ys=Array.isArray;function Tr(n,o,l,h){if(n=n.options,o){o={};for(var x=0;x<l.length;x++)o["$"+l[x]]=!0;for(l=0;l<n.length;l++)x=o.hasOwnProperty("$"+n[l].value),n[l].selected!==x&&(n[l].selected=x),x&&h&&(n[l].defaultSelected=!0)}else{for(l=""+fe(l),o=null,x=0;x<n.length;x++){if(n[x].value===l){n[x].selected=!0,h&&(n[x].defaultSelected=!0);return}o!==null||n[x].disabled||(o=n[x])}o!==null&&(o.selected=!0)}}function Ct(n,o){if(o.dangerouslySetInnerHTML!=null)throw Error(s(91));return U({},o,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function mr(n,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(s(92));if(ys(l)){if(1<l.length)throw Error(s(93));l=l[0]}o=l}o==null&&(o=""),l=o}n._wrapperState={initialValue:fe(l)}}function ti(n,o){var l=fe(o.value),h=fe(o.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),o.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),h!=null&&(n.defaultValue=""+h)}function ni(n){var o=n.textContent;o===n._wrapperState.initialValue&&o!==""&&o!==null&&(n.value=o)}function js(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uo(n,o){return n==null||n==="http://www.w3.org/1999/xhtml"?js(o):n==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ws,Gs=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,x){MSApp.execUnsafeLocalFunction(function(){return n(o,l,h,x)})}:n})(function(n,o){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=o;else{for(ws=ws||document.createElement("div"),ws.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ws.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;o.firstChild;)n.appendChild(o.firstChild)}});function pn(n,o){if(o){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=o;return}}n.textContent=o}var Mr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Or=["Webkit","ms","Moz","O"];Object.keys(Mr).forEach(function(n){Or.forEach(function(o){o=o+n.charAt(0).toUpperCase()+n.substring(1),Mr[o]=Mr[n]})});function ri(n,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||Mr.hasOwnProperty(n)&&Mr[n]?(""+o).trim():o+"px"}function si(n,o){n=n.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,x=ri(l,o[l],h);l==="float"&&(l="cssFloat"),h?n.setProperty(l,x):n[l]=x}}var oi=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ks(n,o){if(o){if(oi[n]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(s(137,n));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(s(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(s(61))}if(o.style!=null&&typeof o.style!="object")throw Error(s(62))}}function qo(n,o){if(n.indexOf("-")===-1)return typeof o.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bs=null;function mn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Yo=null,Ir=null,gr=null;function Go(n){if(n=pa(n)){if(typeof Yo!="function")throw Error(s(280));var o=n.stateNode;o&&(o=Si(o),Yo(n.stateNode,n.type,o))}}function Me(n){Ir?gr?gr.push(n):gr=[n]:Ir=n}function it(){if(Ir){var n=Ir,o=gr;if(gr=Ir=null,Go(n),o)for(n=0;n<o.length;n++)Go(o[n])}}function mt(n,o){return n(o)}function kt(){}var Lr=!1;function dt(n,o,l){if(Lr)return n(o,l);Lr=!0;try{return mt(n,o,l)}finally{Lr=!1,(Ir!==null||gr!==null)&&(kt(),it())}}function yt(n,o){var l=n.stateNode;if(l===null)return null;var h=Si(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(s(231,o,typeof l));return l}var $r=!1;if(f)try{var Nt={};Object.defineProperty(Nt,"passive",{get:function(){$r=!0}}),window.addEventListener("test",Nt,Nt),window.removeEventListener("test",Nt,Nt)}catch{$r=!1}function tn(n,o,l,h,x,j,_,A,O){var G=Array.prototype.slice.call(arguments,3);try{o.apply(l,G)}catch(ae){this.onError(ae)}}var Br=!1,gn=null,Ko=!1,lc=null,dj={onError:function(n){Br=!0,gn=n}};function uj(n,o,l,h,x,j,_,A,O){Br=!1,gn=null,tn.apply(dj,arguments)}function fj(n,o,l,h,x,j,_,A,O){if(uj.apply(this,arguments),Br){if(Br){var G=gn;Br=!1,gn=null}else throw Error(s(198));Ko||(Ko=!0,lc=G)}}function Cs(n){var o=n,l=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(l=o.return),n=o.return;while(n)}return o.tag===3?l:null}function th(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function nh(n){if(Cs(n)!==n)throw Error(s(188))}function hj(n){var o=n.alternate;if(!o){if(o=Cs(n),o===null)throw Error(s(188));return o!==n?null:n}for(var l=n,h=o;;){var x=l.return;if(x===null)break;var j=x.alternate;if(j===null){if(h=x.return,h!==null){l=h;continue}break}if(x.child===j.child){for(j=x.child;j;){if(j===l)return nh(x),n;if(j===h)return nh(x),o;j=j.sibling}throw Error(s(188))}if(l.return!==h.return)l=x,h=j;else{for(var _=!1,A=x.child;A;){if(A===l){_=!0,l=x,h=j;break}if(A===h){_=!0,h=x,l=j;break}A=A.sibling}if(!_){for(A=j.child;A;){if(A===l){_=!0,l=j,h=x;break}if(A===h){_=!0,h=j,l=x;break}A=A.sibling}if(!_)throw Error(s(189))}}if(l.alternate!==h)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?n:o}function rh(n){return n=hj(n),n!==null?sh(n):null}function sh(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var o=sh(n);if(o!==null)return o;n=n.sibling}return null}var oh=r.unstable_scheduleCallback,ah=r.unstable_cancelCallback,pj=r.unstable_shouldYield,mj=r.unstable_requestPaint,lt=r.unstable_now,gj=r.unstable_getCurrentPriorityLevel,cc=r.unstable_ImmediatePriority,ih=r.unstable_UserBlockingPriority,ai=r.unstable_NormalPriority,xj=r.unstable_LowPriority,lh=r.unstable_IdlePriority,ii=null,Kn=null;function vj(n){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(ii,n,void 0,(n.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:wj,yj=Math.log,jj=Math.LN2;function wj(n){return n>>>=0,n===0?32:31-(yj(n)/jj|0)|0}var li=64,ci=4194304;function Qo(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function di(n,o){var l=n.pendingLanes;if(l===0)return 0;var h=0,x=n.suspendedLanes,j=n.pingedLanes,_=l&268435455;if(_!==0){var A=_&~x;A!==0?h=Qo(A):(j&=_,j!==0&&(h=Qo(j)))}else _=l&~x,_!==0?h=Qo(_):j!==0&&(h=Qo(j));if(h===0)return 0;if(o!==0&&o!==h&&(o&x)===0&&(x=h&-h,j=o&-o,x>=j||x===16&&(j&4194240)!==0))return o;if((h&4)!==0&&(h|=l&16),o=n.entangledLanes,o!==0)for(n=n.entanglements,o&=h;0<o;)l=31-Pn(o),x=1<<l,h|=n[l],o&=~x;return h}function bj(n,o){switch(n){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cj(n,o){for(var l=n.suspendedLanes,h=n.pingedLanes,x=n.expirationTimes,j=n.pendingLanes;0<j;){var _=31-Pn(j),A=1<<_,O=x[_];O===-1?((A&l)===0||(A&h)!==0)&&(x[_]=bj(A,o)):O<=o&&(n.expiredLanes|=A),j&=~A}}function dc(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ch(){var n=li;return li<<=1,(li&4194240)===0&&(li=64),n}function uc(n){for(var o=[],l=0;31>l;l++)o.push(n);return o}function Jo(n,o,l){n.pendingLanes|=o,o!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,o=31-Pn(o),n[o]=l}function Nj(n,o){var l=n.pendingLanes&~o;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=o,n.mutableReadLanes&=o,n.entangledLanes&=o,o=n.entanglements;var h=n.eventTimes;for(n=n.expirationTimes;0<l;){var x=31-Pn(l),j=1<<x;o[x]=0,h[x]=-1,n[x]=-1,l&=~j}}function fc(n,o){var l=n.entangledLanes|=o;for(n=n.entanglements;l;){var h=31-Pn(l),x=1<<h;x&o|n[h]&o&&(n[h]|=o),l&=~x}}var Ge=0;function dh(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var uh,hc,fh,hh,ph,pc=!1,ui=[],zr=null,Wr=null,Vr=null,Xo=new Map,Zo=new Map,Hr=[],Ej="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mh(n,o){switch(n){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":Xo.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(o.pointerId)}}function ea(n,o,l,h,x,j){return n===null||n.nativeEvent!==j?(n={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:j,targetContainers:[x]},o!==null&&(o=pa(o),o!==null&&hc(o)),n):(n.eventSystemFlags|=h,o=n.targetContainers,x!==null&&o.indexOf(x)===-1&&o.push(x),n)}function Sj(n,o,l,h,x){switch(o){case"focusin":return zr=ea(zr,n,o,l,h,x),!0;case"dragenter":return Wr=ea(Wr,n,o,l,h,x),!0;case"mouseover":return Vr=ea(Vr,n,o,l,h,x),!0;case"pointerover":var j=x.pointerId;return Xo.set(j,ea(Xo.get(j)||null,n,o,l,h,x)),!0;case"gotpointercapture":return j=x.pointerId,Zo.set(j,ea(Zo.get(j)||null,n,o,l,h,x)),!0}return!1}function gh(n){var o=Ns(n.target);if(o!==null){var l=Cs(o);if(l!==null){if(o=l.tag,o===13){if(o=th(l),o!==null){n.blockedOn=o,ph(n.priority,function(){fh(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function fi(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var l=gc(n.domEventName,n.eventSystemFlags,o[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var h=new l.constructor(l.type,l);bs=h,l.target.dispatchEvent(h),bs=null}else return o=pa(l),o!==null&&hc(o),n.blockedOn=l,!1;o.shift()}return!0}function xh(n,o,l){fi(n)&&l.delete(o)}function _j(){pc=!1,zr!==null&&fi(zr)&&(zr=null),Wr!==null&&fi(Wr)&&(Wr=null),Vr!==null&&fi(Vr)&&(Vr=null),Xo.forEach(xh),Zo.forEach(xh)}function ta(n,o){n.blockedOn===o&&(n.blockedOn=null,pc||(pc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_j)))}function na(n){function o(x){return ta(x,n)}if(0<ui.length){ta(ui[0],n);for(var l=1;l<ui.length;l++){var h=ui[l];h.blockedOn===n&&(h.blockedOn=null)}}for(zr!==null&&ta(zr,n),Wr!==null&&ta(Wr,n),Vr!==null&&ta(Vr,n),Xo.forEach(o),Zo.forEach(o),l=0;l<Hr.length;l++)h=Hr[l],h.blockedOn===n&&(h.blockedOn=null);for(;0<Hr.length&&(l=Hr[0],l.blockedOn===null);)gh(l),l.blockedOn===null&&Hr.shift()}var Qs=R.ReactCurrentBatchConfig,hi=!0;function kj(n,o,l,h){var x=Ge,j=Qs.transition;Qs.transition=null;try{Ge=1,mc(n,o,l,h)}finally{Ge=x,Qs.transition=j}}function Fj(n,o,l,h){var x=Ge,j=Qs.transition;Qs.transition=null;try{Ge=4,mc(n,o,l,h)}finally{Ge=x,Qs.transition=j}}function mc(n,o,l,h){if(hi){var x=gc(n,o,l,h);if(x===null)Ac(n,o,h,pi,l),mh(n,h);else if(Sj(x,n,o,l,h))h.stopPropagation();else if(mh(n,h),o&4&&-1<Ej.indexOf(n)){for(;x!==null;){var j=pa(x);if(j!==null&&uh(j),j=gc(n,o,l,h),j===null&&Ac(n,o,h,pi,l),j===x)break;x=j}x!==null&&h.stopPropagation()}else Ac(n,o,h,null,l)}}var pi=null;function gc(n,o,l,h){if(pi=null,n=mn(h),n=Ns(n),n!==null)if(o=Cs(n),o===null)n=null;else if(l=o.tag,l===13){if(n=th(o),n!==null)return n;n=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null);return pi=n,null}function vh(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gj()){case cc:return 1;case ih:return 4;case ai:case xj:return 16;case lh:return 536870912;default:return 16}default:return 16}}var Ur=null,xc=null,mi=null;function yh(){if(mi)return mi;var n,o=xc,l=o.length,h,x="value"in Ur?Ur.value:Ur.textContent,j=x.length;for(n=0;n<l&&o[n]===x[n];n++);var _=l-n;for(h=1;h<=_&&o[l-h]===x[j-h];h++);return mi=x.slice(n,1<h?1-h:void 0)}function gi(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function xi(){return!0}function jh(){return!1}function nn(n){function o(l,h,x,j,_){this._reactName=l,this._targetInst=x,this.type=h,this.nativeEvent=j,this.target=_,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(l=n[A],this[A]=l?l(j):j[A]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?xi:jh,this.isPropagationStopped=jh,this}return U(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),o}var Js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vc=nn(Js),ra=U({},Js,{view:0,detail:0}),Dj=nn(ra),yc,jc,sa,vi=U({},ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==sa&&(sa&&n.type==="mousemove"?(yc=n.screenX-sa.screenX,jc=n.screenY-sa.screenY):jc=yc=0,sa=n),yc)},movementY:function(n){return"movementY"in n?n.movementY:jc}}),wh=nn(vi),Rj=U({},vi,{dataTransfer:0}),Pj=nn(Rj),Aj=U({},ra,{relatedTarget:0}),wc=nn(Aj),Tj=U({},Js,{animationName:0,elapsedTime:0,pseudoElement:0}),Mj=nn(Tj),Oj=U({},Js,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ij=nn(Oj),Lj=U({},Js,{data:0}),bh=nn(Lj),$j={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wj(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=zj[n])?!!o[n]:!1}function bc(){return Wj}var Vj=U({},ra,{key:function(n){if(n.key){var o=$j[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=gi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Bj[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bc,charCode:function(n){return n.type==="keypress"?gi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?gi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Hj=nn(Vj),Uj=U({},vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ch=nn(Uj),qj=U({},ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bc}),Yj=nn(qj),Gj=U({},Js,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kj=nn(Gj),Qj=U({},vi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Jj=nn(Qj),Xj=[9,13,27,32],Cc=f&&"CompositionEvent"in window,oa=null;f&&"documentMode"in document&&(oa=document.documentMode);var Zj=f&&"TextEvent"in window&&!oa,Nh=f&&(!Cc||oa&&8<oa&&11>=oa),Eh=" ",Sh=!1;function _h(n,o){switch(n){case"keyup":return Xj.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kh(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Xs=!1;function ew(n,o){switch(n){case"compositionend":return kh(o);case"keypress":return o.which!==32?null:(Sh=!0,Eh);case"textInput":return n=o.data,n===Eh&&Sh?null:n;default:return null}}function tw(n,o){if(Xs)return n==="compositionend"||!Cc&&_h(n,o)?(n=yh(),mi=xc=Ur=null,Xs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Nh&&o.locale!=="ko"?null:o.data;default:return null}}var nw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fh(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!nw[n.type]:o==="textarea"}function Dh(n,o,l,h){Me(h),o=Ci(o,"onChange"),0<o.length&&(l=new vc("onChange","change",null,l,h),n.push({event:l,listeners:o}))}var aa=null,ia=null;function rw(n){Gh(n,0)}function yi(n){var o=ro(n);if(Ve(o))return n}function sw(n,o){if(n==="change")return o}var Rh=!1;if(f){var Nc;if(f){var Ec="oninput"in document;if(!Ec){var Ph=document.createElement("div");Ph.setAttribute("oninput","return;"),Ec=typeof Ph.oninput=="function"}Nc=Ec}else Nc=!1;Rh=Nc&&(!document.documentMode||9<document.documentMode)}function Ah(){aa&&(aa.detachEvent("onpropertychange",Th),ia=aa=null)}function Th(n){if(n.propertyName==="value"&&yi(ia)){var o=[];Dh(o,ia,n,mn(n)),dt(rw,o)}}function ow(n,o,l){n==="focusin"?(Ah(),aa=o,ia=l,aa.attachEvent("onpropertychange",Th)):n==="focusout"&&Ah()}function aw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return yi(ia)}function iw(n,o){if(n==="click")return yi(o)}function lw(n,o){if(n==="input"||n==="change")return yi(o)}function cw(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var An=typeof Object.is=="function"?Object.is:cw;function la(n,o){if(An(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var l=Object.keys(n),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var x=l[h];if(!g.call(o,x)||!An(n[x],o[x]))return!1}return!0}function Mh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Oh(n,o){var l=Mh(n);n=0;for(var h;l;){if(l.nodeType===3){if(h=n+l.textContent.length,n<=o&&h>=o)return{node:l,offset:o-n};n=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Mh(l)}}function Ih(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?Ih(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function Lh(){for(var n=window,o=pt();o instanceof n.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)n=o.contentWindow;else break;o=pt(n.document)}return o}function Sc(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}function dw(n){var o=Lh(),l=n.focusedElem,h=n.selectionRange;if(o!==l&&l&&l.ownerDocument&&Ih(l.ownerDocument.documentElement,l)){if(h!==null&&Sc(l)){if(o=h.start,n=h.end,n===void 0&&(n=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(n,l.value.length);else if(n=(o=l.ownerDocument||document)&&o.defaultView||window,n.getSelection){n=n.getSelection();var x=l.textContent.length,j=Math.min(h.start,x);h=h.end===void 0?j:Math.min(h.end,x),!n.extend&&j>h&&(x=h,h=j,j=x),x=Oh(l,j);var _=Oh(l,h);x&&_&&(n.rangeCount!==1||n.anchorNode!==x.node||n.anchorOffset!==x.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(o=o.createRange(),o.setStart(x.node,x.offset),n.removeAllRanges(),j>h?(n.addRange(o),n.extend(_.node,_.offset)):(o.setEnd(_.node,_.offset),n.addRange(o)))}}for(o=[],n=l;n=n.parentNode;)n.nodeType===1&&o.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)n=o[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var uw=f&&"documentMode"in document&&11>=document.documentMode,Zs=null,_c=null,ca=null,kc=!1;function $h(n,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;kc||Zs==null||Zs!==pt(h)||(h=Zs,"selectionStart"in h&&Sc(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ca&&la(ca,h)||(ca=h,h=Ci(_c,"onSelect"),0<h.length&&(o=new vc("onSelect","select",null,o,l),n.push({event:o,listeners:h}),o.target=Zs)))}function ji(n,o){var l={};return l[n.toLowerCase()]=o.toLowerCase(),l["Webkit"+n]="webkit"+o,l["Moz"+n]="moz"+o,l}var eo={animationend:ji("Animation","AnimationEnd"),animationiteration:ji("Animation","AnimationIteration"),animationstart:ji("Animation","AnimationStart"),transitionend:ji("Transition","TransitionEnd")},Fc={},Bh={};f&&(Bh=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function wi(n){if(Fc[n])return Fc[n];if(!eo[n])return n;var o=eo[n],l;for(l in o)if(o.hasOwnProperty(l)&&l in Bh)return Fc[n]=o[l];return n}var zh=wi("animationend"),Wh=wi("animationiteration"),Vh=wi("animationstart"),Hh=wi("transitionend"),Uh=new Map,qh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qr(n,o){Uh.set(n,o),c(o,[n])}for(var Dc=0;Dc<qh.length;Dc++){var Rc=qh[Dc],fw=Rc.toLowerCase(),hw=Rc[0].toUpperCase()+Rc.slice(1);qr(fw,"on"+hw)}qr(zh,"onAnimationEnd"),qr(Wh,"onAnimationIteration"),qr(Vh,"onAnimationStart"),qr("dblclick","onDoubleClick"),qr("focusin","onFocus"),qr("focusout","onBlur"),qr(Hh,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pw=new Set("cancel close invalid load scroll toggle".split(" ").concat(da));function Yh(n,o,l){var h=n.type||"unknown-event";n.currentTarget=l,fj(h,o,void 0,n),n.currentTarget=null}function Gh(n,o){o=(o&4)!==0;for(var l=0;l<n.length;l++){var h=n[l],x=h.event;h=h.listeners;e:{var j=void 0;if(o)for(var _=h.length-1;0<=_;_--){var A=h[_],O=A.instance,G=A.currentTarget;if(A=A.listener,O!==j&&x.isPropagationStopped())break e;Yh(x,A,G),j=O}else for(_=0;_<h.length;_++){if(A=h[_],O=A.instance,G=A.currentTarget,A=A.listener,O!==j&&x.isPropagationStopped())break e;Yh(x,A,G),j=O}}}if(Ko)throw n=lc,Ko=!1,lc=null,n}function et(n,o){var l=o[$c];l===void 0&&(l=o[$c]=new Set);var h=n+"__bubble";l.has(h)||(Kh(o,n,2,!1),l.add(h))}function Pc(n,o,l){var h=0;o&&(h|=4),Kh(l,n,h,o)}var bi="_reactListening"+Math.random().toString(36).slice(2);function ua(n){if(!n[bi]){n[bi]=!0,a.forEach(function(l){l!=="selectionchange"&&(pw.has(l)||Pc(l,!1,n),Pc(l,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[bi]||(o[bi]=!0,Pc("selectionchange",!1,o))}}function Kh(n,o,l,h){switch(vh(o)){case 1:var x=kj;break;case 4:x=Fj;break;default:x=mc}l=x.bind(null,o,l,n),x=void 0,!$r||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(x=!0),h?x!==void 0?n.addEventListener(o,l,{capture:!0,passive:x}):n.addEventListener(o,l,!0):x!==void 0?n.addEventListener(o,l,{passive:x}):n.addEventListener(o,l,!1)}function Ac(n,o,l,h,x){var j=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var _=h.tag;if(_===3||_===4){var A=h.stateNode.containerInfo;if(A===x||A.nodeType===8&&A.parentNode===x)break;if(_===4)for(_=h.return;_!==null;){var O=_.tag;if((O===3||O===4)&&(O=_.stateNode.containerInfo,O===x||O.nodeType===8&&O.parentNode===x))return;_=_.return}for(;A!==null;){if(_=Ns(A),_===null)return;if(O=_.tag,O===5||O===6){h=j=_;continue e}A=A.parentNode}}h=h.return}dt(function(){var G=j,ae=mn(l),le=[];e:{var oe=Uh.get(n);if(oe!==void 0){var pe=vc,xe=n;switch(n){case"keypress":if(gi(l)===0)break e;case"keydown":case"keyup":pe=Hj;break;case"focusin":xe="focus",pe=wc;break;case"focusout":xe="blur",pe=wc;break;case"beforeblur":case"afterblur":pe=wc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=wh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Pj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Yj;break;case zh:case Wh:case Vh:pe=Mj;break;case Hh:pe=Kj;break;case"scroll":pe=Dj;break;case"wheel":pe=Jj;break;case"copy":case"cut":case"paste":pe=Ij;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=Ch}var je=(o&4)!==0,ct=!je&&n==="scroll",W=je?oe!==null?oe+"Capture":null:oe;je=[];for(var $=G,q;$!==null;){q=$;var de=q.stateNode;if(q.tag===5&&de!==null&&(q=de,W!==null&&(de=yt($,W),de!=null&&je.push(fa($,de,q)))),ct)break;$=$.return}0<je.length&&(oe=new pe(oe,xe,null,l,ae),le.push({event:oe,listeners:je}))}}if((o&7)===0){e:{if(oe=n==="mouseover"||n==="pointerover",pe=n==="mouseout"||n==="pointerout",oe&&l!==bs&&(xe=l.relatedTarget||l.fromElement)&&(Ns(xe)||xe[xr]))break e;if((pe||oe)&&(oe=ae.window===ae?ae:(oe=ae.ownerDocument)?oe.defaultView||oe.parentWindow:window,pe?(xe=l.relatedTarget||l.toElement,pe=G,xe=xe?Ns(xe):null,xe!==null&&(ct=Cs(xe),xe!==ct||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(pe=null,xe=G),pe!==xe)){if(je=wh,de="onMouseLeave",W="onMouseEnter",$="mouse",(n==="pointerout"||n==="pointerover")&&(je=Ch,de="onPointerLeave",W="onPointerEnter",$="pointer"),ct=pe==null?oe:ro(pe),q=xe==null?oe:ro(xe),oe=new je(de,$+"leave",pe,l,ae),oe.target=ct,oe.relatedTarget=q,de=null,Ns(ae)===G&&(je=new je(W,$+"enter",xe,l,ae),je.target=q,je.relatedTarget=ct,de=je),ct=de,pe&&xe)t:{for(je=pe,W=xe,$=0,q=je;q;q=to(q))$++;for(q=0,de=W;de;de=to(de))q++;for(;0<$-q;)je=to(je),$--;for(;0<q-$;)W=to(W),q--;for(;$--;){if(je===W||W!==null&&je===W.alternate)break t;je=to(je),W=to(W)}je=null}else je=null;pe!==null&&Qh(le,oe,pe,je,!1),xe!==null&&ct!==null&&Qh(le,ct,xe,je,!0)}}e:{if(oe=G?ro(G):window,pe=oe.nodeName&&oe.nodeName.toLowerCase(),pe==="select"||pe==="input"&&oe.type==="file")var we=sw;else if(Fh(oe))if(Rh)we=lw;else{we=aw;var ke=ow}else(pe=oe.nodeName)&&pe.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(we=iw);if(we&&(we=we(n,G))){Dh(le,we,l,ae);break e}ke&&ke(n,oe,G),n==="focusout"&&(ke=oe._wrapperState)&&ke.controlled&&oe.type==="number"&&en(oe,"number",oe.value)}switch(ke=G?ro(G):window,n){case"focusin":(Fh(ke)||ke.contentEditable==="true")&&(Zs=ke,_c=G,ca=null);break;case"focusout":ca=_c=Zs=null;break;case"mousedown":kc=!0;break;case"contextmenu":case"mouseup":case"dragend":kc=!1,$h(le,l,ae);break;case"selectionchange":if(uw)break;case"keydown":case"keyup":$h(le,l,ae)}var Fe;if(Cc)e:{switch(n){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Xs?_h(n,l)&&(Pe="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Pe="onCompositionStart");Pe&&(Nh&&l.locale!=="ko"&&(Xs||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Xs&&(Fe=yh()):(Ur=ae,xc="value"in Ur?Ur.value:Ur.textContent,Xs=!0)),ke=Ci(G,Pe),0<ke.length&&(Pe=new bh(Pe,n,null,l,ae),le.push({event:Pe,listeners:ke}),Fe?Pe.data=Fe:(Fe=kh(l),Fe!==null&&(Pe.data=Fe)))),(Fe=Zj?ew(n,l):tw(n,l))&&(G=Ci(G,"onBeforeInput"),0<G.length&&(ae=new bh("onBeforeInput","beforeinput",null,l,ae),le.push({event:ae,listeners:G}),ae.data=Fe))}Gh(le,o)})}function fa(n,o,l){return{instance:n,listener:o,currentTarget:l}}function Ci(n,o){for(var l=o+"Capture",h=[];n!==null;){var x=n,j=x.stateNode;x.tag===5&&j!==null&&(x=j,j=yt(n,l),j!=null&&h.unshift(fa(n,j,x)),j=yt(n,o),j!=null&&h.push(fa(n,j,x))),n=n.return}return h}function to(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Qh(n,o,l,h,x){for(var j=o._reactName,_=[];l!==null&&l!==h;){var A=l,O=A.alternate,G=A.stateNode;if(O!==null&&O===h)break;A.tag===5&&G!==null&&(A=G,x?(O=yt(l,j),O!=null&&_.unshift(fa(l,O,A))):x||(O=yt(l,j),O!=null&&_.push(fa(l,O,A)))),l=l.return}_.length!==0&&n.push({event:o,listeners:_})}var mw=/\r\n?/g,gw=/\u0000|\uFFFD/g;function Jh(n){return(typeof n=="string"?n:""+n).replace(mw,`
`).replace(gw,"")}function Ni(n,o,l){if(o=Jh(o),Jh(n)!==o&&l)throw Error(s(425))}function Ei(){}var Tc=null,Mc=null;function Oc(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ic=typeof setTimeout=="function"?setTimeout:void 0,xw=typeof clearTimeout=="function"?clearTimeout:void 0,Xh=typeof Promise=="function"?Promise:void 0,vw=typeof queueMicrotask=="function"?queueMicrotask:typeof Xh<"u"?function(n){return Xh.resolve(null).then(n).catch(yw)}:Ic;function yw(n){setTimeout(function(){throw n})}function Lc(n,o){var l=o,h=0;do{var x=l.nextSibling;if(n.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"){if(h===0){n.removeChild(x),na(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=x}while(l);na(o)}function Yr(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return n}function Zh(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return n;o--}else l==="/$"&&o++}n=n.previousSibling}return null}var no=Math.random().toString(36).slice(2),Qn="__reactFiber$"+no,ha="__reactProps$"+no,xr="__reactContainer$"+no,$c="__reactEvents$"+no,jw="__reactListeners$"+no,ww="__reactHandles$"+no;function Ns(n){var o=n[Qn];if(o)return o;for(var l=n.parentNode;l;){if(o=l[xr]||l[Qn]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(n=Zh(n);n!==null;){if(l=n[Qn])return l;n=Zh(n)}return o}n=l,l=n.parentNode}return null}function pa(n){return n=n[Qn]||n[xr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ro(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(s(33))}function Si(n){return n[ha]||null}var Bc=[],so=-1;function Gr(n){return{current:n}}function tt(n){0>so||(n.current=Bc[so],Bc[so]=null,so--)}function Xe(n,o){so++,Bc[so]=n.current,n.current=o}var Kr={},Ft=Gr(Kr),Bt=Gr(!1),Es=Kr;function oo(n,o){var l=n.type.contextTypes;if(!l)return Kr;var h=n.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var x={},j;for(j in l)x[j]=o[j];return h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=x),x}function zt(n){return n=n.childContextTypes,n!=null}function _i(){tt(Bt),tt(Ft)}function ep(n,o,l){if(Ft.current!==Kr)throw Error(s(168));Xe(Ft,o),Xe(Bt,l)}function tp(n,o,l){var h=n.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var x in h)if(!(x in o))throw Error(s(108,ie(n)||"Unknown",x));return U({},l,h)}function ki(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Kr,Es=Ft.current,Xe(Ft,n),Xe(Bt,Bt.current),!0}function np(n,o,l){var h=n.stateNode;if(!h)throw Error(s(169));l?(n=tp(n,o,Es),h.__reactInternalMemoizedMergedChildContext=n,tt(Bt),tt(Ft),Xe(Ft,n)):tt(Bt),Xe(Bt,l)}var vr=null,Fi=!1,zc=!1;function rp(n){vr===null?vr=[n]:vr.push(n)}function bw(n){Fi=!0,rp(n)}function Qr(){if(!zc&&vr!==null){zc=!0;var n=0,o=Ge;try{var l=vr;for(Ge=1;n<l.length;n++){var h=l[n];do h=h(!0);while(h!==null)}vr=null,Fi=!1}catch(x){throw vr!==null&&(vr=vr.slice(n+1)),oh(cc,Qr),x}finally{Ge=o,zc=!1}}return null}var ao=[],io=0,Di=null,Ri=0,xn=[],vn=0,Ss=null,yr=1,jr="";function _s(n,o){ao[io++]=Ri,ao[io++]=Di,Di=n,Ri=o}function sp(n,o,l){xn[vn++]=yr,xn[vn++]=jr,xn[vn++]=Ss,Ss=n;var h=yr;n=jr;var x=32-Pn(h)-1;h&=~(1<<x),l+=1;var j=32-Pn(o)+x;if(30<j){var _=x-x%5;j=(h&(1<<_)-1).toString(32),h>>=_,x-=_,yr=1<<32-Pn(o)+x|l<<x|h,jr=j+n}else yr=1<<j|l<<x|h,jr=n}function Wc(n){n.return!==null&&(_s(n,1),sp(n,1,0))}function Vc(n){for(;n===Di;)Di=ao[--io],ao[io]=null,Ri=ao[--io],ao[io]=null;for(;n===Ss;)Ss=xn[--vn],xn[vn]=null,jr=xn[--vn],xn[vn]=null,yr=xn[--vn],xn[vn]=null}var rn=null,sn=null,nt=!1,Tn=null;function op(n,o){var l=bn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=n,o=n.deletions,o===null?(n.deletions=[l],n.flags|=16):o.push(l)}function ap(n,o){switch(n.tag){case 5:var l=n.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(n.stateNode=o,rn=n,sn=Yr(o.firstChild),!0):!1;case 6:return o=n.pendingProps===""||o.nodeType!==3?null:o,o!==null?(n.stateNode=o,rn=n,sn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Ss!==null?{id:yr,overflow:jr}:null,n.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=bn(18,null,null,0),l.stateNode=o,l.return=n,n.child=l,rn=n,sn=null,!0):!1;default:return!1}}function Hc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Uc(n){if(nt){var o=sn;if(o){var l=o;if(!ap(n,o)){if(Hc(n))throw Error(s(418));o=Yr(l.nextSibling);var h=rn;o&&ap(n,o)?op(h,l):(n.flags=n.flags&-4097|2,nt=!1,rn=n)}}else{if(Hc(n))throw Error(s(418));n.flags=n.flags&-4097|2,nt=!1,rn=n}}}function ip(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;rn=n}function Pi(n){if(n!==rn)return!1;if(!nt)return ip(n),nt=!0,!1;var o;if((o=n.tag!==3)&&!(o=n.tag!==5)&&(o=n.type,o=o!=="head"&&o!=="body"&&!Oc(n.type,n.memoizedProps)),o&&(o=sn)){if(Hc(n))throw lp(),Error(s(418));for(;o;)op(n,o),o=Yr(o.nextSibling)}if(ip(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,o=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(o===0){sn=Yr(n.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}n=n.nextSibling}sn=null}}else sn=rn?Yr(n.stateNode.nextSibling):null;return!0}function lp(){for(var n=sn;n;)n=Yr(n.nextSibling)}function lo(){sn=rn=null,nt=!1}function qc(n){Tn===null?Tn=[n]:Tn.push(n)}var Cw=R.ReactCurrentBatchConfig;function ma(n,o,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(s(309));var h=l.stateNode}if(!h)throw Error(s(147,n));var x=h,j=""+n;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===j?o.ref:(o=function(_){var A=x.refs;_===null?delete A[j]:A[j]=_},o._stringRef=j,o)}if(typeof n!="string")throw Error(s(284));if(!l._owner)throw Error(s(290,n))}return n}function Ai(n,o){throw n=Object.prototype.toString.call(o),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n))}function cp(n){var o=n._init;return o(n._payload)}function dp(n){function o(W,$){if(n){var q=W.deletions;q===null?(W.deletions=[$],W.flags|=16):q.push($)}}function l(W,$){if(!n)return null;for(;$!==null;)o(W,$),$=$.sibling;return null}function h(W,$){for(W=new Map;$!==null;)$.key!==null?W.set($.key,$):W.set($.index,$),$=$.sibling;return W}function x(W,$){return W=ss(W,$),W.index=0,W.sibling=null,W}function j(W,$,q){return W.index=q,n?(q=W.alternate,q!==null?(q=q.index,q<$?(W.flags|=2,$):q):(W.flags|=2,$)):(W.flags|=1048576,$)}function _(W){return n&&W.alternate===null&&(W.flags|=2),W}function A(W,$,q,de){return $===null||$.tag!==6?($=Id(q,W.mode,de),$.return=W,$):($=x($,q),$.return=W,$)}function O(W,$,q,de){var we=q.type;return we===P?ae(W,$,q.props.children,de,q.key):$!==null&&($.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===H&&cp(we)===$.type)?(de=x($,q.props),de.ref=ma(W,$,q),de.return=W,de):(de=rl(q.type,q.key,q.props,null,W.mode,de),de.ref=ma(W,$,q),de.return=W,de)}function G(W,$,q,de){return $===null||$.tag!==4||$.stateNode.containerInfo!==q.containerInfo||$.stateNode.implementation!==q.implementation?($=Ld(q,W.mode,de),$.return=W,$):($=x($,q.children||[]),$.return=W,$)}function ae(W,$,q,de,we){return $===null||$.tag!==7?($=Ms(q,W.mode,de,we),$.return=W,$):($=x($,q),$.return=W,$)}function le(W,$,q){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Id(""+$,W.mode,q),$.return=W,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case T:return q=rl($.type,$.key,$.props,null,W.mode,q),q.ref=ma(W,null,$),q.return=W,q;case D:return $=Ld($,W.mode,q),$.return=W,$;case H:var de=$._init;return le(W,de($._payload),q)}if(ys($)||ee($))return $=Ms($,W.mode,q,null),$.return=W,$;Ai(W,$)}return null}function oe(W,$,q,de){var we=$!==null?$.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return we!==null?null:A(W,$,""+q,de);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case T:return q.key===we?O(W,$,q,de):null;case D:return q.key===we?G(W,$,q,de):null;case H:return we=q._init,oe(W,$,we(q._payload),de)}if(ys(q)||ee(q))return we!==null?null:ae(W,$,q,de,null);Ai(W,q)}return null}function pe(W,$,q,de,we){if(typeof de=="string"&&de!==""||typeof de=="number")return W=W.get(q)||null,A($,W,""+de,we);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case T:return W=W.get(de.key===null?q:de.key)||null,O($,W,de,we);case D:return W=W.get(de.key===null?q:de.key)||null,G($,W,de,we);case H:var ke=de._init;return pe(W,$,q,ke(de._payload),we)}if(ys(de)||ee(de))return W=W.get(q)||null,ae($,W,de,we,null);Ai($,de)}return null}function xe(W,$,q,de){for(var we=null,ke=null,Fe=$,Pe=$=0,bt=null;Fe!==null&&Pe<q.length;Pe++){Fe.index>Pe?(bt=Fe,Fe=null):bt=Fe.sibling;var Ye=oe(W,Fe,q[Pe],de);if(Ye===null){Fe===null&&(Fe=bt);break}n&&Fe&&Ye.alternate===null&&o(W,Fe),$=j(Ye,$,Pe),ke===null?we=Ye:ke.sibling=Ye,ke=Ye,Fe=bt}if(Pe===q.length)return l(W,Fe),nt&&_s(W,Pe),we;if(Fe===null){for(;Pe<q.length;Pe++)Fe=le(W,q[Pe],de),Fe!==null&&($=j(Fe,$,Pe),ke===null?we=Fe:ke.sibling=Fe,ke=Fe);return nt&&_s(W,Pe),we}for(Fe=h(W,Fe);Pe<q.length;Pe++)bt=pe(Fe,W,Pe,q[Pe],de),bt!==null&&(n&&bt.alternate!==null&&Fe.delete(bt.key===null?Pe:bt.key),$=j(bt,$,Pe),ke===null?we=bt:ke.sibling=bt,ke=bt);return n&&Fe.forEach(function(os){return o(W,os)}),nt&&_s(W,Pe),we}function je(W,$,q,de){var we=ee(q);if(typeof we!="function")throw Error(s(150));if(q=we.call(q),q==null)throw Error(s(151));for(var ke=we=null,Fe=$,Pe=$=0,bt=null,Ye=q.next();Fe!==null&&!Ye.done;Pe++,Ye=q.next()){Fe.index>Pe?(bt=Fe,Fe=null):bt=Fe.sibling;var os=oe(W,Fe,Ye.value,de);if(os===null){Fe===null&&(Fe=bt);break}n&&Fe&&os.alternate===null&&o(W,Fe),$=j(os,$,Pe),ke===null?we=os:ke.sibling=os,ke=os,Fe=bt}if(Ye.done)return l(W,Fe),nt&&_s(W,Pe),we;if(Fe===null){for(;!Ye.done;Pe++,Ye=q.next())Ye=le(W,Ye.value,de),Ye!==null&&($=j(Ye,$,Pe),ke===null?we=Ye:ke.sibling=Ye,ke=Ye);return nt&&_s(W,Pe),we}for(Fe=h(W,Fe);!Ye.done;Pe++,Ye=q.next())Ye=pe(Fe,W,Pe,Ye.value,de),Ye!==null&&(n&&Ye.alternate!==null&&Fe.delete(Ye.key===null?Pe:Ye.key),$=j(Ye,$,Pe),ke===null?we=Ye:ke.sibling=Ye,ke=Ye);return n&&Fe.forEach(function(n1){return o(W,n1)}),nt&&_s(W,Pe),we}function ct(W,$,q,de){if(typeof q=="object"&&q!==null&&q.type===P&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case T:e:{for(var we=q.key,ke=$;ke!==null;){if(ke.key===we){if(we=q.type,we===P){if(ke.tag===7){l(W,ke.sibling),$=x(ke,q.props.children),$.return=W,W=$;break e}}else if(ke.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===H&&cp(we)===ke.type){l(W,ke.sibling),$=x(ke,q.props),$.ref=ma(W,ke,q),$.return=W,W=$;break e}l(W,ke);break}else o(W,ke);ke=ke.sibling}q.type===P?($=Ms(q.props.children,W.mode,de,q.key),$.return=W,W=$):(de=rl(q.type,q.key,q.props,null,W.mode,de),de.ref=ma(W,$,q),de.return=W,W=de)}return _(W);case D:e:{for(ke=q.key;$!==null;){if($.key===ke)if($.tag===4&&$.stateNode.containerInfo===q.containerInfo&&$.stateNode.implementation===q.implementation){l(W,$.sibling),$=x($,q.children||[]),$.return=W,W=$;break e}else{l(W,$);break}else o(W,$);$=$.sibling}$=Ld(q,W.mode,de),$.return=W,W=$}return _(W);case H:return ke=q._init,ct(W,$,ke(q._payload),de)}if(ys(q))return xe(W,$,q,de);if(ee(q))return je(W,$,q,de);Ai(W,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,$!==null&&$.tag===6?(l(W,$.sibling),$=x($,q),$.return=W,W=$):(l(W,$),$=Id(q,W.mode,de),$.return=W,W=$),_(W)):l(W,$)}return ct}var co=dp(!0),up=dp(!1),Ti=Gr(null),Mi=null,uo=null,Yc=null;function Gc(){Yc=uo=Mi=null}function Kc(n){var o=Ti.current;tt(Ti),n._currentValue=o}function Qc(n,o,l){for(;n!==null;){var h=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),n===l)break;n=n.return}}function fo(n,o){Mi=n,Yc=uo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&o)!==0&&(Wt=!0),n.firstContext=null)}function yn(n){var o=n._currentValue;if(Yc!==n)if(n={context:n,memoizedValue:o,next:null},uo===null){if(Mi===null)throw Error(s(308));uo=n,Mi.dependencies={lanes:0,firstContext:n}}else uo=uo.next=n;return o}var ks=null;function Jc(n){ks===null?ks=[n]:ks.push(n)}function fp(n,o,l,h){var x=o.interleaved;return x===null?(l.next=l,Jc(o)):(l.next=x.next,x.next=l),o.interleaved=l,wr(n,h)}function wr(n,o){n.lanes|=o;var l=n.alternate;for(l!==null&&(l.lanes|=o),l=n,n=n.return;n!==null;)n.childLanes|=o,l=n.alternate,l!==null&&(l.childLanes|=o),l=n,n=n.return;return l.tag===3?l.stateNode:null}var Jr=!1;function Xc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hp(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function br(n,o){return{eventTime:n,lane:o,tag:0,payload:null,callback:null,next:null}}function Xr(n,o,l){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(Ue&2)!==0){var x=h.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),h.pending=o,wr(n,l)}return x=h.interleaved,x===null?(o.next=o,Jc(h)):(o.next=x.next,x.next=o),h.interleaved=o,wr(n,l)}function Oi(n,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=n.pendingLanes,l|=h,o.lanes=l,fc(n,l)}}function pp(n,o){var l=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var x=null,j=null;if(l=l.firstBaseUpdate,l!==null){do{var _={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};j===null?x=j=_:j=j.next=_,l=l.next}while(l!==null);j===null?x=j=o:j=j.next=o}else x=j=o;l={baseState:h.baseState,firstBaseUpdate:x,lastBaseUpdate:j,shared:h.shared,effects:h.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=o:n.next=o,l.lastBaseUpdate=o}function Ii(n,o,l,h){var x=n.updateQueue;Jr=!1;var j=x.firstBaseUpdate,_=x.lastBaseUpdate,A=x.shared.pending;if(A!==null){x.shared.pending=null;var O=A,G=O.next;O.next=null,_===null?j=G:_.next=G,_=O;var ae=n.alternate;ae!==null&&(ae=ae.updateQueue,A=ae.lastBaseUpdate,A!==_&&(A===null?ae.firstBaseUpdate=G:A.next=G,ae.lastBaseUpdate=O))}if(j!==null){var le=x.baseState;_=0,ae=G=O=null,A=j;do{var oe=A.lane,pe=A.eventTime;if((h&oe)===oe){ae!==null&&(ae=ae.next={eventTime:pe,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var xe=n,je=A;switch(oe=o,pe=l,je.tag){case 1:if(xe=je.payload,typeof xe=="function"){le=xe.call(pe,le,oe);break e}le=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=je.payload,oe=typeof xe=="function"?xe.call(pe,le,oe):xe,oe==null)break e;le=U({},le,oe);break e;case 2:Jr=!0}}A.callback!==null&&A.lane!==0&&(n.flags|=64,oe=x.effects,oe===null?x.effects=[A]:oe.push(A))}else pe={eventTime:pe,lane:oe,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ae===null?(G=ae=pe,O=le):ae=ae.next=pe,_|=oe;if(A=A.next,A===null){if(A=x.shared.pending,A===null)break;oe=A,A=oe.next,oe.next=null,x.lastBaseUpdate=oe,x.shared.pending=null}}while(!0);if(ae===null&&(O=le),x.baseState=O,x.firstBaseUpdate=G,x.lastBaseUpdate=ae,o=x.shared.interleaved,o!==null){x=o;do _|=x.lane,x=x.next;while(x!==o)}else j===null&&(x.shared.lanes=0);Rs|=_,n.lanes=_,n.memoizedState=le}}function mp(n,o,l){if(n=o.effects,o.effects=null,n!==null)for(o=0;o<n.length;o++){var h=n[o],x=h.callback;if(x!==null){if(h.callback=null,h=l,typeof x!="function")throw Error(s(191,x));x.call(h)}}}var ga={},Jn=Gr(ga),xa=Gr(ga),va=Gr(ga);function Fs(n){if(n===ga)throw Error(s(174));return n}function Zc(n,o){switch(Xe(va,o),Xe(xa,n),Xe(Jn,ga),n=o.nodeType,n){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Uo(null,"");break;default:n=n===8?o.parentNode:o,o=n.namespaceURI||null,n=n.tagName,o=Uo(o,n)}tt(Jn),Xe(Jn,o)}function ho(){tt(Jn),tt(xa),tt(va)}function gp(n){Fs(va.current);var o=Fs(Jn.current),l=Uo(o,n.type);o!==l&&(Xe(xa,n),Xe(Jn,l))}function ed(n){xa.current===n&&(tt(Jn),tt(xa))}var rt=Gr(0);function Li(n){for(var o=n;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var td=[];function nd(){for(var n=0;n<td.length;n++)td[n]._workInProgressVersionPrimary=null;td.length=0}var $i=R.ReactCurrentDispatcher,rd=R.ReactCurrentBatchConfig,Ds=0,st=null,gt=null,jt=null,Bi=!1,ya=!1,ja=0,Nw=0;function Dt(){throw Error(s(321))}function sd(n,o){if(o===null)return!1;for(var l=0;l<o.length&&l<n.length;l++)if(!An(n[l],o[l]))return!1;return!0}function od(n,o,l,h,x,j){if(Ds=j,st=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,$i.current=n===null||n.memoizedState===null?kw:Fw,n=l(h,x),ya){j=0;do{if(ya=!1,ja=0,25<=j)throw Error(s(301));j+=1,jt=gt=null,o.updateQueue=null,$i.current=Dw,n=l(h,x)}while(ya)}if($i.current=Vi,o=gt!==null&&gt.next!==null,Ds=0,jt=gt=st=null,Bi=!1,o)throw Error(s(300));return n}function ad(){var n=ja!==0;return ja=0,n}function Xn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?st.memoizedState=jt=n:jt=jt.next=n,jt}function jn(){if(gt===null){var n=st.alternate;n=n!==null?n.memoizedState:null}else n=gt.next;var o=jt===null?st.memoizedState:jt.next;if(o!==null)jt=o,gt=n;else{if(n===null)throw Error(s(310));gt=n,n={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},jt===null?st.memoizedState=jt=n:jt=jt.next=n}return jt}function wa(n,o){return typeof o=="function"?o(n):o}function id(n){var o=jn(),l=o.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=n;var h=gt,x=h.baseQueue,j=l.pending;if(j!==null){if(x!==null){var _=x.next;x.next=j.next,j.next=_}h.baseQueue=x=j,l.pending=null}if(x!==null){j=x.next,h=h.baseState;var A=_=null,O=null,G=j;do{var ae=G.lane;if((Ds&ae)===ae)O!==null&&(O=O.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),h=G.hasEagerState?G.eagerState:n(h,G.action);else{var le={lane:ae,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};O===null?(A=O=le,_=h):O=O.next=le,st.lanes|=ae,Rs|=ae}G=G.next}while(G!==null&&G!==j);O===null?_=h:O.next=A,An(h,o.memoizedState)||(Wt=!0),o.memoizedState=h,o.baseState=_,o.baseQueue=O,l.lastRenderedState=h}if(n=l.interleaved,n!==null){x=n;do j=x.lane,st.lanes|=j,Rs|=j,x=x.next;while(x!==n)}else x===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function ld(n){var o=jn(),l=o.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=n;var h=l.dispatch,x=l.pending,j=o.memoizedState;if(x!==null){l.pending=null;var _=x=x.next;do j=n(j,_.action),_=_.next;while(_!==x);An(j,o.memoizedState)||(Wt=!0),o.memoizedState=j,o.baseQueue===null&&(o.baseState=j),l.lastRenderedState=j}return[j,h]}function xp(){}function vp(n,o){var l=st,h=jn(),x=o(),j=!An(h.memoizedState,x);if(j&&(h.memoizedState=x,Wt=!0),h=h.queue,cd(wp.bind(null,l,h,n),[n]),h.getSnapshot!==o||j||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,ba(9,jp.bind(null,l,h,x,o),void 0,null),wt===null)throw Error(s(349));(Ds&30)!==0||yp(l,o,x)}return x}function yp(n,o,l){n.flags|=16384,n={getSnapshot:o,value:l},o=st.updateQueue,o===null?(o={lastEffect:null,stores:null},st.updateQueue=o,o.stores=[n]):(l=o.stores,l===null?o.stores=[n]:l.push(n))}function jp(n,o,l,h){o.value=l,o.getSnapshot=h,bp(o)&&Cp(n)}function wp(n,o,l){return l(function(){bp(o)&&Cp(n)})}function bp(n){var o=n.getSnapshot;n=n.value;try{var l=o();return!An(n,l)}catch{return!0}}function Cp(n){var o=wr(n,1);o!==null&&Ln(o,n,1,-1)}function Np(n){var o=Xn();return typeof n=="function"&&(n=n()),o.memoizedState=o.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:n},o.queue=n,n=n.dispatch=_w.bind(null,st,n),[o.memoizedState,n]}function ba(n,o,l,h){return n={tag:n,create:o,destroy:l,deps:h,next:null},o=st.updateQueue,o===null?(o={lastEffect:null,stores:null},st.updateQueue=o,o.lastEffect=n.next=n):(l=o.lastEffect,l===null?o.lastEffect=n.next=n:(h=l.next,l.next=n,n.next=h,o.lastEffect=n)),n}function Ep(){return jn().memoizedState}function zi(n,o,l,h){var x=Xn();st.flags|=n,x.memoizedState=ba(1|o,l,void 0,h===void 0?null:h)}function Wi(n,o,l,h){var x=jn();h=h===void 0?null:h;var j=void 0;if(gt!==null){var _=gt.memoizedState;if(j=_.destroy,h!==null&&sd(h,_.deps)){x.memoizedState=ba(o,l,j,h);return}}st.flags|=n,x.memoizedState=ba(1|o,l,j,h)}function Sp(n,o){return zi(8390656,8,n,o)}function cd(n,o){return Wi(2048,8,n,o)}function _p(n,o){return Wi(4,2,n,o)}function kp(n,o){return Wi(4,4,n,o)}function Fp(n,o){if(typeof o=="function")return n=n(),o(n),function(){o(null)};if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function Dp(n,o,l){return l=l!=null?l.concat([n]):null,Wi(4,4,Fp.bind(null,o,n),l)}function dd(){}function Rp(n,o){var l=jn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&sd(o,h[1])?h[0]:(l.memoizedState=[n,o],n)}function Pp(n,o){var l=jn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&sd(o,h[1])?h[0]:(n=n(),l.memoizedState=[n,o],n)}function Ap(n,o,l){return(Ds&21)===0?(n.baseState&&(n.baseState=!1,Wt=!0),n.memoizedState=l):(An(l,o)||(l=ch(),st.lanes|=l,Rs|=l,n.baseState=!0),o)}function Ew(n,o){var l=Ge;Ge=l!==0&&4>l?l:4,n(!0);var h=rd.transition;rd.transition={};try{n(!1),o()}finally{Ge=l,rd.transition=h}}function Tp(){return jn().memoizedState}function Sw(n,o,l){var h=ns(n);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Mp(n))Op(o,l);else if(l=fp(n,o,l,h),l!==null){var x=Ot();Ln(l,n,h,x),Ip(l,o,h)}}function _w(n,o,l){var h=ns(n),x={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Mp(n))Op(o,x);else{var j=n.alternate;if(n.lanes===0&&(j===null||j.lanes===0)&&(j=o.lastRenderedReducer,j!==null))try{var _=o.lastRenderedState,A=j(_,l);if(x.hasEagerState=!0,x.eagerState=A,An(A,_)){var O=o.interleaved;O===null?(x.next=x,Jc(o)):(x.next=O.next,O.next=x),o.interleaved=x;return}}catch{}finally{}l=fp(n,o,x,h),l!==null&&(x=Ot(),Ln(l,n,h,x),Ip(l,o,h))}}function Mp(n){var o=n.alternate;return n===st||o!==null&&o===st}function Op(n,o){ya=Bi=!0;var l=n.pending;l===null?o.next=o:(o.next=l.next,l.next=o),n.pending=o}function Ip(n,o,l){if((l&4194240)!==0){var h=o.lanes;h&=n.pendingLanes,l|=h,o.lanes=l,fc(n,l)}}var Vi={readContext:yn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},kw={readContext:yn,useCallback:function(n,o){return Xn().memoizedState=[n,o===void 0?null:o],n},useContext:yn,useEffect:Sp,useImperativeHandle:function(n,o,l){return l=l!=null?l.concat([n]):null,zi(4194308,4,Fp.bind(null,o,n),l)},useLayoutEffect:function(n,o){return zi(4194308,4,n,o)},useInsertionEffect:function(n,o){return zi(4,2,n,o)},useMemo:function(n,o){var l=Xn();return o=o===void 0?null:o,n=n(),l.memoizedState=[n,o],n},useReducer:function(n,o,l){var h=Xn();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:o},h.queue=n,n=n.dispatch=Sw.bind(null,st,n),[h.memoizedState,n]},useRef:function(n){var o=Xn();return n={current:n},o.memoizedState=n},useState:Np,useDebugValue:dd,useDeferredValue:function(n){return Xn().memoizedState=n},useTransition:function(){var n=Np(!1),o=n[0];return n=Ew.bind(null,n[1]),Xn().memoizedState=n,[o,n]},useMutableSource:function(){},useSyncExternalStore:function(n,o,l){var h=st,x=Xn();if(nt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=o(),wt===null)throw Error(s(349));(Ds&30)!==0||yp(h,o,l)}x.memoizedState=l;var j={value:l,getSnapshot:o};return x.queue=j,Sp(wp.bind(null,h,j,n),[n]),h.flags|=2048,ba(9,jp.bind(null,h,j,l,o),void 0,null),l},useId:function(){var n=Xn(),o=wt.identifierPrefix;if(nt){var l=jr,h=yr;l=(h&~(1<<32-Pn(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=ja++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=Nw++,o=":"+o+"r"+l.toString(32)+":";return n.memoizedState=o},unstable_isNewReconciler:!1},Fw={readContext:yn,useCallback:Rp,useContext:yn,useEffect:cd,useImperativeHandle:Dp,useInsertionEffect:_p,useLayoutEffect:kp,useMemo:Pp,useReducer:id,useRef:Ep,useState:function(){return id(wa)},useDebugValue:dd,useDeferredValue:function(n){var o=jn();return Ap(o,gt.memoizedState,n)},useTransition:function(){var n=id(wa)[0],o=jn().memoizedState;return[n,o]},useMutableSource:xp,useSyncExternalStore:vp,useId:Tp,unstable_isNewReconciler:!1},Dw={readContext:yn,useCallback:Rp,useContext:yn,useEffect:cd,useImperativeHandle:Dp,useInsertionEffect:_p,useLayoutEffect:kp,useMemo:Pp,useReducer:ld,useRef:Ep,useState:function(){return ld(wa)},useDebugValue:dd,useDeferredValue:function(n){var o=jn();return gt===null?o.memoizedState=n:Ap(o,gt.memoizedState,n)},useTransition:function(){var n=ld(wa)[0],o=jn().memoizedState;return[n,o]},useMutableSource:xp,useSyncExternalStore:vp,useId:Tp,unstable_isNewReconciler:!1};function Mn(n,o){if(n&&n.defaultProps){o=U({},o),n=n.defaultProps;for(var l in n)o[l]===void 0&&(o[l]=n[l]);return o}return o}function ud(n,o,l,h){o=n.memoizedState,l=l(h,o),l=l==null?o:U({},o,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Hi={isMounted:function(n){return(n=n._reactInternals)?Cs(n)===n:!1},enqueueSetState:function(n,o,l){n=n._reactInternals;var h=Ot(),x=ns(n),j=br(h,x);j.payload=o,l!=null&&(j.callback=l),o=Xr(n,j,x),o!==null&&(Ln(o,n,x,h),Oi(o,n,x))},enqueueReplaceState:function(n,o,l){n=n._reactInternals;var h=Ot(),x=ns(n),j=br(h,x);j.tag=1,j.payload=o,l!=null&&(j.callback=l),o=Xr(n,j,x),o!==null&&(Ln(o,n,x,h),Oi(o,n,x))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var l=Ot(),h=ns(n),x=br(l,h);x.tag=2,o!=null&&(x.callback=o),o=Xr(n,x,h),o!==null&&(Ln(o,n,h,l),Oi(o,n,h))}};function Lp(n,o,l,h,x,j,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,j,_):o.prototype&&o.prototype.isPureReactComponent?!la(l,h)||!la(x,j):!0}function $p(n,o,l){var h=!1,x=Kr,j=o.contextType;return typeof j=="object"&&j!==null?j=yn(j):(x=zt(o)?Es:Ft.current,h=o.contextTypes,j=(h=h!=null)?oo(n,x):Kr),o=new o(l,j),n.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Hi,n.stateNode=o,o._reactInternals=n,h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=x,n.__reactInternalMemoizedMaskedChildContext=j),o}function Bp(n,o,l,h){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==n&&Hi.enqueueReplaceState(o,o.state,null)}function fd(n,o,l,h){var x=n.stateNode;x.props=l,x.state=n.memoizedState,x.refs={},Xc(n);var j=o.contextType;typeof j=="object"&&j!==null?x.context=yn(j):(j=zt(o)?Es:Ft.current,x.context=oo(n,j)),x.state=n.memoizedState,j=o.getDerivedStateFromProps,typeof j=="function"&&(ud(n,o,j,l),x.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(o=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),o!==x.state&&Hi.enqueueReplaceState(x,x.state,null),Ii(n,l,x,h),x.state=n.memoizedState),typeof x.componentDidMount=="function"&&(n.flags|=4194308)}function po(n,o){try{var l="",h=o;do l+=he(h),h=h.return;while(h);var x=l}catch(j){x=`
Error generating stack: `+j.message+`
`+j.stack}return{value:n,source:o,stack:x,digest:null}}function hd(n,o,l){return{value:n,source:null,stack:l??null,digest:o??null}}function pd(n,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var Rw=typeof WeakMap=="function"?WeakMap:Map;function zp(n,o,l){l=br(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){Ji||(Ji=!0,Fd=h),pd(n,o)},l}function Wp(n,o,l){l=br(-1,l),l.tag=3;var h=n.type.getDerivedStateFromError;if(typeof h=="function"){var x=o.value;l.payload=function(){return h(x)},l.callback=function(){pd(n,o)}}var j=n.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(l.callback=function(){pd(n,o),typeof h!="function"&&(es===null?es=new Set([this]):es.add(this));var _=o.stack;this.componentDidCatch(o.value,{componentStack:_!==null?_:""})}),l}function Vp(n,o,l){var h=n.pingCache;if(h===null){h=n.pingCache=new Rw;var x=new Set;h.set(o,x)}else x=h.get(o),x===void 0&&(x=new Set,h.set(o,x));x.has(l)||(x.add(l),n=Uw.bind(null,n,o,l),o.then(n,n))}function Hp(n){do{var o;if((o=n.tag===13)&&(o=n.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return n;n=n.return}while(n!==null);return null}function Up(n,o,l,h,x){return(n.mode&1)===0?(n===o?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=br(-1,1),o.tag=2,Xr(l,o,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=x,n)}var Pw=R.ReactCurrentOwner,Wt=!1;function Mt(n,o,l,h){o.child=n===null?up(o,null,l,h):co(o,n.child,l,h)}function qp(n,o,l,h,x){l=l.render;var j=o.ref;return fo(o,x),h=od(n,o,l,h,j,x),l=ad(),n!==null&&!Wt?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~x,Cr(n,o,x)):(nt&&l&&Wc(o),o.flags|=1,Mt(n,o,h,x),o.child)}function Yp(n,o,l,h,x){if(n===null){var j=l.type;return typeof j=="function"&&!Od(j)&&j.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=j,Gp(n,o,j,h,x)):(n=rl(l.type,null,h,o,o.mode,x),n.ref=o.ref,n.return=o,o.child=n)}if(j=n.child,(n.lanes&x)===0){var _=j.memoizedProps;if(l=l.compare,l=l!==null?l:la,l(_,h)&&n.ref===o.ref)return Cr(n,o,x)}return o.flags|=1,n=ss(j,h),n.ref=o.ref,n.return=o,o.child=n}function Gp(n,o,l,h,x){if(n!==null){var j=n.memoizedProps;if(la(j,h)&&n.ref===o.ref)if(Wt=!1,o.pendingProps=h=j,(n.lanes&x)!==0)(n.flags&131072)!==0&&(Wt=!0);else return o.lanes=n.lanes,Cr(n,o,x)}return md(n,o,l,h,x)}function Kp(n,o,l){var h=o.pendingProps,x=h.children,j=n!==null?n.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(go,on),on|=l;else{if((l&1073741824)===0)return n=j!==null?j.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:n,cachePool:null,transitions:null},o.updateQueue=null,Xe(go,on),on|=n,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=j!==null?j.baseLanes:l,Xe(go,on),on|=h}else j!==null?(h=j.baseLanes|l,o.memoizedState=null):h=l,Xe(go,on),on|=h;return Mt(n,o,x,l),o.child}function Qp(n,o){var l=o.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function md(n,o,l,h,x){var j=zt(l)?Es:Ft.current;return j=oo(o,j),fo(o,x),l=od(n,o,l,h,j,x),h=ad(),n!==null&&!Wt?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~x,Cr(n,o,x)):(nt&&h&&Wc(o),o.flags|=1,Mt(n,o,l,x),o.child)}function Jp(n,o,l,h,x){if(zt(l)){var j=!0;ki(o)}else j=!1;if(fo(o,x),o.stateNode===null)qi(n,o),$p(o,l,h),fd(o,l,h,x),h=!0;else if(n===null){var _=o.stateNode,A=o.memoizedProps;_.props=A;var O=_.context,G=l.contextType;typeof G=="object"&&G!==null?G=yn(G):(G=zt(l)?Es:Ft.current,G=oo(o,G));var ae=l.getDerivedStateFromProps,le=typeof ae=="function"||typeof _.getSnapshotBeforeUpdate=="function";le||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==h||O!==G)&&Bp(o,_,h,G),Jr=!1;var oe=o.memoizedState;_.state=oe,Ii(o,h,_,x),O=o.memoizedState,A!==h||oe!==O||Bt.current||Jr?(typeof ae=="function"&&(ud(o,l,ae,h),O=o.memoizedState),(A=Jr||Lp(o,l,A,h,oe,O,G))?(le||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=O),_.props=h,_.state=O,_.context=G,h=A):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{_=o.stateNode,hp(n,o),A=o.memoizedProps,G=o.type===o.elementType?A:Mn(o.type,A),_.props=G,le=o.pendingProps,oe=_.context,O=l.contextType,typeof O=="object"&&O!==null?O=yn(O):(O=zt(l)?Es:Ft.current,O=oo(o,O));var pe=l.getDerivedStateFromProps;(ae=typeof pe=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==le||oe!==O)&&Bp(o,_,h,O),Jr=!1,oe=o.memoizedState,_.state=oe,Ii(o,h,_,x);var xe=o.memoizedState;A!==le||oe!==xe||Bt.current||Jr?(typeof pe=="function"&&(ud(o,l,pe,h),xe=o.memoizedState),(G=Jr||Lp(o,l,G,h,oe,xe,O)||!1)?(ae||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,xe,O),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,xe,O)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||A===n.memoizedProps&&oe===n.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&oe===n.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=xe),_.props=h,_.state=xe,_.context=O,h=G):(typeof _.componentDidUpdate!="function"||A===n.memoizedProps&&oe===n.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&oe===n.memoizedState||(o.flags|=1024),h=!1)}return gd(n,o,l,h,j,x)}function gd(n,o,l,h,x,j){Qp(n,o);var _=(o.flags&128)!==0;if(!h&&!_)return x&&np(o,l,!1),Cr(n,o,j);h=o.stateNode,Pw.current=o;var A=_&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,n!==null&&_?(o.child=co(o,n.child,null,j),o.child=co(o,null,A,j)):Mt(n,o,A,j),o.memoizedState=h.state,x&&np(o,l,!0),o.child}function Xp(n){var o=n.stateNode;o.pendingContext?ep(n,o.pendingContext,o.pendingContext!==o.context):o.context&&ep(n,o.context,!1),Zc(n,o.containerInfo)}function Zp(n,o,l,h,x){return lo(),qc(x),o.flags|=256,Mt(n,o,l,h),o.child}var xd={dehydrated:null,treeContext:null,retryLane:0};function vd(n){return{baseLanes:n,cachePool:null,transitions:null}}function em(n,o,l){var h=o.pendingProps,x=rt.current,j=!1,_=(o.flags&128)!==0,A;if((A=_)||(A=n!==null&&n.memoizedState===null?!1:(x&2)!==0),A?(j=!0,o.flags&=-129):(n===null||n.memoizedState!==null)&&(x|=1),Xe(rt,x&1),n===null)return Uc(o),n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((o.mode&1)===0?o.lanes=1:n.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(_=h.children,n=h.fallback,j?(h=o.mode,j=o.child,_={mode:"hidden",children:_},(h&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=_):j=sl(_,h,0,null),n=Ms(n,h,l,null),j.return=o,n.return=o,j.sibling=n,o.child=j,o.child.memoizedState=vd(l),o.memoizedState=xd,n):yd(o,_));if(x=n.memoizedState,x!==null&&(A=x.dehydrated,A!==null))return Aw(n,o,_,h,A,x,l);if(j){j=h.fallback,_=o.mode,x=n.child,A=x.sibling;var O={mode:"hidden",children:h.children};return(_&1)===0&&o.child!==x?(h=o.child,h.childLanes=0,h.pendingProps=O,o.deletions=null):(h=ss(x,O),h.subtreeFlags=x.subtreeFlags&14680064),A!==null?j=ss(A,j):(j=Ms(j,_,l,null),j.flags|=2),j.return=o,h.return=o,h.sibling=j,o.child=h,h=j,j=o.child,_=n.child.memoizedState,_=_===null?vd(l):{baseLanes:_.baseLanes|l,cachePool:null,transitions:_.transitions},j.memoizedState=_,j.childLanes=n.childLanes&~l,o.memoizedState=xd,h}return j=n.child,n=j.sibling,h=ss(j,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=l),h.return=o,h.sibling=null,n!==null&&(l=o.deletions,l===null?(o.deletions=[n],o.flags|=16):l.push(n)),o.child=h,o.memoizedState=null,h}function yd(n,o){return o=sl({mode:"visible",children:o},n.mode,0,null),o.return=n,n.child=o}function Ui(n,o,l,h){return h!==null&&qc(h),co(o,n.child,null,l),n=yd(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function Aw(n,o,l,h,x,j,_){if(l)return o.flags&256?(o.flags&=-257,h=hd(Error(s(422))),Ui(n,o,_,h)):o.memoizedState!==null?(o.child=n.child,o.flags|=128,null):(j=h.fallback,x=o.mode,h=sl({mode:"visible",children:h.children},x,0,null),j=Ms(j,x,_,null),j.flags|=2,h.return=o,j.return=o,h.sibling=j,o.child=h,(o.mode&1)!==0&&co(o,n.child,null,_),o.child.memoizedState=vd(_),o.memoizedState=xd,j);if((o.mode&1)===0)return Ui(n,o,_,null);if(x.data==="$!"){if(h=x.nextSibling&&x.nextSibling.dataset,h)var A=h.dgst;return h=A,j=Error(s(419)),h=hd(j,h,void 0),Ui(n,o,_,h)}if(A=(_&n.childLanes)!==0,Wt||A){if(h=wt,h!==null){switch(_&-_){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(h.suspendedLanes|_))!==0?0:x,x!==0&&x!==j.retryLane&&(j.retryLane=x,wr(n,x),Ln(h,n,x,-1))}return Md(),h=hd(Error(s(421))),Ui(n,o,_,h)}return x.data==="$?"?(o.flags|=128,o.child=n.child,o=qw.bind(null,n),x._reactRetry=o,null):(n=j.treeContext,sn=Yr(x.nextSibling),rn=o,nt=!0,Tn=null,n!==null&&(xn[vn++]=yr,xn[vn++]=jr,xn[vn++]=Ss,yr=n.id,jr=n.overflow,Ss=o),o=yd(o,h.children),o.flags|=4096,o)}function tm(n,o,l){n.lanes|=o;var h=n.alternate;h!==null&&(h.lanes|=o),Qc(n.return,o,l)}function jd(n,o,l,h,x){var j=n.memoizedState;j===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:x}:(j.isBackwards=o,j.rendering=null,j.renderingStartTime=0,j.last=h,j.tail=l,j.tailMode=x)}function nm(n,o,l){var h=o.pendingProps,x=h.revealOrder,j=h.tail;if(Mt(n,o,h.children,l),h=rt.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&tm(n,l,o);else if(n.tag===19)tm(n,l,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}h&=1}if(Xe(rt,h),(o.mode&1)===0)o.memoizedState=null;else switch(x){case"forwards":for(l=o.child,x=null;l!==null;)n=l.alternate,n!==null&&Li(n)===null&&(x=l),l=l.sibling;l=x,l===null?(x=o.child,o.child=null):(x=l.sibling,l.sibling=null),jd(o,!1,x,l,j);break;case"backwards":for(l=null,x=o.child,o.child=null;x!==null;){if(n=x.alternate,n!==null&&Li(n)===null){o.child=x;break}n=x.sibling,x.sibling=l,l=x,x=n}jd(o,!0,l,null,j);break;case"together":jd(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function qi(n,o){(o.mode&1)===0&&n!==null&&(n.alternate=null,o.alternate=null,o.flags|=2)}function Cr(n,o,l){if(n!==null&&(o.dependencies=n.dependencies),Rs|=o.lanes,(l&o.childLanes)===0)return null;if(n!==null&&o.child!==n.child)throw Error(s(153));if(o.child!==null){for(n=o.child,l=ss(n,n.pendingProps),o.child=l,l.return=o;n.sibling!==null;)n=n.sibling,l=l.sibling=ss(n,n.pendingProps),l.return=o;l.sibling=null}return o.child}function Tw(n,o,l){switch(o.tag){case 3:Xp(o),lo();break;case 5:gp(o);break;case 1:zt(o.type)&&ki(o);break;case 4:Zc(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,x=o.memoizedProps.value;Xe(Ti,h._currentValue),h._currentValue=x;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(Xe(rt,rt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?em(n,o,l):(Xe(rt,rt.current&1),n=Cr(n,o,l),n!==null?n.sibling:null);Xe(rt,rt.current&1);break;case 19:if(h=(l&o.childLanes)!==0,(n.flags&128)!==0){if(h)return nm(n,o,l);o.flags|=128}if(x=o.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Xe(rt,rt.current),h)break;return null;case 22:case 23:return o.lanes=0,Kp(n,o,l)}return Cr(n,o,l)}var rm,wd,sm,om;rm=function(n,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},wd=function(){},sm=function(n,o,l,h){var x=n.memoizedProps;if(x!==h){n=o.stateNode,Fs(Jn.current);var j=null;switch(l){case"input":x=Tt(n,x),h=Tt(n,h),j=[];break;case"select":x=U({},x,{value:void 0}),h=U({},h,{value:void 0}),j=[];break;case"textarea":x=Ct(n,x),h=Ct(n,h),j=[];break;default:typeof x.onClick!="function"&&typeof h.onClick=="function"&&(n.onclick=Ei)}Ks(l,h);var _;l=null;for(G in x)if(!h.hasOwnProperty(G)&&x.hasOwnProperty(G)&&x[G]!=null)if(G==="style"){var A=x[G];for(_ in A)A.hasOwnProperty(_)&&(l||(l={}),l[_]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(i.hasOwnProperty(G)?j||(j=[]):(j=j||[]).push(G,null));for(G in h){var O=h[G];if(A=x?.[G],h.hasOwnProperty(G)&&O!==A&&(O!=null||A!=null))if(G==="style")if(A){for(_ in A)!A.hasOwnProperty(_)||O&&O.hasOwnProperty(_)||(l||(l={}),l[_]="");for(_ in O)O.hasOwnProperty(_)&&A[_]!==O[_]&&(l||(l={}),l[_]=O[_])}else l||(j||(j=[]),j.push(G,l)),l=O;else G==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,A=A?A.__html:void 0,O!=null&&A!==O&&(j=j||[]).push(G,O)):G==="children"?typeof O!="string"&&typeof O!="number"||(j=j||[]).push(G,""+O):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(i.hasOwnProperty(G)?(O!=null&&G==="onScroll"&&et("scroll",n),j||A===O||(j=[])):(j=j||[]).push(G,O))}l&&(j=j||[]).push("style",l);var G=j;(o.updateQueue=G)&&(o.flags|=4)}},om=function(n,o,l,h){l!==h&&(o.flags|=4)};function Ca(n,o){if(!nt)switch(n.tailMode){case"hidden":o=n.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function Rt(n){var o=n.alternate!==null&&n.alternate.child===n.child,l=0,h=0;if(o)for(var x=n.child;x!==null;)l|=x.lanes|x.childLanes,h|=x.subtreeFlags&14680064,h|=x.flags&14680064,x.return=n,x=x.sibling;else for(x=n.child;x!==null;)l|=x.lanes|x.childLanes,h|=x.subtreeFlags,h|=x.flags,x.return=n,x=x.sibling;return n.subtreeFlags|=h,n.childLanes=l,o}function Mw(n,o,l){var h=o.pendingProps;switch(Vc(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(o),null;case 1:return zt(o.type)&&_i(),Rt(o),null;case 3:return h=o.stateNode,ho(),tt(Bt),tt(Ft),nd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(n===null||n.child===null)&&(Pi(o)?o.flags|=4:n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Tn!==null&&(Pd(Tn),Tn=null))),wd(n,o),Rt(o),null;case 5:ed(o);var x=Fs(va.current);if(l=o.type,n!==null&&o.stateNode!=null)sm(n,o,l,h,x),n.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(s(166));return Rt(o),null}if(n=Fs(Jn.current),Pi(o)){h=o.stateNode,l=o.type;var j=o.memoizedProps;switch(h[Qn]=o,h[ha]=j,n=(o.mode&1)!==0,l){case"dialog":et("cancel",h),et("close",h);break;case"iframe":case"object":case"embed":et("load",h);break;case"video":case"audio":for(x=0;x<da.length;x++)et(da[x],h);break;case"source":et("error",h);break;case"img":case"image":case"link":et("error",h),et("load",h);break;case"details":et("toggle",h);break;case"input":Ar(h,j),et("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!j.multiple},et("invalid",h);break;case"textarea":mr(h,j),et("invalid",h)}Ks(l,j),x=null;for(var _ in j)if(j.hasOwnProperty(_)){var A=j[_];_==="children"?typeof A=="string"?h.textContent!==A&&(j.suppressHydrationWarning!==!0&&Ni(h.textContent,A,n),x=["children",A]):typeof A=="number"&&h.textContent!==""+A&&(j.suppressHydrationWarning!==!0&&Ni(h.textContent,A,n),x=["children",""+A]):i.hasOwnProperty(_)&&A!=null&&_==="onScroll"&&et("scroll",h)}switch(l){case"input":ze(h),Ho(h,j,!0);break;case"textarea":ze(h),ni(h);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(h.onclick=Ei)}h=x,o.updateQueue=h,h!==null&&(o.flags|=4)}else{_=x.nodeType===9?x:x.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=js(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof h.is=="string"?n=_.createElement(l,{is:h.is}):(n=_.createElement(l),l==="select"&&(_=n,h.multiple?_.multiple=!0:h.size&&(_.size=h.size))):n=_.createElementNS(n,l),n[Qn]=o,n[ha]=h,rm(n,o,!1,!1),o.stateNode=n;e:{switch(_=qo(l,h),l){case"dialog":et("cancel",n),et("close",n),x=h;break;case"iframe":case"object":case"embed":et("load",n),x=h;break;case"video":case"audio":for(x=0;x<da.length;x++)et(da[x],n);x=h;break;case"source":et("error",n),x=h;break;case"img":case"image":case"link":et("error",n),et("load",n),x=h;break;case"details":et("toggle",n),x=h;break;case"input":Ar(n,h),x=Tt(n,h),et("invalid",n);break;case"option":x=h;break;case"select":n._wrapperState={wasMultiple:!!h.multiple},x=U({},h,{value:void 0}),et("invalid",n);break;case"textarea":mr(n,h),x=Ct(n,h),et("invalid",n);break;default:x=h}Ks(l,x),A=x;for(j in A)if(A.hasOwnProperty(j)){var O=A[j];j==="style"?si(n,O):j==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Gs(n,O)):j==="children"?typeof O=="string"?(l!=="textarea"||O!=="")&&pn(n,O):typeof O=="number"&&pn(n,""+O):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?O!=null&&j==="onScroll"&&et("scroll",n):O!=null&&k(n,j,O,_))}switch(l){case"input":ze(n),Ho(n,h,!1);break;case"textarea":ze(n),ni(n);break;case"option":h.value!=null&&n.setAttribute("value",""+fe(h.value));break;case"select":n.multiple=!!h.multiple,j=h.value,j!=null?Tr(n,!!h.multiple,j,!1):h.defaultValue!=null&&Tr(n,!!h.multiple,h.defaultValue,!0);break;default:typeof x.onClick=="function"&&(n.onclick=Ei)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Rt(o),null;case 6:if(n&&o.stateNode!=null)om(n,o,n.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(s(166));if(l=Fs(va.current),Fs(Jn.current),Pi(o)){if(h=o.stateNode,l=o.memoizedProps,h[Qn]=o,(j=h.nodeValue!==l)&&(n=rn,n!==null))switch(n.tag){case 3:Ni(h.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ni(h.nodeValue,l,(n.mode&1)!==0)}j&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Qn]=o,o.stateNode=h}return Rt(o),null;case 13:if(tt(rt),h=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(nt&&sn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)lp(),lo(),o.flags|=98560,j=!1;else if(j=Pi(o),h!==null&&h.dehydrated!==null){if(n===null){if(!j)throw Error(s(318));if(j=o.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(s(317));j[Qn]=o}else lo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Rt(o),j=!1}else Tn!==null&&(Pd(Tn),Tn=null),j=!0;if(!j)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(h=h!==null,h!==(n!==null&&n.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(n===null||(rt.current&1)!==0?xt===0&&(xt=3):Md())),o.updateQueue!==null&&(o.flags|=4),Rt(o),null);case 4:return ho(),wd(n,o),n===null&&ua(o.stateNode.containerInfo),Rt(o),null;case 10:return Kc(o.type._context),Rt(o),null;case 17:return zt(o.type)&&_i(),Rt(o),null;case 19:if(tt(rt),j=o.memoizedState,j===null)return Rt(o),null;if(h=(o.flags&128)!==0,_=j.rendering,_===null)if(h)Ca(j,!1);else{if(xt!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(_=Li(n),_!==null){for(o.flags|=128,Ca(j,!1),h=_.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)j=l,n=h,j.flags&=14680066,_=j.alternate,_===null?(j.childLanes=0,j.lanes=n,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=_.childLanes,j.lanes=_.lanes,j.child=_.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=_.memoizedProps,j.memoizedState=_.memoizedState,j.updateQueue=_.updateQueue,j.type=_.type,n=_.dependencies,j.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return Xe(rt,rt.current&1|2),o.child}n=n.sibling}j.tail!==null&&lt()>xo&&(o.flags|=128,h=!0,Ca(j,!1),o.lanes=4194304)}else{if(!h)if(n=Li(_),n!==null){if(o.flags|=128,h=!0,l=n.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),Ca(j,!0),j.tail===null&&j.tailMode==="hidden"&&!_.alternate&&!nt)return Rt(o),null}else 2*lt()-j.renderingStartTime>xo&&l!==1073741824&&(o.flags|=128,h=!0,Ca(j,!1),o.lanes=4194304);j.isBackwards?(_.sibling=o.child,o.child=_):(l=j.last,l!==null?l.sibling=_:o.child=_,j.last=_)}return j.tail!==null?(o=j.tail,j.rendering=o,j.tail=o.sibling,j.renderingStartTime=lt(),o.sibling=null,l=rt.current,Xe(rt,h?l&1|2:l&1),o):(Rt(o),null);case 22:case 23:return Td(),h=o.memoizedState!==null,n!==null&&n.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(on&1073741824)!==0&&(Rt(o),o.subtreeFlags&6&&(o.flags|=8192)):Rt(o),null;case 24:return null;case 25:return null}throw Error(s(156,o.tag))}function Ow(n,o){switch(Vc(o),o.tag){case 1:return zt(o.type)&&_i(),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return ho(),tt(Bt),tt(Ft),nd(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 5:return ed(o),null;case 13:if(tt(rt),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(s(340));lo()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return tt(rt),null;case 4:return ho(),null;case 10:return Kc(o.type._context),null;case 22:case 23:return Td(),null;case 24:return null;default:return null}}var Yi=!1,Pt=!1,Iw=typeof WeakSet=="function"?WeakSet:Set,me=null;function mo(n,o){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){at(n,o,h)}else l.current=null}function bd(n,o,l){try{l()}catch(h){at(n,o,h)}}var am=!1;function Lw(n,o){if(Tc=hi,n=Lh(),Sc(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var x=h.anchorOffset,j=h.focusNode;h=h.focusOffset;try{l.nodeType,j.nodeType}catch{l=null;break e}var _=0,A=-1,O=-1,G=0,ae=0,le=n,oe=null;t:for(;;){for(var pe;le!==l||x!==0&&le.nodeType!==3||(A=_+x),le!==j||h!==0&&le.nodeType!==3||(O=_+h),le.nodeType===3&&(_+=le.nodeValue.length),(pe=le.firstChild)!==null;)oe=le,le=pe;for(;;){if(le===n)break t;if(oe===l&&++G===x&&(A=_),oe===j&&++ae===h&&(O=_),(pe=le.nextSibling)!==null)break;le=oe,oe=le.parentNode}le=pe}l=A===-1||O===-1?null:{start:A,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(Mc={focusedElem:n,selectionRange:l},hi=!1,me=o;me!==null;)if(o=me,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,me=n;else for(;me!==null;){o=me;try{var xe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var je=xe.memoizedProps,ct=xe.memoizedState,W=o.stateNode,$=W.getSnapshotBeforeUpdate(o.elementType===o.type?je:Mn(o.type,je),ct);W.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(de){at(o,o.return,de)}if(n=o.sibling,n!==null){n.return=o.return,me=n;break}me=o.return}return xe=am,am=!1,xe}function Na(n,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var x=h=h.next;do{if((x.tag&n)===n){var j=x.destroy;x.destroy=void 0,j!==void 0&&bd(o,l,j)}x=x.next}while(x!==h)}}function Gi(n,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&n)===n){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function Cd(n){var o=n.ref;if(o!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof o=="function"?o(n):o.current=n}}function im(n){var o=n.alternate;o!==null&&(n.alternate=null,im(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&(delete o[Qn],delete o[ha],delete o[$c],delete o[jw],delete o[ww])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function lm(n){return n.tag===5||n.tag===3||n.tag===4}function cm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||lm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Nd(n,o,l){var h=n.tag;if(h===5||h===6)n=n.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(n,o):l.insertBefore(n,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(n,l)):(o=l,o.appendChild(n)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Ei));else if(h!==4&&(n=n.child,n!==null))for(Nd(n,o,l),n=n.sibling;n!==null;)Nd(n,o,l),n=n.sibling}function Ed(n,o,l){var h=n.tag;if(h===5||h===6)n=n.stateNode,o?l.insertBefore(n,o):l.appendChild(n);else if(h!==4&&(n=n.child,n!==null))for(Ed(n,o,l),n=n.sibling;n!==null;)Ed(n,o,l),n=n.sibling}var Et=null,On=!1;function Zr(n,o,l){for(l=l.child;l!==null;)dm(n,o,l),l=l.sibling}function dm(n,o,l){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(ii,l)}catch{}switch(l.tag){case 5:Pt||mo(l,o);case 6:var h=Et,x=On;Et=null,Zr(n,o,l),Et=h,On=x,Et!==null&&(On?(n=Et,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):Et.removeChild(l.stateNode));break;case 18:Et!==null&&(On?(n=Et,l=l.stateNode,n.nodeType===8?Lc(n.parentNode,l):n.nodeType===1&&Lc(n,l),na(n)):Lc(Et,l.stateNode));break;case 4:h=Et,x=On,Et=l.stateNode.containerInfo,On=!0,Zr(n,o,l),Et=h,On=x;break;case 0:case 11:case 14:case 15:if(!Pt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){x=h=h.next;do{var j=x,_=j.destroy;j=j.tag,_!==void 0&&((j&2)!==0||(j&4)!==0)&&bd(l,o,_),x=x.next}while(x!==h)}Zr(n,o,l);break;case 1:if(!Pt&&(mo(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(A){at(l,o,A)}Zr(n,o,l);break;case 21:Zr(n,o,l);break;case 22:l.mode&1?(Pt=(h=Pt)||l.memoizedState!==null,Zr(n,o,l),Pt=h):Zr(n,o,l);break;default:Zr(n,o,l)}}function um(n){var o=n.updateQueue;if(o!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new Iw),o.forEach(function(h){var x=Yw.bind(null,n,h);l.has(h)||(l.add(h),h.then(x,x))})}}function In(n,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var x=l[h];try{var j=n,_=o,A=_;e:for(;A!==null;){switch(A.tag){case 5:Et=A.stateNode,On=!1;break e;case 3:Et=A.stateNode.containerInfo,On=!0;break e;case 4:Et=A.stateNode.containerInfo,On=!0;break e}A=A.return}if(Et===null)throw Error(s(160));dm(j,_,x),Et=null,On=!1;var O=x.alternate;O!==null&&(O.return=null),x.return=null}catch(G){at(x,o,G)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)fm(o,n),o=o.sibling}function fm(n,o){var l=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(In(o,n),Zn(n),h&4){try{Na(3,n,n.return),Gi(3,n)}catch(je){at(n,n.return,je)}try{Na(5,n,n.return)}catch(je){at(n,n.return,je)}}break;case 1:In(o,n),Zn(n),h&512&&l!==null&&mo(l,l.return);break;case 5:if(In(o,n),Zn(n),h&512&&l!==null&&mo(l,l.return),n.flags&32){var x=n.stateNode;try{pn(x,"")}catch(je){at(n,n.return,je)}}if(h&4&&(x=n.stateNode,x!=null)){var j=n.memoizedProps,_=l!==null?l.memoizedProps:j,A=n.type,O=n.updateQueue;if(n.updateQueue=null,O!==null)try{A==="input"&&j.type==="radio"&&j.name!=null&&pr(x,j),qo(A,_);var G=qo(A,j);for(_=0;_<O.length;_+=2){var ae=O[_],le=O[_+1];ae==="style"?si(x,le):ae==="dangerouslySetInnerHTML"?Gs(x,le):ae==="children"?pn(x,le):k(x,ae,le,G)}switch(A){case"input":Zt(x,j);break;case"textarea":ti(x,j);break;case"select":var oe=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!j.multiple;var pe=j.value;pe!=null?Tr(x,!!j.multiple,pe,!1):oe!==!!j.multiple&&(j.defaultValue!=null?Tr(x,!!j.multiple,j.defaultValue,!0):Tr(x,!!j.multiple,j.multiple?[]:"",!1))}x[ha]=j}catch(je){at(n,n.return,je)}}break;case 6:if(In(o,n),Zn(n),h&4){if(n.stateNode===null)throw Error(s(162));x=n.stateNode,j=n.memoizedProps;try{x.nodeValue=j}catch(je){at(n,n.return,je)}}break;case 3:if(In(o,n),Zn(n),h&4&&l!==null&&l.memoizedState.isDehydrated)try{na(o.containerInfo)}catch(je){at(n,n.return,je)}break;case 4:In(o,n),Zn(n);break;case 13:In(o,n),Zn(n),x=n.child,x.flags&8192&&(j=x.memoizedState!==null,x.stateNode.isHidden=j,!j||x.alternate!==null&&x.alternate.memoizedState!==null||(kd=lt())),h&4&&um(n);break;case 22:if(ae=l!==null&&l.memoizedState!==null,n.mode&1?(Pt=(G=Pt)||ae,In(o,n),Pt=G):In(o,n),Zn(n),h&8192){if(G=n.memoizedState!==null,(n.stateNode.isHidden=G)&&!ae&&(n.mode&1)!==0)for(me=n,ae=n.child;ae!==null;){for(le=me=ae;me!==null;){switch(oe=me,pe=oe.child,oe.tag){case 0:case 11:case 14:case 15:Na(4,oe,oe.return);break;case 1:mo(oe,oe.return);var xe=oe.stateNode;if(typeof xe.componentWillUnmount=="function"){h=oe,l=oe.return;try{o=h,xe.props=o.memoizedProps,xe.state=o.memoizedState,xe.componentWillUnmount()}catch(je){at(h,l,je)}}break;case 5:mo(oe,oe.return);break;case 22:if(oe.memoizedState!==null){mm(le);continue}}pe!==null?(pe.return=oe,me=pe):mm(le)}ae=ae.sibling}e:for(ae=null,le=n;;){if(le.tag===5){if(ae===null){ae=le;try{x=le.stateNode,G?(j=x.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(A=le.stateNode,O=le.memoizedProps.style,_=O!=null&&O.hasOwnProperty("display")?O.display:null,A.style.display=ri("display",_))}catch(je){at(n,n.return,je)}}}else if(le.tag===6){if(ae===null)try{le.stateNode.nodeValue=G?"":le.memoizedProps}catch(je){at(n,n.return,je)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===n)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===n)break e;for(;le.sibling===null;){if(le.return===null||le.return===n)break e;ae===le&&(ae=null),le=le.return}ae===le&&(ae=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:In(o,n),Zn(n),h&4&&um(n);break;case 21:break;default:In(o,n),Zn(n)}}function Zn(n){var o=n.flags;if(o&2){try{e:{for(var l=n.return;l!==null;){if(lm(l)){var h=l;break e}l=l.return}throw Error(s(160))}switch(h.tag){case 5:var x=h.stateNode;h.flags&32&&(pn(x,""),h.flags&=-33);var j=cm(n);Ed(n,j,x);break;case 3:case 4:var _=h.stateNode.containerInfo,A=cm(n);Nd(n,A,_);break;default:throw Error(s(161))}}catch(O){at(n,n.return,O)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function $w(n,o,l){me=n,hm(n)}function hm(n,o,l){for(var h=(n.mode&1)!==0;me!==null;){var x=me,j=x.child;if(x.tag===22&&h){var _=x.memoizedState!==null||Yi;if(!_){var A=x.alternate,O=A!==null&&A.memoizedState!==null||Pt;A=Yi;var G=Pt;if(Yi=_,(Pt=O)&&!G)for(me=x;me!==null;)_=me,O=_.child,_.tag===22&&_.memoizedState!==null?gm(x):O!==null?(O.return=_,me=O):gm(x);for(;j!==null;)me=j,hm(j),j=j.sibling;me=x,Yi=A,Pt=G}pm(n)}else(x.subtreeFlags&8772)!==0&&j!==null?(j.return=x,me=j):pm(n)}}function pm(n){for(;me!==null;){var o=me;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Pt||Gi(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Pt)if(l===null)h.componentDidMount();else{var x=o.elementType===o.type?l.memoizedProps:Mn(o.type,l.memoizedProps);h.componentDidUpdate(x,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var j=o.updateQueue;j!==null&&mp(o,j,h);break;case 3:var _=o.updateQueue;if(_!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}mp(o,_,l)}break;case 5:var A=o.stateNode;if(l===null&&o.flags&4){l=A;var O=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&l.focus();break;case"img":O.src&&(l.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var G=o.alternate;if(G!==null){var ae=G.memoizedState;if(ae!==null){var le=ae.dehydrated;le!==null&&na(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Pt||o.flags&512&&Cd(o)}catch(oe){at(o,o.return,oe)}}if(o===n){me=null;break}if(l=o.sibling,l!==null){l.return=o.return,me=l;break}me=o.return}}function mm(n){for(;me!==null;){var o=me;if(o===n){me=null;break}var l=o.sibling;if(l!==null){l.return=o.return,me=l;break}me=o.return}}function gm(n){for(;me!==null;){var o=me;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Gi(4,o)}catch(O){at(o,l,O)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var x=o.return;try{h.componentDidMount()}catch(O){at(o,x,O)}}var j=o.return;try{Cd(o)}catch(O){at(o,j,O)}break;case 5:var _=o.return;try{Cd(o)}catch(O){at(o,_,O)}}}catch(O){at(o,o.return,O)}if(o===n){me=null;break}var A=o.sibling;if(A!==null){A.return=o.return,me=A;break}me=o.return}}var Bw=Math.ceil,Ki=R.ReactCurrentDispatcher,Sd=R.ReactCurrentOwner,wn=R.ReactCurrentBatchConfig,Ue=0,wt=null,ut=null,St=0,on=0,go=Gr(0),xt=0,Ea=null,Rs=0,Qi=0,_d=0,Sa=null,Vt=null,kd=0,xo=1/0,Nr=null,Ji=!1,Fd=null,es=null,Xi=!1,ts=null,Zi=0,_a=0,Dd=null,el=-1,tl=0;function Ot(){return(Ue&6)!==0?lt():el!==-1?el:el=lt()}function ns(n){return(n.mode&1)===0?1:(Ue&2)!==0&&St!==0?St&-St:Cw.transition!==null?(tl===0&&(tl=ch()),tl):(n=Ge,n!==0||(n=window.event,n=n===void 0?16:vh(n.type)),n)}function Ln(n,o,l,h){if(50<_a)throw _a=0,Dd=null,Error(s(185));Jo(n,l,h),((Ue&2)===0||n!==wt)&&(n===wt&&((Ue&2)===0&&(Qi|=l),xt===4&&rs(n,St)),Ht(n,h),l===1&&Ue===0&&(o.mode&1)===0&&(xo=lt()+500,Fi&&Qr()))}function Ht(n,o){var l=n.callbackNode;Cj(n,o);var h=di(n,n===wt?St:0);if(h===0)l!==null&&ah(l),n.callbackNode=null,n.callbackPriority=0;else if(o=h&-h,n.callbackPriority!==o){if(l!=null&&ah(l),o===1)n.tag===0?bw(vm.bind(null,n)):rp(vm.bind(null,n)),vw(function(){(Ue&6)===0&&Qr()}),l=null;else{switch(dh(h)){case 1:l=cc;break;case 4:l=ih;break;case 16:l=ai;break;case 536870912:l=lh;break;default:l=ai}l=Sm(l,xm.bind(null,n))}n.callbackPriority=o,n.callbackNode=l}}function xm(n,o){if(el=-1,tl=0,(Ue&6)!==0)throw Error(s(327));var l=n.callbackNode;if(vo()&&n.callbackNode!==l)return null;var h=di(n,n===wt?St:0);if(h===0)return null;if((h&30)!==0||(h&n.expiredLanes)!==0||o)o=nl(n,h);else{o=h;var x=Ue;Ue|=2;var j=jm();(wt!==n||St!==o)&&(Nr=null,xo=lt()+500,As(n,o));do try{Vw();break}catch(A){ym(n,A)}while(!0);Gc(),Ki.current=j,Ue=x,ut!==null?o=0:(wt=null,St=0,o=xt)}if(o!==0){if(o===2&&(x=dc(n),x!==0&&(h=x,o=Rd(n,x))),o===1)throw l=Ea,As(n,0),rs(n,h),Ht(n,lt()),l;if(o===6)rs(n,h);else{if(x=n.current.alternate,(h&30)===0&&!zw(x)&&(o=nl(n,h),o===2&&(j=dc(n),j!==0&&(h=j,o=Rd(n,j))),o===1))throw l=Ea,As(n,0),rs(n,h),Ht(n,lt()),l;switch(n.finishedWork=x,n.finishedLanes=h,o){case 0:case 1:throw Error(s(345));case 2:Ts(n,Vt,Nr);break;case 3:if(rs(n,h),(h&130023424)===h&&(o=kd+500-lt(),10<o)){if(di(n,0)!==0)break;if(x=n.suspendedLanes,(x&h)!==h){Ot(),n.pingedLanes|=n.suspendedLanes&x;break}n.timeoutHandle=Ic(Ts.bind(null,n,Vt,Nr),o);break}Ts(n,Vt,Nr);break;case 4:if(rs(n,h),(h&4194240)===h)break;for(o=n.eventTimes,x=-1;0<h;){var _=31-Pn(h);j=1<<_,_=o[_],_>x&&(x=_),h&=~j}if(h=x,h=lt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Bw(h/1960))-h,10<h){n.timeoutHandle=Ic(Ts.bind(null,n,Vt,Nr),h);break}Ts(n,Vt,Nr);break;case 5:Ts(n,Vt,Nr);break;default:throw Error(s(329))}}}return Ht(n,lt()),n.callbackNode===l?xm.bind(null,n):null}function Rd(n,o){var l=Sa;return n.current.memoizedState.isDehydrated&&(As(n,o).flags|=256),n=nl(n,o),n!==2&&(o=Vt,Vt=l,o!==null&&Pd(o)),n}function Pd(n){Vt===null?Vt=n:Vt.push.apply(Vt,n)}function zw(n){for(var o=n;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var x=l[h],j=x.getSnapshot;x=x.value;try{if(!An(j(),x))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function rs(n,o){for(o&=~_d,o&=~Qi,n.suspendedLanes|=o,n.pingedLanes&=~o,n=n.expirationTimes;0<o;){var l=31-Pn(o),h=1<<l;n[l]=-1,o&=~h}}function vm(n){if((Ue&6)!==0)throw Error(s(327));vo();var o=di(n,0);if((o&1)===0)return Ht(n,lt()),null;var l=nl(n,o);if(n.tag!==0&&l===2){var h=dc(n);h!==0&&(o=h,l=Rd(n,h))}if(l===1)throw l=Ea,As(n,0),rs(n,o),Ht(n,lt()),l;if(l===6)throw Error(s(345));return n.finishedWork=n.current.alternate,n.finishedLanes=o,Ts(n,Vt,Nr),Ht(n,lt()),null}function Ad(n,o){var l=Ue;Ue|=1;try{return n(o)}finally{Ue=l,Ue===0&&(xo=lt()+500,Fi&&Qr())}}function Ps(n){ts!==null&&ts.tag===0&&(Ue&6)===0&&vo();var o=Ue;Ue|=1;var l=wn.transition,h=Ge;try{if(wn.transition=null,Ge=1,n)return n()}finally{Ge=h,wn.transition=l,Ue=o,(Ue&6)===0&&Qr()}}function Td(){on=go.current,tt(go)}function As(n,o){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,xw(l)),ut!==null)for(l=ut.return;l!==null;){var h=l;switch(Vc(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&_i();break;case 3:ho(),tt(Bt),tt(Ft),nd();break;case 5:ed(h);break;case 4:ho();break;case 13:tt(rt);break;case 19:tt(rt);break;case 10:Kc(h.type._context);break;case 22:case 23:Td()}l=l.return}if(wt=n,ut=n=ss(n.current,null),St=on=o,xt=0,Ea=null,_d=Qi=Rs=0,Vt=Sa=null,ks!==null){for(o=0;o<ks.length;o++)if(l=ks[o],h=l.interleaved,h!==null){l.interleaved=null;var x=h.next,j=l.pending;if(j!==null){var _=j.next;j.next=x,h.next=_}l.pending=h}ks=null}return n}function ym(n,o){do{var l=ut;try{if(Gc(),$i.current=Vi,Bi){for(var h=st.memoizedState;h!==null;){var x=h.queue;x!==null&&(x.pending=null),h=h.next}Bi=!1}if(Ds=0,jt=gt=st=null,ya=!1,ja=0,Sd.current=null,l===null||l.return===null){xt=1,Ea=o,ut=null;break}e:{var j=n,_=l.return,A=l,O=o;if(o=St,A.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var G=O,ae=A,le=ae.tag;if((ae.mode&1)===0&&(le===0||le===11||le===15)){var oe=ae.alternate;oe?(ae.updateQueue=oe.updateQueue,ae.memoizedState=oe.memoizedState,ae.lanes=oe.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var pe=Hp(_);if(pe!==null){pe.flags&=-257,Up(pe,_,A,j,o),pe.mode&1&&Vp(j,G,o),o=pe,O=G;var xe=o.updateQueue;if(xe===null){var je=new Set;je.add(O),o.updateQueue=je}else xe.add(O);break e}else{if((o&1)===0){Vp(j,G,o),Md();break e}O=Error(s(426))}}else if(nt&&A.mode&1){var ct=Hp(_);if(ct!==null){(ct.flags&65536)===0&&(ct.flags|=256),Up(ct,_,A,j,o),qc(po(O,A));break e}}j=O=po(O,A),xt!==4&&(xt=2),Sa===null?Sa=[j]:Sa.push(j),j=_;do{switch(j.tag){case 3:j.flags|=65536,o&=-o,j.lanes|=o;var W=zp(j,O,o);pp(j,W);break e;case 1:A=O;var $=j.type,q=j.stateNode;if((j.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(es===null||!es.has(q)))){j.flags|=65536,o&=-o,j.lanes|=o;var de=Wp(j,A,o);pp(j,de);break e}}j=j.return}while(j!==null)}bm(l)}catch(we){o=we,ut===l&&l!==null&&(ut=l=l.return);continue}break}while(!0)}function jm(){var n=Ki.current;return Ki.current=Vi,n===null?Vi:n}function Md(){(xt===0||xt===3||xt===2)&&(xt=4),wt===null||(Rs&268435455)===0&&(Qi&268435455)===0||rs(wt,St)}function nl(n,o){var l=Ue;Ue|=2;var h=jm();(wt!==n||St!==o)&&(Nr=null,As(n,o));do try{Ww();break}catch(x){ym(n,x)}while(!0);if(Gc(),Ue=l,Ki.current=h,ut!==null)throw Error(s(261));return wt=null,St=0,xt}function Ww(){for(;ut!==null;)wm(ut)}function Vw(){for(;ut!==null&&!pj();)wm(ut)}function wm(n){var o=Em(n.alternate,n,on);n.memoizedProps=n.pendingProps,o===null?bm(n):ut=o,Sd.current=null}function bm(n){var o=n;do{var l=o.alternate;if(n=o.return,(o.flags&32768)===0){if(l=Mw(l,o,on),l!==null){ut=l;return}}else{if(l=Ow(l,o),l!==null){l.flags&=32767,ut=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{xt=6,ut=null;return}}if(o=o.sibling,o!==null){ut=o;return}ut=o=n}while(o!==null);xt===0&&(xt=5)}function Ts(n,o,l){var h=Ge,x=wn.transition;try{wn.transition=null,Ge=1,Hw(n,o,l,h)}finally{wn.transition=x,Ge=h}return null}function Hw(n,o,l,h){do vo();while(ts!==null);if((Ue&6)!==0)throw Error(s(327));l=n.finishedWork;var x=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0;var j=l.lanes|l.childLanes;if(Nj(n,j),n===wt&&(ut=wt=null,St=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Xi||(Xi=!0,Sm(ai,function(){return vo(),null})),j=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||j){j=wn.transition,wn.transition=null;var _=Ge;Ge=1;var A=Ue;Ue|=4,Sd.current=null,Lw(n,l),fm(l,n),dw(Mc),hi=!!Tc,Mc=Tc=null,n.current=l,$w(l),mj(),Ue=A,Ge=_,wn.transition=j}else n.current=l;if(Xi&&(Xi=!1,ts=n,Zi=x),j=n.pendingLanes,j===0&&(es=null),vj(l.stateNode),Ht(n,lt()),o!==null)for(h=n.onRecoverableError,l=0;l<o.length;l++)x=o[l],h(x.value,{componentStack:x.stack,digest:x.digest});if(Ji)throw Ji=!1,n=Fd,Fd=null,n;return(Zi&1)!==0&&n.tag!==0&&vo(),j=n.pendingLanes,(j&1)!==0?n===Dd?_a++:(_a=0,Dd=n):_a=0,Qr(),null}function vo(){if(ts!==null){var n=dh(Zi),o=wn.transition,l=Ge;try{if(wn.transition=null,Ge=16>n?16:n,ts===null)var h=!1;else{if(n=ts,ts=null,Zi=0,(Ue&6)!==0)throw Error(s(331));var x=Ue;for(Ue|=4,me=n.current;me!==null;){var j=me,_=j.child;if((me.flags&16)!==0){var A=j.deletions;if(A!==null){for(var O=0;O<A.length;O++){var G=A[O];for(me=G;me!==null;){var ae=me;switch(ae.tag){case 0:case 11:case 15:Na(8,ae,j)}var le=ae.child;if(le!==null)le.return=ae,me=le;else for(;me!==null;){ae=me;var oe=ae.sibling,pe=ae.return;if(im(ae),ae===G){me=null;break}if(oe!==null){oe.return=pe,me=oe;break}me=pe}}}var xe=j.alternate;if(xe!==null){var je=xe.child;if(je!==null){xe.child=null;do{var ct=je.sibling;je.sibling=null,je=ct}while(je!==null)}}me=j}}if((j.subtreeFlags&2064)!==0&&_!==null)_.return=j,me=_;else e:for(;me!==null;){if(j=me,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Na(9,j,j.return)}var W=j.sibling;if(W!==null){W.return=j.return,me=W;break e}me=j.return}}var $=n.current;for(me=$;me!==null;){_=me;var q=_.child;if((_.subtreeFlags&2064)!==0&&q!==null)q.return=_,me=q;else e:for(_=$;me!==null;){if(A=me,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:Gi(9,A)}}catch(we){at(A,A.return,we)}if(A===_){me=null;break e}var de=A.sibling;if(de!==null){de.return=A.return,me=de;break e}me=A.return}}if(Ue=x,Qr(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(ii,n)}catch{}h=!0}return h}finally{Ge=l,wn.transition=o}}return!1}function Cm(n,o,l){o=po(l,o),o=zp(n,o,1),n=Xr(n,o,1),o=Ot(),n!==null&&(Jo(n,1,o),Ht(n,o))}function at(n,o,l){if(n.tag===3)Cm(n,n,l);else for(;o!==null;){if(o.tag===3){Cm(o,n,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(es===null||!es.has(h))){n=po(l,n),n=Wp(o,n,1),o=Xr(o,n,1),n=Ot(),o!==null&&(Jo(o,1,n),Ht(o,n));break}}o=o.return}}function Uw(n,o,l){var h=n.pingCache;h!==null&&h.delete(o),o=Ot(),n.pingedLanes|=n.suspendedLanes&l,wt===n&&(St&l)===l&&(xt===4||xt===3&&(St&130023424)===St&&500>lt()-kd?As(n,0):_d|=l),Ht(n,o)}function Nm(n,o){o===0&&((n.mode&1)===0?o=1:(o=ci,ci<<=1,(ci&130023424)===0&&(ci=4194304)));var l=Ot();n=wr(n,o),n!==null&&(Jo(n,o,l),Ht(n,l))}function qw(n){var o=n.memoizedState,l=0;o!==null&&(l=o.retryLane),Nm(n,l)}function Yw(n,o){var l=0;switch(n.tag){case 13:var h=n.stateNode,x=n.memoizedState;x!==null&&(l=x.retryLane);break;case 19:h=n.stateNode;break;default:throw Error(s(314))}h!==null&&h.delete(o),Nm(n,l)}var Em;Em=function(n,o,l){if(n!==null)if(n.memoizedProps!==o.pendingProps||Bt.current)Wt=!0;else{if((n.lanes&l)===0&&(o.flags&128)===0)return Wt=!1,Tw(n,o,l);Wt=(n.flags&131072)!==0}else Wt=!1,nt&&(o.flags&1048576)!==0&&sp(o,Ri,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;qi(n,o),n=o.pendingProps;var x=oo(o,Ft.current);fo(o,l),x=od(null,o,h,n,x,l);var j=ad();return o.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,zt(h)?(j=!0,ki(o)):j=!1,o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Xc(o),x.updater=Hi,o.stateNode=x,x._reactInternals=o,fd(o,h,n,l),o=gd(null,o,h,!0,j,l)):(o.tag=0,nt&&j&&Wc(o),Mt(null,o,x,l),o=o.child),o;case 16:h=o.elementType;e:{switch(qi(n,o),n=o.pendingProps,x=h._init,h=x(h._payload),o.type=h,x=o.tag=Kw(h),n=Mn(h,n),x){case 0:o=md(null,o,h,n,l);break e;case 1:o=Jp(null,o,h,n,l);break e;case 11:o=qp(null,o,h,n,l);break e;case 14:o=Yp(null,o,h,Mn(h.type,n),l);break e}throw Error(s(306,h,""))}return o;case 0:return h=o.type,x=o.pendingProps,x=o.elementType===h?x:Mn(h,x),md(n,o,h,x,l);case 1:return h=o.type,x=o.pendingProps,x=o.elementType===h?x:Mn(h,x),Jp(n,o,h,x,l);case 3:e:{if(Xp(o),n===null)throw Error(s(387));h=o.pendingProps,j=o.memoizedState,x=j.element,hp(n,o),Ii(o,h,null,l);var _=o.memoizedState;if(h=_.element,j.isDehydrated)if(j={element:h,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},o.updateQueue.baseState=j,o.memoizedState=j,o.flags&256){x=po(Error(s(423)),o),o=Zp(n,o,h,l,x);break e}else if(h!==x){x=po(Error(s(424)),o),o=Zp(n,o,h,l,x);break e}else for(sn=Yr(o.stateNode.containerInfo.firstChild),rn=o,nt=!0,Tn=null,l=up(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(lo(),h===x){o=Cr(n,o,l);break e}Mt(n,o,h,l)}o=o.child}return o;case 5:return gp(o),n===null&&Uc(o),h=o.type,x=o.pendingProps,j=n!==null?n.memoizedProps:null,_=x.children,Oc(h,x)?_=null:j!==null&&Oc(h,j)&&(o.flags|=32),Qp(n,o),Mt(n,o,_,l),o.child;case 6:return n===null&&Uc(o),null;case 13:return em(n,o,l);case 4:return Zc(o,o.stateNode.containerInfo),h=o.pendingProps,n===null?o.child=co(o,null,h,l):Mt(n,o,h,l),o.child;case 11:return h=o.type,x=o.pendingProps,x=o.elementType===h?x:Mn(h,x),qp(n,o,h,x,l);case 7:return Mt(n,o,o.pendingProps,l),o.child;case 8:return Mt(n,o,o.pendingProps.children,l),o.child;case 12:return Mt(n,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,x=o.pendingProps,j=o.memoizedProps,_=x.value,Xe(Ti,h._currentValue),h._currentValue=_,j!==null)if(An(j.value,_)){if(j.children===x.children&&!Bt.current){o=Cr(n,o,l);break e}}else for(j=o.child,j!==null&&(j.return=o);j!==null;){var A=j.dependencies;if(A!==null){_=j.child;for(var O=A.firstContext;O!==null;){if(O.context===h){if(j.tag===1){O=br(-1,l&-l),O.tag=2;var G=j.updateQueue;if(G!==null){G=G.shared;var ae=G.pending;ae===null?O.next=O:(O.next=ae.next,ae.next=O),G.pending=O}}j.lanes|=l,O=j.alternate,O!==null&&(O.lanes|=l),Qc(j.return,l,o),A.lanes|=l;break}O=O.next}}else if(j.tag===10)_=j.type===o.type?null:j.child;else if(j.tag===18){if(_=j.return,_===null)throw Error(s(341));_.lanes|=l,A=_.alternate,A!==null&&(A.lanes|=l),Qc(_,l,o),_=j.sibling}else _=j.child;if(_!==null)_.return=j;else for(_=j;_!==null;){if(_===o){_=null;break}if(j=_.sibling,j!==null){j.return=_.return,_=j;break}_=_.return}j=_}Mt(n,o,x.children,l),o=o.child}return o;case 9:return x=o.type,h=o.pendingProps.children,fo(o,l),x=yn(x),h=h(x),o.flags|=1,Mt(n,o,h,l),o.child;case 14:return h=o.type,x=Mn(h,o.pendingProps),x=Mn(h.type,x),Yp(n,o,h,x,l);case 15:return Gp(n,o,o.type,o.pendingProps,l);case 17:return h=o.type,x=o.pendingProps,x=o.elementType===h?x:Mn(h,x),qi(n,o),o.tag=1,zt(h)?(n=!0,ki(o)):n=!1,fo(o,l),$p(o,h,x),fd(o,h,x,l),gd(null,o,h,!0,n,l);case 19:return nm(n,o,l);case 22:return Kp(n,o,l)}throw Error(s(156,o.tag))};function Sm(n,o){return oh(n,o)}function Gw(n,o,l,h){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(n,o,l,h){return new Gw(n,o,l,h)}function Od(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Kw(n){if(typeof n=="function")return Od(n)?1:0;if(n!=null){if(n=n.$$typeof,n===ue)return 11;if(n===z)return 14}return 2}function ss(n,o){var l=n.alternate;return l===null?(l=bn(n.tag,o,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=o,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,o=n.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function rl(n,o,l,h,x,j){var _=2;if(h=n,typeof n=="function")Od(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case P:return Ms(l.children,x,j,o);case I:_=8,x|=8;break;case V:return n=bn(12,l,o,x|2),n.elementType=V,n.lanes=j,n;case Q:return n=bn(13,l,o,x),n.elementType=Q,n.lanes=j,n;case ne:return n=bn(19,l,o,x),n.elementType=ne,n.lanes=j,n;case B:return sl(l,x,j,o);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Y:_=10;break e;case J:_=9;break e;case ue:_=11;break e;case z:_=14;break e;case H:_=16,h=null;break e}throw Error(s(130,n==null?n:typeof n,""))}return o=bn(_,l,o,x),o.elementType=n,o.type=h,o.lanes=j,o}function Ms(n,o,l,h){return n=bn(7,n,h,o),n.lanes=l,n}function sl(n,o,l,h){return n=bn(22,n,h,o),n.elementType=B,n.lanes=l,n.stateNode={isHidden:!1},n}function Id(n,o,l){return n=bn(6,n,null,o),n.lanes=l,n}function Ld(n,o,l){return o=bn(4,n.children!==null?n.children:[],n.key,o),o.lanes=l,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}function Qw(n,o,l,h,x){this.tag=o,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uc(0),this.expirationTimes=uc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uc(0),this.identifierPrefix=h,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function $d(n,o,l,h,x,j,_,A,O){return n=new Qw(n,o,l,A,O),o===1?(o=1,j===!0&&(o|=8)):o=0,j=bn(3,null,null,o),n.current=j,j.stateNode=n,j.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xc(j),n}function Jw(n,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:h==null?null:""+h,children:n,containerInfo:o,implementation:l}}function _m(n){if(!n)return Kr;n=n._reactInternals;e:{if(Cs(n)!==n||n.tag!==1)throw Error(s(170));var o=n;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(zt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(s(171))}if(n.tag===1){var l=n.type;if(zt(l))return tp(n,l,o)}return o}function km(n,o,l,h,x,j,_,A,O){return n=$d(l,h,!0,n,x,j,_,A,O),n.context=_m(null),l=n.current,h=Ot(),x=ns(l),j=br(h,x),j.callback=o??null,Xr(l,j,x),n.current.lanes=x,Jo(n,x,h),Ht(n,h),n}function ol(n,o,l,h){var x=o.current,j=Ot(),_=ns(x);return l=_m(l),o.context===null?o.context=l:o.pendingContext=l,o=br(j,_),o.payload={element:n},h=h===void 0?null:h,h!==null&&(o.callback=h),n=Xr(x,o,_),n!==null&&(Ln(n,x,_,j),Oi(n,x,_)),_}function al(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Fm(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<o?l:o}}function Bd(n,o){Fm(n,o),(n=n.alternate)&&Fm(n,o)}function Xw(){return null}var Dm=typeof reportError=="function"?reportError:function(n){console.error(n)};function zd(n){this._internalRoot=n}il.prototype.render=zd.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(s(409));ol(n,o,null,null)},il.prototype.unmount=zd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;Ps(function(){ol(null,n,null,null)}),o[xr]=null}};function il(n){this._internalRoot=n}il.prototype.unstable_scheduleHydration=function(n){if(n){var o=hh();n={blockedOn:null,target:n,priority:o};for(var l=0;l<Hr.length&&o!==0&&o<Hr[l].priority;l++);Hr.splice(l,0,n),l===0&&gh(n)}};function Wd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ll(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Rm(){}function Zw(n,o,l,h,x){if(x){if(typeof h=="function"){var j=h;h=function(){var G=al(_);j.call(G)}}var _=km(o,h,n,0,null,!1,!1,"",Rm);return n._reactRootContainer=_,n[xr]=_.current,ua(n.nodeType===8?n.parentNode:n),Ps(),_}for(;x=n.lastChild;)n.removeChild(x);if(typeof h=="function"){var A=h;h=function(){var G=al(O);A.call(G)}}var O=$d(n,0,!1,null,null,!1,!1,"",Rm);return n._reactRootContainer=O,n[xr]=O.current,ua(n.nodeType===8?n.parentNode:n),Ps(function(){ol(o,O,l,h)}),O}function cl(n,o,l,h,x){var j=l._reactRootContainer;if(j){var _=j;if(typeof x=="function"){var A=x;x=function(){var O=al(_);A.call(O)}}ol(o,_,n,x)}else _=Zw(l,o,n,x,h);return al(_)}uh=function(n){switch(n.tag){case 3:var o=n.stateNode;if(o.current.memoizedState.isDehydrated){var l=Qo(o.pendingLanes);l!==0&&(fc(o,l|1),Ht(o,lt()),(Ue&6)===0&&(xo=lt()+500,Qr()))}break;case 13:Ps(function(){var h=wr(n,1);if(h!==null){var x=Ot();Ln(h,n,1,x)}}),Bd(n,1)}},hc=function(n){if(n.tag===13){var o=wr(n,134217728);if(o!==null){var l=Ot();Ln(o,n,134217728,l)}Bd(n,134217728)}},fh=function(n){if(n.tag===13){var o=ns(n),l=wr(n,o);if(l!==null){var h=Ot();Ln(l,n,o,h)}Bd(n,o)}},hh=function(){return Ge},ph=function(n,o){var l=Ge;try{return Ge=n,o()}finally{Ge=l}},Yo=function(n,o,l){switch(o){case"input":if(Zt(n,l),o=l.name,l.type==="radio"&&o!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==n&&h.form===n.form){var x=Si(h);if(!x)throw Error(s(90));Ve(h),Zt(h,x)}}}break;case"textarea":ti(n,l);break;case"select":o=l.value,o!=null&&Tr(n,!!l.multiple,o,!1)}},mt=Ad,kt=Ps;var e1={usingClientEntryPoint:!1,Events:[pa,ro,Si,Me,it,Ad]},ka={findFiberByHostInstance:Ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},t1={bundleType:ka.bundleType,version:ka.version,rendererPackageName:ka.rendererPackageName,rendererConfig:ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=rh(n),n===null?null:n.stateNode},findFiberByHostInstance:ka.findFiberByHostInstance||Xw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dl.isDisabled&&dl.supportsFiber)try{ii=dl.inject(t1),Kn=dl}catch{}}return Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e1,Ut.createPortal=function(n,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wd(o))throw Error(s(200));return Jw(n,o,null,l)},Ut.createRoot=function(n,o){if(!Wd(n))throw Error(s(299));var l=!1,h="",x=Dm;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(x=o.onRecoverableError)),o=$d(n,1,!1,null,null,l,!1,h,x),n[xr]=o.current,ua(n.nodeType===8?n.parentNode:n),new zd(o)},Ut.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=rh(o),n=n===null?null:n.stateNode,n},Ut.flushSync=function(n){return Ps(n)},Ut.hydrate=function(n,o,l){if(!ll(o))throw Error(s(200));return cl(null,n,o,!0,l)},Ut.hydrateRoot=function(n,o,l){if(!Wd(n))throw Error(s(405));var h=l!=null&&l.hydratedSources||null,x=!1,j="",_=Dm;if(l!=null&&(l.unstable_strictMode===!0&&(x=!0),l.identifierPrefix!==void 0&&(j=l.identifierPrefix),l.onRecoverableError!==void 0&&(_=l.onRecoverableError)),o=km(o,null,n,1,l??null,x,!1,j,_),n[xr]=o.current,ua(n),h)for(n=0;n<h.length;n++)l=h[n],x=l._getVersion,x=x(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,x]:o.mutableSourceEagerHydrationData.push(l,x);return new il(o)},Ut.render=function(n,o,l){if(!ll(o))throw Error(s(200));return cl(null,n,o,!1,l)},Ut.unmountComponentAtNode=function(n){if(!ll(n))throw Error(s(40));return n._reactRootContainer?(Ps(function(){cl(null,null,n,!1,function(){n._reactRootContainer=null,n[xr]=null})}),!0):!1},Ut.unstable_batchedUpdates=Ad,Ut.unstable_renderSubtreeIntoContainer=function(n,o,l,h){if(!ll(l))throw Error(s(200));if(n==null||n._reactInternals===void 0)throw Error(s(38));return cl(n,o,l,!1,h)},Ut.version="18.3.1-next-f1338f8080-20240426",Ut}var $m;function px(){if($m)return Ud.exports;$m=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Ud.exports=c1(),Ud.exports}var Bm;function d1(){if(Bm)return ul;Bm=1;var t=px();return ul.createRoot=t.createRoot,ul.hydrateRoot=t.hydrateRoot,ul}var u1=d1(),v=Ba();const ce=tf(v),mx=r1({__proto__:null,default:ce},[v]);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zm="popstate";function f1(t={}){function r(a,i){let{pathname:c,search:d,hash:f}=a.location;return Pu("",{pathname:c,search:d,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(a,i){return typeof i=="string"?i:Ma(i)}return p1(r,s,null,t)}function ot(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function zn(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function h1(){return Math.random().toString(36).substring(2,10)}function Wm(t,r){return{usr:t.state,key:t.key,idx:r}}function Pu(t,r,s=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof r=="string"?Mo(r):r,state:s,key:r&&r.key||a||h1()}}function Ma({pathname:t="/",search:r="",hash:s=""}){return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Mo(t){let r={};if(t){let s=t.indexOf("#");s>=0&&(r.hash=t.substring(s),t=t.substring(0,s));let a=t.indexOf("?");a>=0&&(r.search=t.substring(a),t=t.substring(0,a)),t&&(r.pathname=t)}return r}function p1(t,r,s,a={}){let{window:i=document.defaultView,v5Compat:c=!1}=a,d=i.history,f="POP",g=null,p=m();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function m(){return(d.state||{idx:null}).idx}function u(){f="POP";let w=m(),E=w==null?null:w-p;p=w,g&&g({action:f,location:C.location,delta:E})}function y(w,E){f="PUSH";let S=Pu(C.location,w,E);p=m()+1;let k=Wm(S,p),R=C.createHref(S);try{d.pushState(k,"",R)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(R)}c&&g&&g({action:f,location:C.location,delta:1})}function b(w,E){f="REPLACE";let S=Pu(C.location,w,E);p=m();let k=Wm(S,p),R=C.createHref(S);d.replaceState(k,"",R),c&&g&&g({action:f,location:C.location,delta:0})}function N(w){return m1(w)}let C={get action(){return f},get location(){return t(i,d)},listen(w){if(g)throw new Error("A history only accepts one active listener");return i.addEventListener(zm,u),g=w,()=>{i.removeEventListener(zm,u),g=null}},createHref(w){return r(i,w)},createURL:N,encodeLocation(w){let E=N(w);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:b,go(w){return d.go(w)}};return C}function m1(t,r=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),ot(s,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:Ma(t);return a=a.replace(/ $/,"%20"),!r&&a.startsWith("//")&&(a=s+a),new URL(a,s)}function gx(t,r,s="/"){return g1(t,r,s,!1)}function g1(t,r,s,a){let i=typeof r=="string"?Mo(r):r,c=kr(i.pathname||"/",s);if(c==null)return null;let d=xx(t);x1(d);let f=null;for(let g=0;f==null&&g<d.length;++g){let p=k1(c);f=S1(d[g],p,a)}return f}function xx(t,r=[],s=[],a="",i=!1){let c=(d,f,g=i,p)=>{let m={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(a)&&g)return;ot(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length)}let u=_r([a,m.relativePath]),y=s.concat(m);d.children&&d.children.length>0&&(ot(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),xx(d.children,r,y,u,g)),!(d.path==null&&!d.index)&&r.push({path:u,score:N1(u,d.index),routesMeta:y})};return t.forEach((d,f)=>{if(d.path===""||!d.path?.includes("?"))c(d,f);else for(let g of vx(d.path))c(d,f,!0,g)}),r}function vx(t){let r=t.split("/");if(r.length===0)return[];let[s,...a]=r,i=s.endsWith("?"),c=s.replace(/\?$/,"");if(a.length===0)return i?[c,""]:[c];let d=vx(a.join("/")),f=[];return f.push(...d.map(g=>g===""?c:[c,g].join("/"))),i&&f.push(...d),f.map(g=>t.startsWith("/")&&g===""?"/":g)}function x1(t){t.sort((r,s)=>r.score!==s.score?s.score-r.score:E1(r.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}var v1=/^:[\w-]+$/,y1=3,j1=2,w1=1,b1=10,C1=-2,Vm=t=>t==="*";function N1(t,r){let s=t.split("/"),a=s.length;return s.some(Vm)&&(a+=C1),r&&(a+=j1),s.filter(i=>!Vm(i)).reduce((i,c)=>i+(v1.test(c)?y1:c===""?w1:b1),a)}function E1(t,r){return t.length===r.length&&t.slice(0,-1).every((a,i)=>a===r[i])?t[t.length-1]-r[r.length-1]:0}function S1(t,r,s=!1){let{routesMeta:a}=t,i={},c="/",d=[];for(let f=0;f<a.length;++f){let g=a[f],p=f===a.length-1,m=c==="/"?r:r.slice(c.length)||"/",u=Rl({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},m),y=g.route;if(!u&&p&&s&&!a[a.length-1].route.index&&(u=Rl({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},m)),!u)return null;Object.assign(i,u.params),d.push({params:i,pathname:_r([c,u.pathname]),pathnameBase:P1(_r([c,u.pathnameBase])),route:y}),u.pathnameBase!=="/"&&(c=_r([c,u.pathnameBase]))}return d}function Rl(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,a]=_1(t.path,t.caseSensitive,t.end),i=r.match(s);if(!i)return null;let c=i[0],d=c.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:a.reduce((p,{paramName:m,isOptional:u},y)=>{if(m==="*"){let N=f[y]||"";d=c.slice(0,c.length-N.length).replace(/(.)\/+$/,"$1")}const b=f[y];return u&&!b?p[m]=void 0:p[m]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:d,pattern:t}}function _1(t,r=!1,s=!0){zn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,g)=>(a.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,r?void 0:"i"),a]}function k1(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return zn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),t}}function kr(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,a=t.charAt(s);return a&&a!=="/"?null:t.slice(s)||"/"}var yx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F1=t=>yx.test(t);function D1(t,r="/"){let{pathname:s,search:a="",hash:i=""}=typeof t=="string"?Mo(t):t,c;if(s)if(F1(s))c=s;else{if(s.includes("//")){let d=s;s=s.replace(/\/\/+/g,"/"),zn(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${s}`)}s.startsWith("/")?c=Hm(s.substring(1),"/"):c=Hm(s,r)}else c=r;return{pathname:c,search:A1(a),hash:T1(i)}}function Hm(t,r){let s=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function Gd(t,r,s,a){return`Cannot include a '${t}' character in a manually specified \`to.${r}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function R1(t){return t.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function jx(t){let r=R1(t);return r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase)}function wx(t,r,s,a=!1){let i;typeof t=="string"?i=Mo(t):(i={...t},ot(!i.pathname||!i.pathname.includes("?"),Gd("?","pathname","search",i)),ot(!i.pathname||!i.pathname.includes("#"),Gd("#","pathname","hash",i)),ot(!i.search||!i.search.includes("#"),Gd("#","search","hash",i)));let c=t===""||i.pathname==="",d=c?"/":i.pathname,f;if(d==null)f=s;else{let u=r.length-1;if(!a&&d.startsWith("..")){let y=d.split("/");for(;y[0]==="..";)y.shift(),u-=1;i.pathname=y.join("/")}f=u>=0?r[u]:"/"}let g=D1(i,f),p=d&&d!=="/"&&d.endsWith("/"),m=(c||d===".")&&s.endsWith("/");return!g.pathname.endsWith("/")&&(p||m)&&(g.pathname+="/"),g}var _r=t=>t.join("/").replace(/\/\/+/g,"/"),P1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),A1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,T1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,M1=class{constructor(t,r,s,a=!1){this.status=t,this.statusText=r||"",this.internal=a,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function O1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function I1(t){return t.map(r=>r.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var bx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Cx(t,r){let s=t;if(typeof s!="string"||!yx.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let a=s,i=!1;if(bx)try{let c=new URL(window.location.href),d=s.startsWith("//")?new URL(c.protocol+s):new URL(s),f=kr(d.pathname,r);d.origin===c.origin&&f!=null?s=f+d.search+d.hash:i=!0}catch{zn(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:i,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Nx=["POST","PUT","PATCH","DELETE"];new Set(Nx);var L1=["GET",...Nx];new Set(L1);var Oo=v.createContext(null);Oo.displayName="DataRouter";var zl=v.createContext(null);zl.displayName="DataRouterState";var $1=v.createContext(!1),Ex=v.createContext({isTransitioning:!1});Ex.displayName="ViewTransition";var B1=v.createContext(new Map);B1.displayName="Fetchers";var z1=v.createContext(null);z1.displayName="Await";var Rn=v.createContext(null);Rn.displayName="Navigation";var za=v.createContext(null);za.displayName="Location";var ur=v.createContext({outlet:null,matches:[],isDataRoute:!1});ur.displayName="Route";var nf=v.createContext(null);nf.displayName="RouteError";var Sx="REACT_ROUTER_ERROR",W1="REDIRECT",V1="ROUTE_ERROR_RESPONSE";function H1(t){if(t.startsWith(`${Sx}:${W1}:{`))try{let r=JSON.parse(t.slice(28));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.location=="string"&&typeof r.reloadDocument=="boolean"&&typeof r.replace=="boolean")return r}catch{}}function U1(t){if(t.startsWith(`${Sx}:${V1}:{`))try{let r=JSON.parse(t.slice(40));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string")return new M1(r.status,r.statusText,r.data)}catch{}}function q1(t,{relative:r}={}){ot(Wa(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:a}=v.useContext(Rn),{hash:i,pathname:c,search:d}=Va(t,{relative:r}),f=c;return s!=="/"&&(f=c==="/"?s:_r([s,c])),a.createHref({pathname:f,search:d,hash:i})}function Wa(){return v.useContext(za)!=null}function Ys(){return ot(Wa(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(za).location}var _x="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kx(t){v.useContext(Rn).static||v.useLayoutEffect(t)}function Fx(){let{isDataRoute:t}=v.useContext(ur);return t?ab():Y1()}function Y1(){ot(Wa(),"useNavigate() may be used only in the context of a <Router> component.");let t=v.useContext(Oo),{basename:r,navigator:s}=v.useContext(Rn),{matches:a}=v.useContext(ur),{pathname:i}=Ys(),c=JSON.stringify(jx(a)),d=v.useRef(!1);return kx(()=>{d.current=!0}),v.useCallback((g,p={})=>{if(zn(d.current,_x),!d.current)return;if(typeof g=="number"){s.go(g);return}let m=wx(g,JSON.parse(c),i,p.relative==="path");t==null&&r!=="/"&&(m.pathname=m.pathname==="/"?r:_r([r,m.pathname])),(p.replace?s.replace:s.push)(m,p.state,p)},[r,s,c,i,t])}v.createContext(null);function G1(){let{matches:t}=v.useContext(ur),r=t[t.length-1];return r?r.params:{}}function Va(t,{relative:r}={}){let{matches:s}=v.useContext(ur),{pathname:a}=Ys(),i=JSON.stringify(jx(s));return v.useMemo(()=>wx(t,JSON.parse(i),a,r==="path"),[t,i,a,r])}function K1(t,r){return Dx(t,r)}function Dx(t,r,s,a,i){ot(Wa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=v.useContext(Rn),{matches:d}=v.useContext(ur),f=d[d.length-1],g=f?f.params:{},p=f?f.pathname:"/",m=f?f.pathnameBase:"/",u=f&&f.route;{let S=u&&u.path||"";Px(p,!u||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let y=Ys(),b;if(r){let S=typeof r=="string"?Mo(r):r;ot(m==="/"||S.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${S.pathname}" was given in the \`location\` prop.`),b=S}else b=y;let N=b.pathname||"/",C=N;if(m!=="/"){let S=m.replace(/^\//,"").split("/");C="/"+N.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=gx(t,{pathname:C});zn(u||w!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),zn(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=eb(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},g,S.params),pathname:_r([m,c.encodeLocation?c.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?m:_r([m,c.encodeLocation?c.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),d,s,a,i);return r&&E?v.createElement(za.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},E):E}function Q1(){let t=ob(),r=O1(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",t),d=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:c},"ErrorBoundary")," or"," ",v.createElement("code",{style:c},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},r),s?v.createElement("pre",{style:i},s):null,d)}var J1=v.createElement(Q1,null),Rx=class extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){this.props.onError?this.props.onError(t,r):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const s=U1(t.digest);s&&(t=s)}let r=t!==void 0?v.createElement(ur.Provider,{value:this.props.routeContext},v.createElement(nf.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?v.createElement(X1,{error:t},r):r}};Rx.contextType=$1;var Kd=new WeakMap;function X1({children:t,error:r}){let{basename:s}=v.useContext(Rn);if(typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){let a=H1(r.digest);if(a){let i=Kd.get(r);if(i)throw i;let c=Cx(a.location,s);if(bx&&!Kd.get(r))if(c.isExternal||a.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:a.replace}));throw Kd.set(r,d),d}return v.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return t}function Z1({routeContext:t,match:r,children:s}){let a=v.useContext(Oo);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(ur.Provider,{value:t},s)}function eb(t,r=[],s=null,a=null,i=null){if(t==null){if(!s)return null;if(s.errors)t=s.matches;else if(r.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let c=t,d=s?.errors;if(d!=null){let m=c.findIndex(u=>u.route.id&&d?.[u.route.id]!==void 0);ot(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,m+1))}let f=!1,g=-1;if(s)for(let m=0;m<c.length;m++){let u=c[m];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(g=m),u.route.id){let{loaderData:y,errors:b}=s,N=u.route.loader&&!y.hasOwnProperty(u.route.id)&&(!b||b[u.route.id]===void 0);if(u.route.lazy||N){f=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let p=s&&a?(m,u)=>{a(m,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:I1(s.matches),errorInfo:u})}:void 0;return c.reduceRight((m,u,y)=>{let b,N=!1,C=null,w=null;s&&(b=d&&u.route.id?d[u.route.id]:void 0,C=u.route.errorElement||J1,f&&(g<0&&y===0?(Px("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,w=null):g===y&&(N=!0,w=u.route.hydrateFallbackElement||null)));let E=r.concat(c.slice(0,y+1)),S=()=>{let k;return b?k=C:N?k=w:u.route.Component?k=v.createElement(u.route.Component,null):u.route.element?k=u.route.element:k=m,v.createElement(Z1,{match:u,routeContext:{outlet:m,matches:E,isDataRoute:s!=null},children:k})};return s&&(u.route.ErrorBoundary||u.route.errorElement||y===0)?v.createElement(Rx,{location:s.location,revalidation:s.revalidation,component:C,error:b,children:S(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:p}):S()},null)}function rf(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tb(t){let r=v.useContext(Oo);return ot(r,rf(t)),r}function nb(t){let r=v.useContext(zl);return ot(r,rf(t)),r}function rb(t){let r=v.useContext(ur);return ot(r,rf(t)),r}function sf(t){let r=rb(t),s=r.matches[r.matches.length-1];return ot(s.route.id,`${t} can only be used on routes that contain a unique "id"`),s.route.id}function sb(){return sf("useRouteId")}function ob(){let t=v.useContext(nf),r=nb("useRouteError"),s=sf("useRouteError");return t!==void 0?t:r.errors?.[s]}function ab(){let{router:t}=tb("useNavigate"),r=sf("useNavigate"),s=v.useRef(!1);return kx(()=>{s.current=!0}),v.useCallback(async(i,c={})=>{zn(s.current,_x),s.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:r,...c}))},[t,r])}var Um={};function Px(t,r,s){!r&&!Um[t]&&(Um[t]=!0,zn(!1,s))}v.memo(ib);function ib({routes:t,future:r,state:s,onError:a}){return Dx(t,void 0,s,a,r)}function Au(t){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lb({basename:t="/",children:r=null,location:s,navigationType:a="POP",navigator:i,static:c=!1,unstable_useTransitions:d}){ot(!Wa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),g=v.useMemo(()=>({basename:f,navigator:i,static:c,unstable_useTransitions:d,future:{}}),[f,i,c,d]);typeof s=="string"&&(s=Mo(s));let{pathname:p="/",search:m="",hash:u="",state:y=null,key:b="default"}=s,N=v.useMemo(()=>{let C=kr(p,f);return C==null?null:{location:{pathname:C,search:m,hash:u,state:y,key:b},navigationType:a}},[f,p,m,u,y,b,a]);return zn(N!=null,`<Router basename="${f}"> is not able to match the URL "${p}${m}${u}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:v.createElement(Rn.Provider,{value:g},v.createElement(za.Provider,{children:r,value:N}))}function cb({children:t,location:r}){return K1(Tu(t),r)}function Tu(t,r=[]){let s=[];return v.Children.forEach(t,(a,i)=>{if(!v.isValidElement(a))return;let c=[...r,i];if(a.type===v.Fragment){s.push.apply(s,Tu(a.props.children,c));return}ot(a.type===Au,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=Tu(a.props.children,c)),s.push(d)}),s}var El="get",Sl="application/x-www-form-urlencoded";function Wl(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function db(t){return Wl(t)&&t.tagName.toLowerCase()==="button"}function ub(t){return Wl(t)&&t.tagName.toLowerCase()==="form"}function fb(t){return Wl(t)&&t.tagName.toLowerCase()==="input"}function hb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pb(t,r){return t.button===0&&(!r||r==="_self")&&!hb(t)}var fl=null;function mb(){if(fl===null)try{new FormData(document.createElement("form"),0),fl=!1}catch{fl=!0}return fl}var gb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qd(t){return t!=null&&!gb.has(t)?(zn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sl}"`),null):t}function xb(t,r){let s,a,i,c,d;if(ub(t)){let f=t.getAttribute("action");a=f?kr(f,r):null,s=t.getAttribute("method")||El,i=Qd(t.getAttribute("enctype"))||Sl,c=new FormData(t)}else if(db(t)||fb(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=t.getAttribute("formaction")||f.getAttribute("action");if(a=g?kr(g,r):null,s=t.getAttribute("formmethod")||f.getAttribute("method")||El,i=Qd(t.getAttribute("formenctype"))||Qd(f.getAttribute("enctype"))||Sl,c=new FormData(f,t),!mb()){let{name:p,type:m,value:u}=t;if(m==="image"){let y=p?`${p}.`:"";c.append(`${y}x`,"0"),c.append(`${y}y`,"0")}else p&&c.append(p,u)}}else{if(Wl(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=El,a=null,i=Sl,d=t}return c&&i==="text/plain"&&(d=c,c=void 0),{action:a,method:s.toLowerCase(),encType:i,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function of(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function vb(t,r,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${s}`:r&&kr(a.pathname,r)==="/"?a.pathname=`${r.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function yb(t,r){if(t.id in r)return r[t.id];try{let s=await import(t.module);return r[t.id]=s,s}catch(s){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jb(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function wb(t,r,s){let a=await Promise.all(t.map(async i=>{let c=r.routes[i.route.id];if(c){let d=await yb(c,s);return d.links?d.links():[]}return[]}));return Eb(a.flat(1).filter(jb).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function qm(t,r,s,a,i,c){let d=(g,p)=>s[p]?g.route.id!==s[p].route.id:!0,f=(g,p)=>s[p].pathname!==g.pathname||s[p].route.path?.endsWith("*")&&s[p].params["*"]!==g.params["*"];return c==="assets"?r.filter((g,p)=>d(g,p)||f(g,p)):c==="data"?r.filter((g,p)=>{let m=a.routes[g.route.id];if(!m||!m.hasLoader)return!1;if(d(g,p)||f(g,p))return!0;if(g.route.shouldRevalidate){let u=g.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof u=="boolean")return u}return!0}):[]}function bb(t,r,{includeHydrateFallback:s}={}){return Cb(t.map(a=>{let i=r.routes[a.route.id];if(!i)return[];let c=[i.module];return i.clientActionModule&&(c=c.concat(i.clientActionModule)),i.clientLoaderModule&&(c=c.concat(i.clientLoaderModule)),s&&i.hydrateFallbackModule&&(c=c.concat(i.hydrateFallbackModule)),i.imports&&(c=c.concat(i.imports)),c}).flat(1))}function Cb(t){return[...new Set(t)]}function Nb(t){let r={},s=Object.keys(t).sort();for(let a of s)r[a]=t[a];return r}function Eb(t,r){let s=new Set;return new Set(r),t.reduce((a,i)=>{let c=JSON.stringify(Nb(i));return s.has(c)||(s.add(c),a.push({key:c,link:i})),a},[])}function Ax(){let t=v.useContext(Oo);return of(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Sb(){let t=v.useContext(zl);return of(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var af=v.createContext(void 0);af.displayName="FrameworkContext";function Tx(){let t=v.useContext(af);return of(t,"You must render this element inside a <HydratedRouter> element"),t}function _b(t,r){let s=v.useContext(af),[a,i]=v.useState(!1),[c,d]=v.useState(!1),{onFocus:f,onBlur:g,onMouseEnter:p,onMouseLeave:m,onTouchStart:u}=r,y=v.useRef(null);v.useEffect(()=>{if(t==="render"&&d(!0),t==="viewport"){let C=E=>{E.forEach(S=>{d(S.isIntersecting)})},w=new IntersectionObserver(C,{threshold:.5});return y.current&&w.observe(y.current),()=>{w.disconnect()}}},[t]),v.useEffect(()=>{if(a){let C=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(C)}}},[a]);let b=()=>{i(!0)},N=()=>{i(!1),d(!1)};return s?t!=="intent"?[c,y,{}]:[c,y,{onFocus:Da(f,b),onBlur:Da(g,N),onMouseEnter:Da(p,b),onMouseLeave:Da(m,N),onTouchStart:Da(u,b)}]:[!1,y,{}]}function Da(t,r){return s=>{t&&t(s),s.defaultPrevented||r(s)}}function kb({page:t,...r}){let{router:s}=Ax(),a=v.useMemo(()=>gx(s.routes,t,s.basename),[s.routes,t,s.basename]);return a?v.createElement(Db,{page:t,matches:a,...r}):null}function Fb(t){let{manifest:r,routeModules:s}=Tx(),[a,i]=v.useState([]);return v.useEffect(()=>{let c=!1;return wb(t,r,s).then(d=>{c||i(d)}),()=>{c=!0}},[t,r,s]),a}function Db({page:t,matches:r,...s}){let a=Ys(),{manifest:i,routeModules:c}=Tx(),{basename:d}=Ax(),{loaderData:f,matches:g}=Sb(),p=v.useMemo(()=>qm(t,r,g,i,a,"data"),[t,r,g,i,a]),m=v.useMemo(()=>qm(t,r,g,i,a,"assets"),[t,r,g,i,a]),u=v.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let N=new Set,C=!1;if(r.forEach(E=>{let S=i.routes[E.route.id];!S||!S.hasLoader||(!p.some(k=>k.route.id===E.route.id)&&E.route.id in f&&c[E.route.id]?.shouldRevalidate||S.hasClientLoader?C=!0:N.add(E.route.id))}),N.size===0)return[];let w=vb(t,d,"data");return C&&N.size>0&&w.searchParams.set("_routes",r.filter(E=>N.has(E.route.id)).map(E=>E.route.id).join(",")),[w.pathname+w.search]},[d,f,a,i,p,r,t,c]),y=v.useMemo(()=>bb(m,i),[m,i]),b=Fb(m);return v.createElement(v.Fragment,null,u.map(N=>v.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...s})),y.map(N=>v.createElement("link",{key:N,rel:"modulepreload",href:N,...s})),b.map(({key:N,link:C})=>v.createElement("link",{key:N,nonce:s.nonce,...C})))}function Rb(...t){return r=>{t.forEach(s=>{typeof s=="function"?s(r):s!=null&&(s.current=r)})}}var Pb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Pb&&(window.__reactRouterVersion="7.11.0")}catch{}function Ab({basename:t,children:r,unstable_useTransitions:s,window:a}){let i=v.useRef();i.current==null&&(i.current=f1({window:a,v5Compat:!0}));let c=i.current,[d,f]=v.useState({action:c.action,location:c.location}),g=v.useCallback(p=>{s===!1?f(p):v.startTransition(()=>f(p))},[s]);return v.useLayoutEffect(()=>c.listen(g),[c,g]),v.createElement(lb,{basename:t,children:r,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:s})}var Mx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ox=v.forwardRef(function({onClick:r,discover:s="render",prefetch:a="none",relative:i,reloadDocument:c,replace:d,state:f,target:g,to:p,preventScrollReset:m,viewTransition:u,unstable_defaultShouldRevalidate:y,...b},N){let{basename:C,unstable_useTransitions:w}=v.useContext(Rn),E=typeof p=="string"&&Mx.test(p),S=Cx(p,C);p=S.to;let k=q1(p,{relative:i}),[R,T,D]=_b(a,b),P=Ib(p,{replace:d,state:f,target:g,preventScrollReset:m,relative:i,viewTransition:u,unstable_defaultShouldRevalidate:y,unstable_useTransitions:w});function I(Y){r&&r(Y),Y.defaultPrevented||P(Y)}let V=v.createElement("a",{...b,...D,href:S.absoluteURL||k,onClick:S.isExternal||c?r:I,ref:Rb(N,T),target:g,"data-discover":!E&&s==="render"?"true":void 0});return R&&!E?v.createElement(v.Fragment,null,V,v.createElement(kb,{page:k})):V});Ox.displayName="Link";var Tb=v.forwardRef(function({"aria-current":r="page",caseSensitive:s=!1,className:a="",end:i=!1,style:c,to:d,viewTransition:f,children:g,...p},m){let u=Va(d,{relative:p.relative}),y=Ys(),b=v.useContext(zl),{navigator:N,basename:C}=v.useContext(Rn),w=b!=null&&Wb(u)&&f===!0,E=N.encodeLocation?N.encodeLocation(u).pathname:u.pathname,S=y.pathname,k=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(S=S.toLowerCase(),k=k?k.toLowerCase():null,E=E.toLowerCase()),k&&C&&(k=kr(k,C)||k);const R=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let T=S===E||!i&&S.startsWith(E)&&S.charAt(R)==="/",D=k!=null&&(k===E||!i&&k.startsWith(E)&&k.charAt(E.length)==="/"),P={isActive:T,isPending:D,isTransitioning:w},I=T?r:void 0,V;typeof a=="function"?V=a(P):V=[a,T?"active":null,D?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let Y=typeof c=="function"?c(P):c;return v.createElement(Ox,{...p,"aria-current":I,className:V,ref:m,style:Y,to:d,viewTransition:f},typeof g=="function"?g(P):g)});Tb.displayName="NavLink";var Mb=v.forwardRef(({discover:t="render",fetcherKey:r,navigate:s,reloadDocument:a,replace:i,state:c,method:d=El,action:f,onSubmit:g,relative:p,preventScrollReset:m,viewTransition:u,unstable_defaultShouldRevalidate:y,...b},N)=>{let{unstable_useTransitions:C}=v.useContext(Rn),w=Bb(),E=zb(f,{relative:p}),S=d.toLowerCase()==="get"?"get":"post",k=typeof f=="string"&&Mx.test(f),R=T=>{if(g&&g(T),T.defaultPrevented)return;T.preventDefault();let D=T.nativeEvent.submitter,P=D?.getAttribute("formmethod")||d,I=()=>w(D||T.currentTarget,{fetcherKey:r,method:P,navigate:s,replace:i,state:c,relative:p,preventScrollReset:m,viewTransition:u,unstable_defaultShouldRevalidate:y});C&&s!==!1?v.startTransition(()=>I()):I()};return v.createElement("form",{ref:N,method:S,action:E,onSubmit:a?g:R,...b,"data-discover":!k&&t==="render"?"true":void 0})});Mb.displayName="Form";function Ob(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ix(t){let r=v.useContext(Oo);return ot(r,Ob(t)),r}function Ib(t,{target:r,replace:s,state:a,preventScrollReset:i,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:f,unstable_useTransitions:g}={}){let p=Fx(),m=Ys(),u=Va(t,{relative:c});return v.useCallback(y=>{if(pb(y,r)){y.preventDefault();let b=s!==void 0?s:Ma(m)===Ma(u),N=()=>p(t,{replace:b,state:a,preventScrollReset:i,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:f});g?v.startTransition(()=>N()):N()}},[m,p,u,s,a,r,t,i,c,d,f,g])}var Lb=0,$b=()=>`__${String(++Lb)}__`;function Bb(){let{router:t}=Ix("useSubmit"),{basename:r}=v.useContext(Rn),s=sb(),a=t.fetch,i=t.navigate;return v.useCallback(async(c,d={})=>{let{action:f,method:g,encType:p,formData:m,body:u}=xb(c,r);if(d.navigate===!1){let y=d.fetcherKey||$b();await a(y,s,d.action||f,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:m,body:u,formMethod:d.method||g,formEncType:d.encType||p,flushSync:d.flushSync})}else await i(d.action||f,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:m,body:u,formMethod:d.method||g,formEncType:d.encType||p,replace:d.replace,state:d.state,fromRouteId:s,flushSync:d.flushSync,viewTransition:d.viewTransition})},[a,i,r,s])}function zb(t,{relative:r}={}){let{basename:s}=v.useContext(Rn),a=v.useContext(ur);ot(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),c={...Va(t||".",{relative:r})},d=Ys();if(t==null){c.search=d.search;let f=new URLSearchParams(c.search),g=f.getAll("index");if(g.some(m=>m==="")){f.delete("index"),g.filter(u=>u).forEach(u=>f.append("index",u));let m=f.toString();c.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:_r([s,c.pathname])),Ma(c)}function Wb(t,{relative:r}={}){let s=v.useContext(Ex);ot(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Ix("useViewTransitionState"),i=Va(t,{relative:r});if(!s.isTransitioning)return!1;let c=kr(s.currentLocation.pathname,a)||s.currentLocation.pathname,d=kr(s.nextLocation.pathname,a)||s.nextLocation.pathname;return Rl(i.pathname,d)!=null||Rl(i.pathname,c)!=null}var Ha=px();const Lx=tf(Ha);function Ym(t,r){if(typeof t=="function")return t(r);t!=null&&(t.current=r)}function $x(...t){return r=>{let s=!1;const a=t.map(i=>{const c=Ym(i,r);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let i=0;i<a.length;i++){const c=a[i];typeof c=="function"?c():Ym(t[i],null)}}}}function Qe(...t){return v.useCallback($x(...t),t)}function Bs(t){const r=Vb(t),s=v.forwardRef((a,i)=>{const{children:c,...d}=a,f=v.Children.toArray(c),g=f.find(Ub);if(g){const p=g.props.children,m=f.map(u=>u===g?v.Children.count(p)>1?v.Children.only(null):v.isValidElement(p)?p.props.children:null:u);return e.jsx(r,{...d,ref:i,children:v.isValidElement(p)?v.cloneElement(p,void 0,m):null})}return e.jsx(r,{...d,ref:i,children:c})});return s.displayName=`${t}.Slot`,s}var Vl=Bs("Slot");function Vb(t){const r=v.forwardRef((s,a)=>{const{children:i,...c}=s;if(v.isValidElement(i)){const d=Yb(i),f=qb(c,i.props);return i.type!==v.Fragment&&(f.ref=a?$x(a,d):d),v.cloneElement(i,f)}return v.Children.count(i)>1?v.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var Bx=Symbol("radix.slottable");function Hb(t){const r=({children:s})=>e.jsx(e.Fragment,{children:s});return r.displayName=`${t}.Slottable`,r.__radixId=Bx,r}function Ub(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Bx}function qb(t,r){const s={...r};for(const a in r){const i=t[a],c=r[a];/^on[A-Z]/.test(a)?i&&c?s[a]=(...f)=>{const g=c(...f);return i(...f),g}:i&&(s[a]=i):a==="style"?s[a]={...i,...c}:a==="className"&&(s[a]=[i,c].filter(Boolean).join(" "))}return{...t,...s}}function Yb(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function zx(t){var r,s,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(r=0;r<i;r++)t[r]&&(s=zx(t[r]))&&(a&&(a+=" "),a+=s)}else for(s in t)t[s]&&(a&&(a+=" "),a+=s);return a}function Wx(){for(var t,r,s=0,a="",i=arguments.length;s<i;s++)(t=arguments[s])&&(r=zx(t))&&(a&&(a+=" "),a+=r);return a}const Gm=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Km=Wx,lf=(t,r)=>s=>{var a;if(r?.variants==null)return Km(t,s?.class,s?.className);const{variants:i,defaultVariants:c}=r,d=Object.keys(i).map(p=>{const m=s?.[p],u=c?.[p];if(m===null)return null;const y=Gm(m)||Gm(u);return i[p][y]}),f=s&&Object.entries(s).reduce((p,m)=>{let[u,y]=m;return y===void 0||(p[u]=y),p},{}),g=r==null||(a=r.compoundVariants)===null||a===void 0?void 0:a.reduce((p,m)=>{let{class:u,className:y,...b}=m;return Object.entries(b).every(N=>{let[C,w]=N;return Array.isArray(w)?w.includes({...c,...f}[C]):{...c,...f}[C]===w})?[...p,u,y]:p},[]);return Km(t,d,g,s?.class,s?.className)},cf="-",Gb=t=>{const r=Qb(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:a}=t;return{getClassGroupId:d=>{const f=d.split(cf);return f[0]===""&&f.length!==1&&f.shift(),Vx(f,r)||Kb(d)},getConflictingClassGroupIds:(d,f)=>{const g=s[d]||[];return f&&a[d]?[...g,...a[d]]:g}}},Vx=(t,r)=>{if(t.length===0)return r.classGroupId;const s=t[0],a=r.nextPart.get(s),i=a?Vx(t.slice(1),a):void 0;if(i)return i;if(r.validators.length===0)return;const c=t.join(cf);return r.validators.find(({validator:d})=>d(c))?.classGroupId},Qm=/^\[(.+)\]$/,Kb=t=>{if(Qm.test(t)){const r=Qm.exec(t)[1],s=r?.substring(0,r.indexOf(":"));if(s)return"arbitrary.."+s}},Qb=t=>{const{theme:r,classGroups:s}=t,a={nextPart:new Map,validators:[]};for(const i in s)Mu(s[i],a,i,r);return a},Mu=(t,r,s,a)=>{t.forEach(i=>{if(typeof i=="string"){const c=i===""?r:Jm(r,i);c.classGroupId=s;return}if(typeof i=="function"){if(Jb(i)){Mu(i(a),r,s,a);return}r.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([c,d])=>{Mu(d,Jm(r,c),s,a)})})},Jm=(t,r)=>{let s=t;return r.split(cf).forEach(a=>{s.nextPart.has(a)||s.nextPart.set(a,{nextPart:new Map,validators:[]}),s=s.nextPart.get(a)}),s},Jb=t=>t.isThemeGetter,Xb=t=>{if(t<1)return{get:()=>{},set:()=>{}};let r=0,s=new Map,a=new Map;const i=(c,d)=>{s.set(c,d),r++,r>t&&(r=0,a=s,s=new Map)};return{get(c){let d=s.get(c);if(d!==void 0)return d;if((d=a.get(c))!==void 0)return i(c,d),d},set(c,d){s.has(c)?s.set(c,d):i(c,d)}}},Ou="!",Iu=":",Zb=Iu.length,eC=t=>{const{prefix:r,experimentalParseClassName:s}=t;let a=i=>{const c=[];let d=0,f=0,g=0,p;for(let N=0;N<i.length;N++){let C=i[N];if(d===0&&f===0){if(C===Iu){c.push(i.slice(g,N)),g=N+Zb;continue}if(C==="/"){p=N;continue}}C==="["?d++:C==="]"?d--:C==="("?f++:C===")"&&f--}const m=c.length===0?i:i.substring(g),u=tC(m),y=u!==m,b=p&&p>g?p-g:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:u,maybePostfixModifierPosition:b}};if(r){const i=r+Iu,c=a;a=d=>d.startsWith(i)?c(d.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:d,maybePostfixModifierPosition:void 0}}if(s){const i=a;a=c=>s({className:c,parseClassName:i})}return a},tC=t=>t.endsWith(Ou)?t.substring(0,t.length-1):t.startsWith(Ou)?t.substring(1):t,nC=t=>{const r=Object.fromEntries(t.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const i=[];let c=[];return a.forEach(d=>{d[0]==="["||r[d]?(i.push(...c.sort(),d),c=[]):c.push(d)}),i.push(...c.sort()),i}},rC=t=>({cache:Xb(t.cacheSize),parseClassName:eC(t),sortModifiers:nC(t),...Gb(t)}),sC=/\s+/,oC=(t,r)=>{const{parseClassName:s,getClassGroupId:a,getConflictingClassGroupIds:i,sortModifiers:c}=r,d=[],f=t.trim().split(sC);let g="";for(let p=f.length-1;p>=0;p-=1){const m=f[p],{isExternal:u,modifiers:y,hasImportantModifier:b,baseClassName:N,maybePostfixModifierPosition:C}=s(m);if(u){g=m+(g.length>0?" "+g:g);continue}let w=!!C,E=a(w?N.substring(0,C):N);if(!E){if(!w){g=m+(g.length>0?" "+g:g);continue}if(E=a(N),!E){g=m+(g.length>0?" "+g:g);continue}w=!1}const S=c(y).join(":"),k=b?S+Ou:S,R=k+E;if(d.includes(R))continue;d.push(R);const T=i(E,w);for(let D=0;D<T.length;++D){const P=T[D];d.push(k+P)}g=m+(g.length>0?" "+g:g)}return g};function aC(){let t=0,r,s,a="";for(;t<arguments.length;)(r=arguments[t++])&&(s=Hx(r))&&(a&&(a+=" "),a+=s);return a}const Hx=t=>{if(typeof t=="string")return t;let r,s="";for(let a=0;a<t.length;a++)t[a]&&(r=Hx(t[a]))&&(s&&(s+=" "),s+=r);return s};function iC(t,...r){let s,a,i,c=d;function d(g){const p=r.reduce((m,u)=>u(m),t());return s=rC(p),a=s.cache.get,i=s.cache.set,c=f,f(g)}function f(g){const p=a(g);if(p)return p;const m=oC(g,s);return i(g,m),m}return function(){return c(aC.apply(null,arguments))}}const vt=t=>{const r=s=>s[t]||[];return r.isThemeGetter=!0,r},Ux=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,qx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,lC=/^\d+\/\d+$/,cC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,fC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,yo=t=>lC.test(t),$e=t=>!!t&&!Number.isNaN(Number(t)),as=t=>!!t&&Number.isInteger(Number(t)),Jd=t=>t.endsWith("%")&&$e(t.slice(0,-1)),Er=t=>cC.test(t),pC=()=>!0,mC=t=>dC.test(t)&&!uC.test(t),Yx=()=>!1,gC=t=>fC.test(t),xC=t=>hC.test(t),vC=t=>!ve(t)&&!ye(t),yC=t=>Io(t,Qx,Yx),ve=t=>Ux.test(t),Os=t=>Io(t,Jx,mC),Xd=t=>Io(t,NC,$e),Xm=t=>Io(t,Gx,Yx),jC=t=>Io(t,Kx,xC),hl=t=>Io(t,Xx,gC),ye=t=>qx.test(t),Ra=t=>Lo(t,Jx),wC=t=>Lo(t,EC),Zm=t=>Lo(t,Gx),bC=t=>Lo(t,Qx),CC=t=>Lo(t,Kx),pl=t=>Lo(t,Xx,!0),Io=(t,r,s)=>{const a=Ux.exec(t);return a?a[1]?r(a[1]):s(a[2]):!1},Lo=(t,r,s=!1)=>{const a=qx.exec(t);return a?a[1]?r(a[1]):s:!1},Gx=t=>t==="position"||t==="percentage",Kx=t=>t==="image"||t==="url",Qx=t=>t==="length"||t==="size"||t==="bg-size",Jx=t=>t==="length",NC=t=>t==="number",EC=t=>t==="family-name",Xx=t=>t==="shadow",SC=()=>{const t=vt("color"),r=vt("font"),s=vt("text"),a=vt("font-weight"),i=vt("tracking"),c=vt("leading"),d=vt("breakpoint"),f=vt("container"),g=vt("spacing"),p=vt("radius"),m=vt("shadow"),u=vt("inset-shadow"),y=vt("text-shadow"),b=vt("drop-shadow"),N=vt("blur"),C=vt("perspective"),w=vt("aspect"),E=vt("ease"),S=vt("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[...R(),ye,ve],D=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],I=()=>[ye,ve,g],V=()=>[yo,"full","auto",...I()],Y=()=>[as,"none","subgrid",ye,ve],J=()=>["auto",{span:["full",as,ye,ve]},as,ye,ve],ue=()=>[as,"auto",ye,ve],Q=()=>["auto","min","max","fr",ye,ve],ne=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],z=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...I()],B=()=>[yo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],F=()=>[t,ye,ve],ee=()=>[...R(),Zm,Xm,{position:[ye,ve]}],U=()=>["no-repeat",{repeat:["","x","y","space","round"]}],M=()=>["auto","cover","contain",bC,yC,{size:[ye,ve]}],K=()=>[Jd,Ra,Os],re=()=>["","none","full",p,ye,ve],se=()=>["",$e,Ra,Os],he=()=>["solid","dashed","dotted","double"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>[$e,Jd,Zm,Xm],fe=()=>["","none",N,ye,ve],_e=()=>["none",$e,ye,ve],De=()=>["none",$e,ye,ve],ze=()=>[$e,ye,ve],Ve=()=>[yo,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Er],breakpoint:[Er],color:[pC],container:[Er],"drop-shadow":[Er],ease:["in","out","in-out"],font:[vC],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Er],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Er],shadow:[Er],spacing:["px",$e],text:[Er],"text-shadow":[Er],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",yo,ve,ye,w]}],container:["container"],columns:[{columns:[$e,ve,ye,f]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[as,"auto",ye,ve]}],basis:[{basis:[yo,"full","auto",f,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$e,yo,"auto","initial","none",ve]}],grow:[{grow:["",$e,ye,ve]}],shrink:[{shrink:["",$e,ye,ve]}],order:[{order:[as,"first","last","none",ye,ve]}],"grid-cols":[{"grid-cols":Y()}],"col-start-end":[{col:J()}],"col-start":[{"col-start":ue()}],"col-end":[{"col-end":ue()}],"grid-rows":[{"grid-rows":Y()}],"row-start-end":[{row:J()}],"row-start":[{"row-start":ue()}],"row-end":[{"row-end":ue()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Q()}],"auto-rows":[{"auto-rows":Q()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...ne(),"normal"]}],"justify-items":[{"justify-items":[...z(),"normal"]}],"justify-self":[{"justify-self":["auto",...z()]}],"align-content":[{content:["normal",...ne()]}],"align-items":[{items:[...z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...z(),{baseline:["","last"]}]}],"place-content":[{"place-content":ne()}],"place-items":[{"place-items":[...z(),"baseline"]}],"place-self":[{"place-self":["auto",...z()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:B()}],w:[{w:[f,"screen",...B()]}],"min-w":[{"min-w":[f,"screen","none",...B()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[d]},...B()]}],h:[{h:["screen","lh",...B()]}],"min-h":[{"min-h":["screen","lh","none",...B()]}],"max-h":[{"max-h":["screen","lh",...B()]}],"font-size":[{text:["base",s,Ra,Os]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,ye,Xd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Jd,ve]}],"font-family":[{font:[wC,ve,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ye,ve]}],"line-clamp":[{"line-clamp":[$e,"none",ye,Xd]}],leading:[{leading:[c,...I()]}],"list-image":[{"list-image":["none",ye,ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ye,ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[$e,"from-font","auto",ye,Os]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[$e,"auto",ye,ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye,ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye,ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ee()}],"bg-repeat":[{bg:U()}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},as,ye,ve],radial:["",ye,ve],conic:[as,ye,ve]},CC,jC]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[$e,ye,ve]}],"outline-w":[{outline:["",$e,Ra,Os]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",m,pl,hl]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",u,pl,hl]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[$e,Os]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",y,pl,hl]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[$e,ye,ve]}],"mix-blend":[{"mix-blend":[...be(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":be()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$e]}],"mask-image-linear-from-pos":[{"mask-linear-from":ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":ie()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":ie()}],"mask-image-t-to-pos":[{"mask-t-to":ie()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":ie()}],"mask-image-r-to-pos":[{"mask-r-to":ie()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":ie()}],"mask-image-b-to-pos":[{"mask-b-to":ie()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":ie()}],"mask-image-l-to-pos":[{"mask-l-to":ie()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":ie()}],"mask-image-x-to-pos":[{"mask-x-to":ie()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":ie()}],"mask-image-y-to-pos":[{"mask-y-to":ie()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[ye,ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":ie()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[$e]}],"mask-image-conic-from-pos":[{"mask-conic-from":ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":ie()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ee()}],"mask-repeat":[{mask:U()}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ye,ve]}],filter:[{filter:["","none",ye,ve]}],blur:[{blur:fe()}],brightness:[{brightness:[$e,ye,ve]}],contrast:[{contrast:[$e,ye,ve]}],"drop-shadow":[{"drop-shadow":["","none",b,pl,hl]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",$e,ye,ve]}],"hue-rotate":[{"hue-rotate":[$e,ye,ve]}],invert:[{invert:["",$e,ye,ve]}],saturate:[{saturate:[$e,ye,ve]}],sepia:[{sepia:["",$e,ye,ve]}],"backdrop-filter":[{"backdrop-filter":["","none",ye,ve]}],"backdrop-blur":[{"backdrop-blur":fe()}],"backdrop-brightness":[{"backdrop-brightness":[$e,ye,ve]}],"backdrop-contrast":[{"backdrop-contrast":[$e,ye,ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$e,ye,ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$e,ye,ve]}],"backdrop-invert":[{"backdrop-invert":["",$e,ye,ve]}],"backdrop-opacity":[{"backdrop-opacity":[$e,ye,ve]}],"backdrop-saturate":[{"backdrop-saturate":[$e,ye,ve]}],"backdrop-sepia":[{"backdrop-sepia":["",$e,ye,ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ye,ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$e,"initial",ye,ve]}],ease:[{ease:["linear","initial",E,ye,ve]}],delay:[{delay:[$e,ye,ve]}],animate:[{animate:["none",S,ye,ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,ye,ve]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:_e()}],"rotate-x":[{"rotate-x":_e()}],"rotate-y":[{"rotate-y":_e()}],"rotate-z":[{"rotate-z":_e()}],scale:[{scale:De()}],"scale-x":[{"scale-x":De()}],"scale-y":[{"scale-y":De()}],"scale-z":[{"scale-z":De()}],"scale-3d":["scale-3d"],skew:[{skew:ze()}],"skew-x":[{"skew-x":ze()}],"skew-y":[{"skew-y":ze()}],transform:[{transform:[ye,ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ve()}],"translate-x":[{"translate-x":Ve()}],"translate-y":[{"translate-y":Ve()}],"translate-z":[{"translate-z":Ve()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye,ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye,ve]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[$e,Ra,Os,Xd]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},_C=iC(SC);function Te(...t){return _C(Wx(t))}const Lu=lf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),X=v.forwardRef(({className:t,variant:r,size:s,asChild:a=!1,...i},c)=>{const d=a?Vl:"button";return e.jsx(d,{ref:c,"data-slot":"button",className:Te(Lu({variant:r,size:s,className:t})),...i})});X.displayName="Button";function ge({className:t,type:r,...s}){return e.jsx("input",{type:r,"data-slot":"input",className:Te("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...s})}var kC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Le=kC.reduce((t,r)=>{const s=Bs(`Primitive.${r}`),a=v.forwardRef((i,c)=>{const{asChild:d,...f}=i,g=d?s:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(g,{...f,ref:c})});return a.displayName=`Primitive.${r}`,{...t,[r]:a}},{});function FC(t,r){t&&Ha.flushSync(()=>t.dispatchEvent(r))}var DC="Label",Zx=v.forwardRef((t,r)=>e.jsx(Le.label,{...t,ref:r,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(t.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Zx.displayName=DC;var RC=Zx;function L({className:t,...r}){return e.jsx(RC,{"data-slot":"label",className:Te("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...r})}function Ce({className:t,...r}){return e.jsx("div",{"data-slot":"card",className:Te("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...r})}function Ne({className:t,...r}){return e.jsx("div",{"data-slot":"card-header",className:Te("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function Ee({className:t,...r}){return e.jsx("h4",{"data-slot":"card-title",className:Te("leading-none",t),...r})}function He({className:t,...r}){return e.jsx("p",{"data-slot":"card-description",className:Te("text-muted-foreground",t),...r})}function Se({className:t,...r}){return e.jsx("div",{"data-slot":"card-content",className:Te("px-6 [&:last-child]:pb-6",t),...r})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,s,a)=>a?a.toUpperCase():s.toLowerCase()),eg=t=>{const r=AC(t);return r.charAt(0).toUpperCase()+r.slice(1)},ev=(...t)=>t.filter((r,s,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===s).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=v.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:i="",children:c,iconNode:d,...f},g)=>v.createElement("svg",{ref:g,...TC,width:r,height:r,stroke:t,strokeWidth:a?Number(s)*24/Number(r):s,className:ev("lucide",i),...f},[...d.map(([p,m])=>v.createElement(p,m)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(t,r)=>{const s=v.forwardRef(({className:a,...i},c)=>v.createElement(MC,{ref:c,iconNode:r,className:ev(`lucide-${PC(eg(t))}`,`lucide-${t}`,a),...i}));return s.displayName=eg(t),s};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],tg=Oe("arrow-left",OC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ng=Oe("bell",IC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Sn=Oe("calendar",LC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],BC=Oe("camera",$C);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],WC=Oe("chart-column",zC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],HC=Oe("check-check",VC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],df=Oe("check",UC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],tv=Oe("chevron-down",qC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],GC=Oe("chevron-left",YC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],QC=Oe("chevron-right",KC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],XC=Oe("chevron-up",JC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],uf=Oe("circle-alert",ZC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_t=Oe("circle-check-big",eN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],zs=Oe("circle-x",tN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],rN=Oe("clipboard-list",nN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],oN=Oe("clock",sN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],iN=Oe("database",aN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],cN=Oe("download",lN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]],uN=Oe("eraser",dN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],nv=Oe("file-check",fN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Je=Oe("file-text",hN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],rv=Oe("flask-conical",pN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],gN=Oe("funnel",mN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Cn=Oe("house",xN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],sv=Oe("layers",vN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ff=Oe("loader-circle",yN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],wN=Oe("log-out",jN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],CN=Oe("mail",bN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],EN=Oe("map-pin",NN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],_N=Oe("package-plus",SN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Pl=Oe("package",kN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],DN=Oe("pen-tool",FN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],ov=Oe("printer",RN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],rg=Oe("qr-code",PN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],TN=Oe("refresh-cw",AN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],sg=Oe("search",MN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Fr=Oe("send",ON);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],Eo=Oe("test-tube",IN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],av=Oe("triangle-alert",LN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Fo=Oe("upload",$N);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],zN=Oe("user-plus",BN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],VN=Oe("user",WN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],og=Oe("users",HN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Do=Oe("x",UN),iv="http://127.0.0.1:8000/api",qN=()=>localStorage.getItem("access_token"),YN=(t,r)=>{localStorage.setItem("access_token",t),localStorage.setItem("refresh_token",r)},hf=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")},qn=async(t,r={})=>{const s=qN(),a={"Content-Type":"application/json",...r.headers};s&&(a.Authorization=`Bearer ${s}`);const i=await fetch(`${iv}${t}`,{...r,headers:a});if(!i.ok){if(i.status===401){if(console.log(" 401 Unauthorized - Token invalide ou expir"),console.log("Endpoint:",t),console.log("Token actuel:",s?.substring(0,20)+"..."),await GN())return console.log(" Token rafrachi avec succs"),qn(t,r);throw console.log(" chec du rafrachissement - Dconnexion"),hf(),window.location.href="/",new Error("Session expire")}const c=await i.json().catch(()=>({detail:"Erreur inconnue"}));throw console.log(" Erreur API:",i.status,c),new Error(c.detail||`Erreur ${i.status}`)}return i.json()},GN=async()=>{const t=localStorage.getItem("refresh_token");if(!t)return!1;try{const r=await fetch(`${iv}/auth/refresh/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:t})});if(r.ok){const s=await r.json();return localStorage.setItem("access_token",s.access),!0}return!1}catch{return!1}},KN=async(t,r)=>{console.log(" Tentative de connexion:",t);const s=await fetch("http://127.0.0.1:8000/api/auth/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:r})});if(!s.ok)throw new Error("Identifiants incorrects");const a=await s.json();console.log(" Tokens reus"),YN(a.access,a.refresh),console.log(" Tokens sauvegards dans localStorage"),console.log(" Rcupration du profil...");const i=await fetch("http://127.0.0.1:8000/api/users/me/",{headers:{Authorization:`Bearer ${a.access}`,"Content-Type":"application/json"}});if(!i.ok)throw new Error("Erreur lors de la rcupration du profil");const c=await i.json();return console.log(" Profil reu:",c.username,c.role),{id:c.id,name:`${c.first_name} ${c.last_name}`.trim()||c.username,role:c.role,email:c.email}},QN=()=>{hf()},JN=()=>!!localStorage.getItem("access_token"),XN=async()=>{if(!JN())return null;try{const t=await qn("/users/me/");return{id:t.id,name:`${t.first_name} ${t.last_name}`.trim()||t.username,role:t.role,email:t.email}}catch{return hf(),null}};function ZN(t){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}const e2=t=>{switch(t){case"success":return r2;case"info":return o2;case"warning":return s2;case"error":return a2;default:return null}},t2=Array(12).fill(0),n2=({visible:t,className:r})=>ce.createElement("div",{className:["sonner-loading-wrapper",r].filter(Boolean).join(" "),"data-visible":t},ce.createElement("div",{className:"sonner-spinner"},t2.map((s,a)=>ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),r2=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),s2=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),o2=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),a2=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),i2=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),l2=()=>{const[t,r]=ce.useState(document.hidden);return ce.useEffect(()=>{const s=()=>{r(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),t};let $u=1;class c2{constructor(){this.subscribe=r=>(this.subscribers.push(r),()=>{const s=this.subscribers.indexOf(r);this.subscribers.splice(s,1)}),this.publish=r=>{this.subscribers.forEach(s=>s(r))},this.addToast=r=>{this.publish(r),this.toasts=[...this.toasts,r]},this.create=r=>{var s;const{message:a,...i}=r,c=typeof r?.id=="number"||((s=r.id)==null?void 0:s.length)>0?r.id:$u++,d=this.toasts.find(g=>g.id===c),f=r.dismissible===void 0?!0:r.dismissible;return this.dismissedToasts.has(c)&&this.dismissedToasts.delete(c),d?this.toasts=this.toasts.map(g=>g.id===c?(this.publish({...g,...r,id:c,title:a}),{...g,...r,id:c,dismissible:f,title:a}):g):this.addToast({title:a,...i,dismissible:f,id:c}),c},this.dismiss=r=>(r?(this.dismissedToasts.add(r),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:r,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(a=>a({id:s.id,dismiss:!0}))}),r),this.message=(r,s)=>this.create({...s,message:r}),this.error=(r,s)=>this.create({...s,message:r,type:"error"}),this.success=(r,s)=>this.create({...s,type:"success",message:r}),this.info=(r,s)=>this.create({...s,type:"info",message:r}),this.warning=(r,s)=>this.create({...s,type:"warning",message:r}),this.loading=(r,s)=>this.create({...s,type:"loading",message:r}),this.promise=(r,s)=>{if(!s)return;let a;s.loading!==void 0&&(a=this.create({...s,promise:r,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const i=Promise.resolve(r instanceof Function?r():r);let c=a!==void 0,d;const f=i.then(async p=>{if(d=["resolve",p],ce.isValidElement(p))c=!1,this.create({id:a,type:"default",message:p});else if(u2(p)&&!p.ok){c=!1;const u=typeof s.error=="function"?await s.error(`HTTP error! status: ${p.status}`):s.error,y=typeof s.description=="function"?await s.description(`HTTP error! status: ${p.status}`):s.description,N=typeof u=="object"&&!ce.isValidElement(u)?u:{message:u};this.create({id:a,type:"error",description:y,...N})}else if(p instanceof Error){c=!1;const u=typeof s.error=="function"?await s.error(p):s.error,y=typeof s.description=="function"?await s.description(p):s.description,N=typeof u=="object"&&!ce.isValidElement(u)?u:{message:u};this.create({id:a,type:"error",description:y,...N})}else if(s.success!==void 0){c=!1;const u=typeof s.success=="function"?await s.success(p):s.success,y=typeof s.description=="function"?await s.description(p):s.description,N=typeof u=="object"&&!ce.isValidElement(u)?u:{message:u};this.create({id:a,type:"success",description:y,...N})}}).catch(async p=>{if(d=["reject",p],s.error!==void 0){c=!1;const m=typeof s.error=="function"?await s.error(p):s.error,u=typeof s.description=="function"?await s.description(p):s.description,b=typeof m=="object"&&!ce.isValidElement(m)?m:{message:m};this.create({id:a,type:"error",description:u,...b})}}).finally(()=>{c&&(this.dismiss(a),a=void 0),s.finally==null||s.finally.call(s)}),g=()=>new Promise((p,m)=>f.then(()=>d[0]==="reject"?m(d[1]):p(d[1])).catch(m));return typeof a!="string"&&typeof a!="number"?{unwrap:g}:Object.assign(a,{unwrap:g})},this.custom=(r,s)=>{const a=s?.id||$u++;return this.create({jsx:r(a),id:a,...s}),a},this.getActiveToasts=()=>this.toasts.filter(r=>!this.dismissedToasts.has(r.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Yt=new c2,d2=(t,r)=>{const s=r?.id||$u++;return Yt.addToast({title:t,...r,id:s}),s},u2=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",f2=d2,h2=()=>Yt.toasts,p2=()=>Yt.getActiveToasts(),te=Object.assign(f2,{success:Yt.success,info:Yt.info,warning:Yt.warning,error:Yt.error,custom:Yt.custom,message:Yt.message,promise:Yt.promise,dismiss:Yt.dismiss,loading:Yt.loading},{getHistory:h2,getToasts:p2});ZN("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function ml(t){return t.label!==void 0}const m2=3,g2="24px",x2="16px",ag=4e3,v2=356,y2=14,j2=45,w2=200;function er(...t){return t.filter(Boolean).join(" ")}function b2(t){const[r,s]=t.split("-"),a=[];return r&&a.push(r),s&&a.push(s),a}const C2=t=>{var r,s,a,i,c,d,f,g,p;const{invert:m,toast:u,unstyled:y,interacting:b,setHeights:N,visibleToasts:C,heights:w,index:E,toasts:S,expanded:k,removeToast:R,defaultRichColors:T,closeButton:D,style:P,cancelButtonStyle:I,actionButtonStyle:V,className:Y="",descriptionClassName:J="",duration:ue,position:Q,gap:ne,expandByDefault:z,classNames:H,icons:B,closeButtonAriaLabel:F="Close toast"}=t,[ee,U]=ce.useState(null),[M,K]=ce.useState(null),[re,se]=ce.useState(!1),[he,be]=ce.useState(!1),[ie,fe]=ce.useState(!1),[_e,De]=ce.useState(!1),[ze,Ve]=ce.useState(!1),[pt,Tt]=ce.useState(0),[Ar,pr]=ce.useState(0),Zt=ce.useRef(u.duration||ue||ag),Ho=ce.useRef(null),en=ce.useRef(null),ys=E===0,Tr=E+1<=C,Ct=u.type,mr=u.dismissible!==!1,ti=u.className||"",ni=u.descriptionClassName||"",js=ce.useMemo(()=>w.findIndex(Me=>Me.toastId===u.id)||0,[w,u.id]),Uo=ce.useMemo(()=>{var Me;return(Me=u.closeButton)!=null?Me:D},[u.closeButton,D]),ws=ce.useMemo(()=>u.duration||ue||ag,[u.duration,ue]),Gs=ce.useRef(0),pn=ce.useRef(0),Mr=ce.useRef(0),Or=ce.useRef(null),[ri,si]=Q.split("-"),oi=ce.useMemo(()=>w.reduce((Me,it,mt)=>mt>=js?Me:Me+it.height,0),[w,js]),Ks=l2(),qo=u.invert||m,bs=Ct==="loading";pn.current=ce.useMemo(()=>js*ne+oi,[js,oi]),ce.useEffect(()=>{Zt.current=ws},[ws]),ce.useEffect(()=>{se(!0)},[]),ce.useEffect(()=>{const Me=en.current;if(Me){const it=Me.getBoundingClientRect().height;return pr(it),N(mt=>[{toastId:u.id,height:it,position:u.position},...mt]),()=>N(mt=>mt.filter(kt=>kt.toastId!==u.id))}},[N,u.id]),ce.useLayoutEffect(()=>{if(!re)return;const Me=en.current,it=Me.style.height;Me.style.height="auto";const mt=Me.getBoundingClientRect().height;Me.style.height=it,pr(mt),N(kt=>kt.find(dt=>dt.toastId===u.id)?kt.map(dt=>dt.toastId===u.id?{...dt,height:mt}:dt):[{toastId:u.id,height:mt,position:u.position},...kt])},[re,u.title,u.description,N,u.id,u.jsx,u.action,u.cancel]);const mn=ce.useCallback(()=>{be(!0),Tt(pn.current),N(Me=>Me.filter(it=>it.toastId!==u.id)),setTimeout(()=>{R(u)},w2)},[u,R,N,pn]);ce.useEffect(()=>{if(u.promise&&Ct==="loading"||u.duration===1/0||u.type==="loading")return;let Me;return k||b||Ks?(()=>{if(Mr.current<Gs.current){const kt=new Date().getTime()-Gs.current;Zt.current=Zt.current-kt}Mr.current=new Date().getTime()})():(()=>{Zt.current!==1/0&&(Gs.current=new Date().getTime(),Me=setTimeout(()=>{u.onAutoClose==null||u.onAutoClose.call(u,u),mn()},Zt.current))})(),()=>clearTimeout(Me)},[k,b,u,Ct,Ks,mn]),ce.useEffect(()=>{u.delete&&(mn(),u.onDismiss==null||u.onDismiss.call(u,u))},[mn,u.delete]);function Yo(){var Me;if(B?.loading){var it;return ce.createElement("div",{className:er(H?.loader,u==null||(it=u.classNames)==null?void 0:it.loader,"sonner-loader"),"data-visible":Ct==="loading"},B.loading)}return ce.createElement(n2,{className:er(H?.loader,u==null||(Me=u.classNames)==null?void 0:Me.loader),visible:Ct==="loading"})}const Ir=u.icon||B?.[Ct]||e2(Ct);var gr,Go;return ce.createElement("li",{tabIndex:0,ref:en,className:er(Y,ti,H?.toast,u==null||(r=u.classNames)==null?void 0:r.toast,H?.default,H?.[Ct],u==null||(s=u.classNames)==null?void 0:s[Ct]),"data-sonner-toast":"","data-rich-colors":(gr=u.richColors)!=null?gr:T,"data-styled":!(u.jsx||u.unstyled||y),"data-mounted":re,"data-promise":!!u.promise,"data-swiped":ze,"data-removed":he,"data-visible":Tr,"data-y-position":ri,"data-x-position":si,"data-index":E,"data-front":ys,"data-swiping":ie,"data-dismissible":mr,"data-type":Ct,"data-invert":qo,"data-swipe-out":_e,"data-swipe-direction":M,"data-expanded":!!(k||z&&re),"data-testid":u.testId,style:{"--index":E,"--toasts-before":E,"--z-index":S.length-E,"--offset":`${he?pt:pn.current}px`,"--initial-height":z?"auto":`${Ar}px`,...P,...u.style},onDragEnd:()=>{fe(!1),U(null),Or.current=null},onPointerDown:Me=>{Me.button!==2&&(bs||!mr||(Ho.current=new Date,Tt(pn.current),Me.target.setPointerCapture(Me.pointerId),Me.target.tagName!=="BUTTON"&&(fe(!0),Or.current={x:Me.clientX,y:Me.clientY})))},onPointerUp:()=>{var Me,it,mt;if(_e||!mr)return;Or.current=null;const kt=Number(((Me=en.current)==null?void 0:Me.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Lr=Number(((it=en.current)==null?void 0:it.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),dt=new Date().getTime()-((mt=Ho.current)==null?void 0:mt.getTime()),yt=ee==="x"?kt:Lr,$r=Math.abs(yt)/dt;if(Math.abs(yt)>=j2||$r>.11){Tt(pn.current),u.onDismiss==null||u.onDismiss.call(u,u),K(ee==="x"?kt>0?"right":"left":Lr>0?"down":"up"),mn(),De(!0);return}else{var Nt,tn;(Nt=en.current)==null||Nt.style.setProperty("--swipe-amount-x","0px"),(tn=en.current)==null||tn.style.setProperty("--swipe-amount-y","0px")}Ve(!1),fe(!1),U(null)},onPointerMove:Me=>{var it,mt,kt;if(!Or.current||!mr||((it=window.getSelection())==null?void 0:it.toString().length)>0)return;const dt=Me.clientY-Or.current.y,yt=Me.clientX-Or.current.x;var $r;const Nt=($r=t.swipeDirections)!=null?$r:b2(Q);!ee&&(Math.abs(yt)>1||Math.abs(dt)>1)&&U(Math.abs(yt)>Math.abs(dt)?"x":"y");let tn={x:0,y:0};const Br=gn=>1/(1.5+Math.abs(gn)/20);if(ee==="y"){if(Nt.includes("top")||Nt.includes("bottom"))if(Nt.includes("top")&&dt<0||Nt.includes("bottom")&&dt>0)tn.y=dt;else{const gn=dt*Br(dt);tn.y=Math.abs(gn)<Math.abs(dt)?gn:dt}}else if(ee==="x"&&(Nt.includes("left")||Nt.includes("right")))if(Nt.includes("left")&&yt<0||Nt.includes("right")&&yt>0)tn.x=yt;else{const gn=yt*Br(yt);tn.x=Math.abs(gn)<Math.abs(yt)?gn:yt}(Math.abs(tn.x)>0||Math.abs(tn.y)>0)&&Ve(!0),(mt=en.current)==null||mt.style.setProperty("--swipe-amount-x",`${tn.x}px`),(kt=en.current)==null||kt.style.setProperty("--swipe-amount-y",`${tn.y}px`)}},Uo&&!u.jsx&&Ct!=="loading"?ce.createElement("button",{"aria-label":F,"data-disabled":bs,"data-close-button":!0,onClick:bs||!mr?()=>{}:()=>{mn(),u.onDismiss==null||u.onDismiss.call(u,u)},className:er(H?.closeButton,u==null||(a=u.classNames)==null?void 0:a.closeButton)},(Go=B?.close)!=null?Go:i2):null,(Ct||u.icon||u.promise)&&u.icon!==null&&(B?.[Ct]!==null||u.icon)?ce.createElement("div",{"data-icon":"",className:er(H?.icon,u==null||(i=u.classNames)==null?void 0:i.icon)},u.promise||u.type==="loading"&&!u.icon?u.icon||Yo():null,u.type!=="loading"?Ir:null):null,ce.createElement("div",{"data-content":"",className:er(H?.content,u==null||(c=u.classNames)==null?void 0:c.content)},ce.createElement("div",{"data-title":"",className:er(H?.title,u==null||(d=u.classNames)==null?void 0:d.title)},u.jsx?u.jsx:typeof u.title=="function"?u.title():u.title),u.description?ce.createElement("div",{"data-description":"",className:er(J,ni,H?.description,u==null||(f=u.classNames)==null?void 0:f.description)},typeof u.description=="function"?u.description():u.description):null),ce.isValidElement(u.cancel)?u.cancel:u.cancel&&ml(u.cancel)?ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:u.cancelButtonStyle||I,onClick:Me=>{ml(u.cancel)&&mr&&(u.cancel.onClick==null||u.cancel.onClick.call(u.cancel,Me),mn())},className:er(H?.cancelButton,u==null||(g=u.classNames)==null?void 0:g.cancelButton)},u.cancel.label):null,ce.isValidElement(u.action)?u.action:u.action&&ml(u.action)?ce.createElement("button",{"data-button":!0,"data-action":!0,style:u.actionButtonStyle||V,onClick:Me=>{ml(u.action)&&(u.action.onClick==null||u.action.onClick.call(u.action,Me),!Me.defaultPrevented&&mn())},className:er(H?.actionButton,u==null||(p=u.classNames)==null?void 0:p.actionButton)},u.action.label):null)};function ig(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function N2(t,r){const s={};return[t,r].forEach((a,i)=>{const c=i===1,d=c?"--mobile-offset":"--offset",f=c?x2:g2;function g(p){["top","right","bottom","left"].forEach(m=>{s[`${d}-${m}`]=typeof p=="number"?`${p}px`:p})}typeof a=="number"||typeof a=="string"?g(a):typeof a=="object"?["top","right","bottom","left"].forEach(p=>{a[p]===void 0?s[`${d}-${p}`]=f:s[`${d}-${p}`]=typeof a[p]=="number"?`${a[p]}px`:a[p]}):g(f)}),s}const E2=ce.forwardRef(function(r,s){const{id:a,invert:i,position:c="bottom-right",hotkey:d=["altKey","KeyT"],expand:f,closeButton:g,className:p,offset:m,mobileOffset:u,theme:y="light",richColors:b,duration:N,style:C,visibleToasts:w=m2,toastOptions:E,dir:S=ig(),gap:k=y2,icons:R,containerAriaLabel:T="Notifications"}=r,[D,P]=ce.useState([]),I=ce.useMemo(()=>a?D.filter(re=>re.toasterId===a):D.filter(re=>!re.toasterId),[D,a]),V=ce.useMemo(()=>Array.from(new Set([c].concat(I.filter(re=>re.position).map(re=>re.position)))),[I,c]),[Y,J]=ce.useState([]),[ue,Q]=ce.useState(!1),[ne,z]=ce.useState(!1),[H,B]=ce.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=ce.useRef(null),ee=d.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=ce.useRef(null),M=ce.useRef(!1),K=ce.useCallback(re=>{P(se=>{var he;return(he=se.find(be=>be.id===re.id))!=null&&he.delete||Yt.dismiss(re.id),se.filter(({id:be})=>be!==re.id)})},[]);return ce.useEffect(()=>Yt.subscribe(re=>{if(re.dismiss){requestAnimationFrame(()=>{P(se=>se.map(he=>he.id===re.id?{...he,delete:!0}:he))});return}setTimeout(()=>{Lx.flushSync(()=>{P(se=>{const he=se.findIndex(be=>be.id===re.id);return he!==-1?[...se.slice(0,he),{...se[he],...re},...se.slice(he+1)]:[re,...se]})})})}),[D]),ce.useEffect(()=>{if(y!=="system"){B(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;const re=window.matchMedia("(prefers-color-scheme: dark)");try{re.addEventListener("change",({matches:se})=>{B(se?"dark":"light")})}catch{re.addListener(({matches:he})=>{try{B(he?"dark":"light")}catch(be){console.error(be)}})}},[y]),ce.useEffect(()=>{D.length<=1&&Q(!1)},[D]),ce.useEffect(()=>{const re=se=>{var he;if(d.every(fe=>se[fe]||se.code===fe)){var ie;Q(!0),(ie=F.current)==null||ie.focus()}se.code==="Escape"&&(document.activeElement===F.current||(he=F.current)!=null&&he.contains(document.activeElement))&&Q(!1)};return document.addEventListener("keydown",re),()=>document.removeEventListener("keydown",re)},[d]),ce.useEffect(()=>{if(F.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,M.current=!1)}},[F.current]),ce.createElement("section",{ref:s,"aria-label":`${T} ${ee}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},V.map((re,se)=>{var he;const[be,ie]=re.split("-");return I.length?ce.createElement("ol",{key:re,dir:S==="auto"?ig():S,tabIndex:-1,ref:F,className:p,"data-sonner-toaster":!0,"data-sonner-theme":H,"data-y-position":be,"data-x-position":ie,style:{"--front-toast-height":`${((he=Y[0])==null?void 0:he.height)||0}px`,"--width":`${v2}px`,"--gap":`${k}px`,...C,...N2(m,u)},onBlur:fe=>{M.current&&!fe.currentTarget.contains(fe.relatedTarget)&&(M.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||M.current||(M.current=!0,U.current=fe.relatedTarget)},onMouseEnter:()=>Q(!0),onMouseMove:()=>Q(!0),onMouseLeave:()=>{ne||Q(!1)},onDragEnd:()=>Q(!1),onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},I.filter(fe=>!fe.position&&se===0||fe.position===re).map((fe,_e)=>{var De,ze;return ce.createElement(C2,{key:fe.id,icons:R,index:_e,toast:fe,defaultRichColors:b,duration:(De=E?.duration)!=null?De:N,className:E?.className,descriptionClassName:E?.descriptionClassName,invert:i,visibleToasts:w,closeButton:(ze=E?.closeButton)!=null?ze:g,interacting:ne,position:re,style:E?.style,unstyled:E?.unstyled,classNames:E?.classNames,cancelButtonStyle:E?.cancelButtonStyle,actionButtonStyle:E?.actionButtonStyle,closeButtonAriaLabel:E?.closeButtonAriaLabel,removeToast:K,toasts:I.filter(Ve=>Ve.position==fe.position),heights:Y.filter(Ve=>Ve.position==fe.position),setHeights:J,expandByDefault:f,gap:k,expanded:ue,swipeDirections:r.swipeDirections})})):null}))});function S2({onLogin:t}){const[r,s]=v.useState(""),[a,i]=v.useState(""),[c,d]=v.useState(!1),f=async g=>{if(g.preventDefault(),!r||!a){te.error("Veuillez remplir tous les champs");return}d(!0);try{const p=await KN(r,a);te.success("Connexion russie !"),t(p)}catch(p){console.error("Erreur de connexion:",p),te.error(p instanceof Error?p.message:"Identifiants incorrects")}finally{d(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#F5F5F5"},children:e.jsxs(Ce,{className:"w-full max-w-md",children:[e.jsxs(Ne,{className:"text-center",style:{backgroundColor:"#003366",color:"#FFFFFF"},children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(rv,{className:"h-12 w-12"})}),e.jsx(Ee,{children:"Gestion d'chantillons"}),e.jsx(He,{className:"text-gray-200",children:"Laboratoire SNERTP"})]}),e.jsx(Se,{className:"pt-6",children:e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"username",children:"Nom d'utilisateur"}),e.jsx(ge,{id:"username",type:"text",value:r,onChange:g=>s(g.target.value),placeholder:"Entrez votre nom d'utilisateur",disabled:c,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"password",children:"Mot de passe"}),e.jsx(ge,{id:"password",type:"password",value:a,onChange:g=>i(g.target.value),placeholder:"Entrez votre mot de passe",disabled:c,required:!0})]}),e.jsx(X,{type:"submit",className:"w-full",style:{backgroundColor:"#003366"},disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx(ff,{className:"mr-2 h-4 w-4 animate-spin"}),"Connexion..."]}):"Se connecter"}),e.jsx("p",{className:"text-xs text-center",style:{color:"#A9A9A9"},children:"Utilisez: admin / admin123"})]})})]})})}const Zd=768;function _2(){const[t,r]=v.useState(void 0);return v.useEffect(()=>{const s=window.matchMedia(`(max-width: ${Zd-1}px)`),a=()=>{r(window.innerWidth<Zd)};return s.addEventListener("change",a),r(window.innerWidth<Zd),()=>s.removeEventListener("change",a)},[]),!!t}var k2="Separator",lg="horizontal",F2=["horizontal","vertical"],lv=v.forwardRef((t,r)=>{const{decorative:s,orientation:a=lg,...i}=t,c=D2(a)?a:lg,f=s?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return e.jsx(Le.div,{"data-orientation":c,...f,...i,ref:r})});lv.displayName=k2;function D2(t){return F2.includes(t)}var R2=lv;function P2({className:t,orientation:r="horizontal",decorative:s=!0,...a}){return e.jsx(R2,{"data-slot":"separator-root",decorative:s,orientation:r,className:Te("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...a})}function Ae(t,r,{checkForDefaultPrevented:s=!0}={}){return function(i){if(t?.(i),s===!1||!i.defaultPrevented)return r?.(i)}}function A2(t,r){const s=v.createContext(r),a=c=>{const{children:d,...f}=c,g=v.useMemo(()=>f,Object.values(f));return e.jsx(s.Provider,{value:g,children:d})};a.displayName=t+"Provider";function i(c){const d=v.useContext(s);if(d)return d;if(r!==void 0)return r;throw new Error(`\`${c}\` must be used within \`${t}\``)}return[a,i]}function Pr(t,r=[]){let s=[];function a(c,d){const f=v.createContext(d),g=s.length;s=[...s,d];const p=u=>{const{scope:y,children:b,...N}=u,C=y?.[t]?.[g]||f,w=v.useMemo(()=>N,Object.values(N));return e.jsx(C.Provider,{value:w,children:b})};p.displayName=c+"Provider";function m(u,y){const b=y?.[t]?.[g]||f,N=v.useContext(b);if(N)return N;if(d!==void 0)return d;throw new Error(`\`${u}\` must be used within \`${c}\``)}return[p,m]}const i=()=>{const c=s.map(d=>v.createContext(d));return function(f){const g=f?.[t]||c;return v.useMemo(()=>({[`__scope${t}`]:{...f,[t]:g}}),[f,g])}};return i.scopeName=t,[a,T2(i,...r)]}function T2(...t){const r=t[0];if(t.length===1)return r;const s=()=>{const a=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(c){const d=a.reduce((f,{useScope:g,scopeName:p})=>{const u=g(c)[`__scope${p}`];return{...f,...u}},{});return v.useMemo(()=>({[`__scope${r.scopeName}`]:d}),[d])}};return s.scopeName=r.scopeName,s}var At=globalThis?.document?v.useLayoutEffect:()=>{},M2=mx[" useId ".trim().toString()]||(()=>{}),O2=0;function ar(t){const[r,s]=v.useState(M2());return At(()=>{s(a=>a??String(O2++))},[t]),t||(r?`radix-${r}`:"")}var I2=mx[" useInsertionEffect ".trim().toString()]||At;function ds({prop:t,defaultProp:r,onChange:s=()=>{},caller:a}){const[i,c,d]=L2({defaultProp:r,onChange:s}),f=t!==void 0,g=f?t:i;{const m=v.useRef(t!==void 0);v.useEffect(()=>{const u=m.current;u!==f&&console.warn(`${a} is changing from ${u?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=f},[f,a])}const p=v.useCallback(m=>{if(f){const u=$2(m)?m(t):m;u!==t&&d.current?.(u)}else c(m)},[f,t,c,d]);return[g,p]}function L2({defaultProp:t,onChange:r}){const[s,a]=v.useState(t),i=v.useRef(s),c=v.useRef(r);return I2(()=>{c.current=r},[r]),v.useEffect(()=>{i.current!==s&&(c.current?.(s),i.current=s)},[s,i]),[s,a,c]}function $2(t){return typeof t=="function"}function us(t){const r=v.useRef(t);return v.useEffect(()=>{r.current=t}),v.useMemo(()=>(...s)=>r.current?.(...s),[])}function B2(t,r=globalThis?.document){const s=us(t);v.useEffect(()=>{const a=i=>{i.key==="Escape"&&s(i)};return r.addEventListener("keydown",a,{capture:!0}),()=>r.removeEventListener("keydown",a,{capture:!0})},[s,r])}var z2="DismissableLayer",Bu="dismissableLayer.update",W2="dismissableLayer.pointerDownOutside",V2="dismissableLayer.focusOutside",cg,cv=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ua=v.forwardRef((t,r)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:c,onInteractOutside:d,onDismiss:f,...g}=t,p=v.useContext(cv),[m,u]=v.useState(null),y=m?.ownerDocument??globalThis?.document,[,b]=v.useState({}),N=Qe(r,P=>u(P)),C=Array.from(p.layers),[w]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),E=C.indexOf(w),S=m?C.indexOf(m):-1,k=p.layersWithOutsidePointerEventsDisabled.size>0,R=S>=E,T=q2(P=>{const I=P.target,V=[...p.branches].some(Y=>Y.contains(I));!R||V||(i?.(P),d?.(P),P.defaultPrevented||f?.())},y),D=Y2(P=>{const I=P.target;[...p.branches].some(Y=>Y.contains(I))||(c?.(P),d?.(P),P.defaultPrevented||f?.())},y);return B2(P=>{S===p.layers.size-1&&(a?.(P),!P.defaultPrevented&&f&&(P.preventDefault(),f()))},y),v.useEffect(()=>{if(m)return s&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(cg=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(m)),p.layers.add(m),dg(),()=>{s&&p.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=cg)}},[m,y,s,p]),v.useEffect(()=>()=>{m&&(p.layers.delete(m),p.layersWithOutsidePointerEventsDisabled.delete(m),dg())},[m,p]),v.useEffect(()=>{const P=()=>b({});return document.addEventListener(Bu,P),()=>document.removeEventListener(Bu,P)},[]),e.jsx(Le.div,{...g,ref:N,style:{pointerEvents:k?R?"auto":"none":void 0,...t.style},onFocusCapture:Ae(t.onFocusCapture,D.onFocusCapture),onBlurCapture:Ae(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Ae(t.onPointerDownCapture,T.onPointerDownCapture)})});Ua.displayName=z2;var H2="DismissableLayerBranch",U2=v.forwardRef((t,r)=>{const s=v.useContext(cv),a=v.useRef(null),i=Qe(r,a);return v.useEffect(()=>{const c=a.current;if(c)return s.branches.add(c),()=>{s.branches.delete(c)}},[s.branches]),e.jsx(Le.div,{...t,ref:i})});U2.displayName=H2;function q2(t,r=globalThis?.document){const s=us(t),a=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const c=f=>{if(f.target&&!a.current){let g=function(){dv(W2,s,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(r.removeEventListener("click",i.current),i.current=g,r.addEventListener("click",i.current,{once:!0})):g()}else r.removeEventListener("click",i.current);a.current=!1},d=window.setTimeout(()=>{r.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(d),r.removeEventListener("pointerdown",c),r.removeEventListener("click",i.current)}},[r,s]),{onPointerDownCapture:()=>a.current=!0}}function Y2(t,r=globalThis?.document){const s=us(t),a=v.useRef(!1);return v.useEffect(()=>{const i=c=>{c.target&&!a.current&&dv(V2,s,{originalEvent:c},{discrete:!1})};return r.addEventListener("focusin",i),()=>r.removeEventListener("focusin",i)},[r,s]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function dg(){const t=new CustomEvent(Bu);document.dispatchEvent(t)}function dv(t,r,s,{discrete:a}){const i=s.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:s});r&&i.addEventListener(t,r,{once:!0}),a?FC(i,c):i.dispatchEvent(c)}var eu="focusScope.autoFocusOnMount",tu="focusScope.autoFocusOnUnmount",ug={bubbles:!1,cancelable:!0},G2="FocusScope",Hl=v.forwardRef((t,r)=>{const{loop:s=!1,trapped:a=!1,onMountAutoFocus:i,onUnmountAutoFocus:c,...d}=t,[f,g]=v.useState(null),p=us(i),m=us(c),u=v.useRef(null),y=Qe(r,C=>g(C)),b=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(a){let C=function(k){if(b.paused||!f)return;const R=k.target;f.contains(R)?u.current=R:ls(u.current,{select:!0})},w=function(k){if(b.paused||!f)return;const R=k.relatedTarget;R!==null&&(f.contains(R)||ls(u.current,{select:!0}))},E=function(k){if(document.activeElement===document.body)for(const T of k)T.removedNodes.length>0&&ls(f)};document.addEventListener("focusin",C),document.addEventListener("focusout",w);const S=new MutationObserver(E);return f&&S.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",w),S.disconnect()}}},[a,f,b.paused]),v.useEffect(()=>{if(f){hg.add(b);const C=document.activeElement;if(!f.contains(C)){const E=new CustomEvent(eu,ug);f.addEventListener(eu,p),f.dispatchEvent(E),E.defaultPrevented||(K2(eE(uv(f)),{select:!0}),document.activeElement===C&&ls(f))}return()=>{f.removeEventListener(eu,p),setTimeout(()=>{const E=new CustomEvent(tu,ug);f.addEventListener(tu,m),f.dispatchEvent(E),E.defaultPrevented||ls(C??document.body,{select:!0}),f.removeEventListener(tu,m),hg.remove(b)},0)}}},[f,p,m,b]);const N=v.useCallback(C=>{if(!s&&!a||b.paused)return;const w=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,E=document.activeElement;if(w&&E){const S=C.currentTarget,[k,R]=Q2(S);k&&R?!C.shiftKey&&E===R?(C.preventDefault(),s&&ls(k,{select:!0})):C.shiftKey&&E===k&&(C.preventDefault(),s&&ls(R,{select:!0})):E===S&&C.preventDefault()}},[s,a,b.paused]);return e.jsx(Le.div,{tabIndex:-1,...d,ref:y,onKeyDown:N})});Hl.displayName=G2;function K2(t,{select:r=!1}={}){const s=document.activeElement;for(const a of t)if(ls(a,{select:r}),document.activeElement!==s)return}function Q2(t){const r=uv(t),s=fg(r,t),a=fg(r.reverse(),t);return[s,a]}function uv(t){const r=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)r.push(s.currentNode);return r}function fg(t,r){for(const s of t)if(!J2(s,{upTo:r}))return s}function J2(t,{upTo:r}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(r!==void 0&&t===r)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function X2(t){return t instanceof HTMLInputElement&&"select"in t}function ls(t,{select:r=!1}={}){if(t&&t.focus){const s=document.activeElement;t.focus({preventScroll:!0}),t!==s&&X2(t)&&r&&t.select()}}var hg=Z2();function Z2(){let t=[];return{add(r){const s=t[0];r!==s&&s?.pause(),t=pg(t,r),t.unshift(r)},remove(r){t=pg(t,r),t[0]?.resume()}}}function pg(t,r){const s=[...t],a=s.indexOf(r);return a!==-1&&s.splice(a,1),s}function eE(t){return t.filter(r=>r.tagName!=="A")}var tE="Portal",qa=v.forwardRef((t,r)=>{const{container:s,...a}=t,[i,c]=v.useState(!1);At(()=>c(!0),[]);const d=s||i&&globalThis?.document?.body;return d?Lx.createPortal(e.jsx(Le.div,{...a,ref:r}),d):null});qa.displayName=tE;function nE(t,r){return v.useReducer((s,a)=>r[s][a]??s,t)}var fr=t=>{const{present:r,children:s}=t,a=rE(r),i=typeof s=="function"?s({present:a.isPresent}):v.Children.only(s),c=Qe(a.ref,sE(i));return typeof s=="function"||a.isPresent?v.cloneElement(i,{ref:c}):null};fr.displayName="Presence";function rE(t){const[r,s]=v.useState(),a=v.useRef(null),i=v.useRef(t),c=v.useRef("none"),d=t?"mounted":"unmounted",[f,g]=nE(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const p=gl(a.current);c.current=f==="mounted"?p:"none"},[f]),At(()=>{const p=a.current,m=i.current;if(m!==t){const y=c.current,b=gl(p);t?g("MOUNT"):b==="none"||p?.display==="none"?g("UNMOUNT"):g(m&&y!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,g]),At(()=>{if(r){let p;const m=r.ownerDocument.defaultView??window,u=b=>{const C=gl(a.current).includes(CSS.escape(b.animationName));if(b.target===r&&C&&(g("ANIMATION_END"),!i.current)){const w=r.style.animationFillMode;r.style.animationFillMode="forwards",p=m.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=w)})}},y=b=>{b.target===r&&(c.current=gl(a.current))};return r.addEventListener("animationstart",y),r.addEventListener("animationcancel",u),r.addEventListener("animationend",u),()=>{m.clearTimeout(p),r.removeEventListener("animationstart",y),r.removeEventListener("animationcancel",u),r.removeEventListener("animationend",u)}}else g("ANIMATION_END")},[r,g]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:v.useCallback(p=>{a.current=p?getComputedStyle(p):null,s(p)},[])}}function gl(t){return t?.animationName||"none"}function sE(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var nu=0;function pf(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??mg()),document.body.insertAdjacentElement("beforeend",t[1]??mg()),nu++,()=>{nu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),nu--}},[])}function mg(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var tr=function(){return tr=Object.assign||function(r){for(var s,a=1,i=arguments.length;a<i;a++){s=arguments[a];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(r[c]=s[c])}return r},tr.apply(this,arguments)};function fv(t,r){var s={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&r.indexOf(a)<0&&(s[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)r.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(s[a[i]]=t[a[i]]);return s}function oE(t,r,s){if(s||arguments.length===2)for(var a=0,i=r.length,c;a<i;a++)(c||!(a in r))&&(c||(c=Array.prototype.slice.call(r,0,a)),c[a]=r[a]);return t.concat(c||Array.prototype.slice.call(r))}var _l="right-scroll-bar-position",kl="width-before-scroll-bar",aE="with-scroll-bars-hidden",iE="--removed-body-scroll-bar-size";function ru(t,r){return typeof t=="function"?t(r):t&&(t.current=r),t}function lE(t,r){var s=v.useState(function(){return{value:t,callback:r,facade:{get current(){return s.value},set current(a){var i=s.value;i!==a&&(s.value=a,s.callback(a,i))}}}})[0];return s.callback=r,s.facade}var cE=typeof window<"u"?v.useLayoutEffect:v.useEffect,gg=new WeakMap;function dE(t,r){var s=lE(null,function(a){return t.forEach(function(i){return ru(i,a)})});return cE(function(){var a=gg.get(s);if(a){var i=new Set(a),c=new Set(t),d=s.current;i.forEach(function(f){c.has(f)||ru(f,null)}),c.forEach(function(f){i.has(f)||ru(f,d)})}gg.set(s,t)},[t]),s}function uE(t){return t}function fE(t,r){r===void 0&&(r=uE);var s=[],a=!1,i={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:t},useMedium:function(c){var d=r(c,a);return s.push(d),function(){s=s.filter(function(f){return f!==d})}},assignSyncMedium:function(c){for(a=!0;s.length;){var d=s;s=[],d.forEach(c)}s={push:function(f){return c(f)},filter:function(){return s}}},assignMedium:function(c){a=!0;var d=[];if(s.length){var f=s;s=[],f.forEach(c),d=s}var g=function(){var m=d;d=[],m.forEach(c)},p=function(){return Promise.resolve().then(g)};p(),s={push:function(m){d.push(m),p()},filter:function(m){return d=d.filter(m),s}}}};return i}function hE(t){t===void 0&&(t={});var r=fE(null);return r.options=tr({async:!0,ssr:!1},t),r}var hv=function(t){var r=t.sideCar,s=fv(t,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=r.read();if(!a)throw new Error("Sidecar medium not found");return v.createElement(a,tr({},s))};hv.isSideCarExport=!0;function pE(t,r){return t.useMedium(r),hv}var pv=hE(),su=function(){},Ul=v.forwardRef(function(t,r){var s=v.useRef(null),a=v.useState({onScrollCapture:su,onWheelCapture:su,onTouchMoveCapture:su}),i=a[0],c=a[1],d=t.forwardProps,f=t.children,g=t.className,p=t.removeScrollBar,m=t.enabled,u=t.shards,y=t.sideCar,b=t.noRelative,N=t.noIsolation,C=t.inert,w=t.allowPinchZoom,E=t.as,S=E===void 0?"div":E,k=t.gapMode,R=fv(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=y,D=dE([s,r]),P=tr(tr({},R),i);return v.createElement(v.Fragment,null,m&&v.createElement(T,{sideCar:pv,removeScrollBar:p,shards:u,noRelative:b,noIsolation:N,inert:C,setCallbacks:c,allowPinchZoom:!!w,lockRef:s,gapMode:k}),d?v.cloneElement(v.Children.only(f),tr(tr({},P),{ref:D})):v.createElement(S,tr({},P,{className:g,ref:D}),f))});Ul.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ul.classNames={fullWidth:kl,zeroRight:_l};var mE=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gE(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var r=mE();return r&&t.setAttribute("nonce",r),t}function xE(t,r){t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}function vE(t){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(t)}var yE=function(){var t=0,r=null;return{add:function(s){t==0&&(r=gE())&&(xE(r,s),vE(r)),t++},remove:function(){t--,!t&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},jE=function(){var t=yE();return function(r,s){v.useEffect(function(){return t.add(r),function(){t.remove()}},[r&&s])}},mv=function(){var t=jE(),r=function(s){var a=s.styles,i=s.dynamic;return t(a,i),null};return r},wE={left:0,top:0,right:0,gap:0},ou=function(t){return parseInt(t||"",10)||0},bE=function(t){var r=window.getComputedStyle(document.body),s=r[t==="padding"?"paddingLeft":"marginLeft"],a=r[t==="padding"?"paddingTop":"marginTop"],i=r[t==="padding"?"paddingRight":"marginRight"];return[ou(s),ou(a),ou(i)]},CE=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return wE;var r=bE(t),s=document.documentElement.clientWidth,a=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,a-s+r[2]-r[0])}},NE=mv(),So="data-scroll-locked",EE=function(t,r,s,a){var i=t.left,c=t.top,d=t.right,f=t.gap;return s===void 0&&(s="margin"),`
  .`.concat(aE,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(f,"px ").concat(a,`;
  }
  body[`).concat(So,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(a,";"),s==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(a,`;
    `),s==="padding"&&"padding-right: ".concat(f,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_l,` {
    right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(kl,` {
    margin-right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(_l," .").concat(_l,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(kl," .").concat(kl,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(So,`] {
    `).concat(iE,": ").concat(f,`px;
  }
`)},xg=function(){var t=parseInt(document.body.getAttribute(So)||"0",10);return isFinite(t)?t:0},SE=function(){v.useEffect(function(){return document.body.setAttribute(So,(xg()+1).toString()),function(){var t=xg()-1;t<=0?document.body.removeAttribute(So):document.body.setAttribute(So,t.toString())}},[])},_E=function(t){var r=t.noRelative,s=t.noImportant,a=t.gapMode,i=a===void 0?"margin":a;SE();var c=v.useMemo(function(){return CE(i)},[i]);return v.createElement(NE,{styles:EE(c,!r,i,s?"":"!important")})},zu=!1;if(typeof window<"u")try{var xl=Object.defineProperty({},"passive",{get:function(){return zu=!0,!0}});window.addEventListener("test",xl,xl),window.removeEventListener("test",xl,xl)}catch{zu=!1}var jo=zu?{passive:!1}:!1,kE=function(t){return t.tagName==="TEXTAREA"},gv=function(t,r){if(!(t instanceof Element))return!1;var s=window.getComputedStyle(t);return s[r]!=="hidden"&&!(s.overflowY===s.overflowX&&!kE(t)&&s[r]==="visible")},FE=function(t){return gv(t,"overflowY")},DE=function(t){return gv(t,"overflowX")},vg=function(t,r){var s=r.ownerDocument,a=r;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var i=xv(t,a);if(i){var c=vv(t,a),d=c[1],f=c[2];if(d>f)return!0}a=a.parentNode}while(a&&a!==s.body);return!1},RE=function(t){var r=t.scrollTop,s=t.scrollHeight,a=t.clientHeight;return[r,s,a]},PE=function(t){var r=t.scrollLeft,s=t.scrollWidth,a=t.clientWidth;return[r,s,a]},xv=function(t,r){return t==="v"?FE(r):DE(r)},vv=function(t,r){return t==="v"?RE(r):PE(r)},AE=function(t,r){return t==="h"&&r==="rtl"?-1:1},TE=function(t,r,s,a,i){var c=AE(t,window.getComputedStyle(r).direction),d=c*a,f=s.target,g=r.contains(f),p=!1,m=d>0,u=0,y=0;do{if(!f)break;var b=vv(t,f),N=b[0],C=b[1],w=b[2],E=C-w-c*N;(N||E)&&xv(t,f)&&(u+=E,y+=N);var S=f.parentNode;f=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!g&&f!==document.body||g&&(r.contains(f)||r===f));return(m&&Math.abs(u)<1||!m&&Math.abs(y)<1)&&(p=!0),p},vl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},yg=function(t){return[t.deltaX,t.deltaY]},jg=function(t){return t&&"current"in t?t.current:t},ME=function(t,r){return t[0]===r[0]&&t[1]===r[1]},OE=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},IE=0,wo=[];function LE(t){var r=v.useRef([]),s=v.useRef([0,0]),a=v.useRef(),i=v.useState(IE++)[0],c=v.useState(mv)[0],d=v.useRef(t);v.useEffect(function(){d.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var C=oE([t.lockRef.current],(t.shards||[]).map(jg),!0).filter(Boolean);return C.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),C.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var f=v.useCallback(function(C,w){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!d.current.allowPinchZoom;var E=vl(C),S=s.current,k="deltaX"in C?C.deltaX:S[0]-E[0],R="deltaY"in C?C.deltaY:S[1]-E[1],T,D=C.target,P=Math.abs(k)>Math.abs(R)?"h":"v";if("touches"in C&&P==="h"&&D.type==="range")return!1;var I=vg(P,D);if(!I)return!0;if(I?T=P:(T=P==="v"?"h":"v",I=vg(P,D)),!I)return!1;if(!a.current&&"changedTouches"in C&&(k||R)&&(a.current=T),!T)return!0;var V=a.current||T;return TE(V,w,C,V==="h"?k:R)},[]),g=v.useCallback(function(C){var w=C;if(!(!wo.length||wo[wo.length-1]!==c)){var E="deltaY"in w?yg(w):vl(w),S=r.current.filter(function(T){return T.name===w.type&&(T.target===w.target||w.target===T.shadowParent)&&ME(T.delta,E)})[0];if(S&&S.should){w.cancelable&&w.preventDefault();return}if(!S){var k=(d.current.shards||[]).map(jg).filter(Boolean).filter(function(T){return T.contains(w.target)}),R=k.length>0?f(w,k[0]):!d.current.noIsolation;R&&w.cancelable&&w.preventDefault()}}},[]),p=v.useCallback(function(C,w,E,S){var k={name:C,delta:w,target:E,should:S,shadowParent:$E(E)};r.current.push(k),setTimeout(function(){r.current=r.current.filter(function(R){return R!==k})},1)},[]),m=v.useCallback(function(C){s.current=vl(C),a.current=void 0},[]),u=v.useCallback(function(C){p(C.type,yg(C),C.target,f(C,t.lockRef.current))},[]),y=v.useCallback(function(C){p(C.type,vl(C),C.target,f(C,t.lockRef.current))},[]);v.useEffect(function(){return wo.push(c),t.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:y}),document.addEventListener("wheel",g,jo),document.addEventListener("touchmove",g,jo),document.addEventListener("touchstart",m,jo),function(){wo=wo.filter(function(C){return C!==c}),document.removeEventListener("wheel",g,jo),document.removeEventListener("touchmove",g,jo),document.removeEventListener("touchstart",m,jo)}},[]);var b=t.removeScrollBar,N=t.inert;return v.createElement(v.Fragment,null,N?v.createElement(c,{styles:OE(i)}):null,b?v.createElement(_E,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function $E(t){for(var r=null;t!==null;)t instanceof ShadowRoot&&(r=t.host,t=t.host),t=t.parentNode;return r}const BE=pE(pv,LE);var ql=v.forwardRef(function(t,r){return v.createElement(Ul,tr({},t,{ref:r,sideCar:BE}))});ql.classNames=Ul.classNames;var zE=function(t){if(typeof document>"u")return null;var r=Array.isArray(t)?t[0]:t;return r.ownerDocument.body},bo=new WeakMap,yl=new WeakMap,jl={},au=0,yv=function(t){return t&&(t.host||yv(t.parentNode))},WE=function(t,r){return r.map(function(s){if(t.contains(s))return s;var a=yv(s);return a&&t.contains(a)?a:(console.error("aria-hidden",s,"in not contained inside",t,". Doing nothing"),null)}).filter(function(s){return!!s})},VE=function(t,r,s,a){var i=WE(r,Array.isArray(t)?t:[t]);jl[s]||(jl[s]=new WeakMap);var c=jl[s],d=[],f=new Set,g=new Set(i),p=function(u){!u||f.has(u)||(f.add(u),p(u.parentNode))};i.forEach(p);var m=function(u){!u||g.has(u)||Array.prototype.forEach.call(u.children,function(y){if(f.has(y))m(y);else try{var b=y.getAttribute(a),N=b!==null&&b!=="false",C=(bo.get(y)||0)+1,w=(c.get(y)||0)+1;bo.set(y,C),c.set(y,w),d.push(y),C===1&&N&&yl.set(y,!0),w===1&&y.setAttribute(s,"true"),N||y.setAttribute(a,"true")}catch(E){console.error("aria-hidden: cannot operate on ",y,E)}})};return m(r),f.clear(),au++,function(){d.forEach(function(u){var y=bo.get(u)-1,b=c.get(u)-1;bo.set(u,y),c.set(u,b),y||(yl.has(u)||u.removeAttribute(a),yl.delete(u)),b||u.removeAttribute(s)}),au--,au||(bo=new WeakMap,bo=new WeakMap,yl=new WeakMap,jl={})}},mf=function(t,r,s){s===void 0&&(s="data-aria-hidden");var a=Array.from(Array.isArray(t)?t:[t]),i=zE(t);return i?(a.push.apply(a,Array.from(i.querySelectorAll("[aria-live], script"))),VE(a,i,s,"aria-hidden")):function(){return null}},Yl="Dialog",[jv]=Pr(Yl),[HE,Yn]=jv(Yl),wv=t=>{const{__scopeDialog:r,children:s,open:a,defaultOpen:i,onOpenChange:c,modal:d=!0}=t,f=v.useRef(null),g=v.useRef(null),[p,m]=ds({prop:a,defaultProp:i??!1,onChange:c,caller:Yl});return e.jsx(HE,{scope:r,triggerRef:f,contentRef:g,contentId:ar(),titleId:ar(),descriptionId:ar(),open:p,onOpenChange:m,onOpenToggle:v.useCallback(()=>m(u=>!u),[m]),modal:d,children:s})};wv.displayName=Yl;var bv="DialogTrigger",UE=v.forwardRef((t,r)=>{const{__scopeDialog:s,...a}=t,i=Yn(bv,s),c=Qe(r,i.triggerRef);return e.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":vf(i.open),...a,ref:c,onClick:Ae(t.onClick,i.onOpenToggle)})});UE.displayName=bv;var gf="DialogPortal",[qE,Cv]=jv(gf,{forceMount:void 0}),Nv=t=>{const{__scopeDialog:r,forceMount:s,children:a,container:i}=t,c=Yn(gf,r);return e.jsx(qE,{scope:r,forceMount:s,children:v.Children.map(a,d=>e.jsx(fr,{present:s||c.open,children:e.jsx(qa,{asChild:!0,container:i,children:d})}))})};Nv.displayName=gf;var Al="DialogOverlay",Ev=v.forwardRef((t,r)=>{const s=Cv(Al,t.__scopeDialog),{forceMount:a=s.forceMount,...i}=t,c=Yn(Al,t.__scopeDialog);return c.modal?e.jsx(fr,{present:a||c.open,children:e.jsx(GE,{...i,ref:r})}):null});Ev.displayName=Al;var YE=Bs("DialogOverlay.RemoveScroll"),GE=v.forwardRef((t,r)=>{const{__scopeDialog:s,...a}=t,i=Yn(Al,s);return e.jsx(ql,{as:YE,allowPinchZoom:!0,shards:[i.contentRef],children:e.jsx(Le.div,{"data-state":vf(i.open),...a,ref:r,style:{pointerEvents:"auto",...a.style}})})}),Ws="DialogContent",Sv=v.forwardRef((t,r)=>{const s=Cv(Ws,t.__scopeDialog),{forceMount:a=s.forceMount,...i}=t,c=Yn(Ws,t.__scopeDialog);return e.jsx(fr,{present:a||c.open,children:c.modal?e.jsx(KE,{...i,ref:r}):e.jsx(QE,{...i,ref:r})})});Sv.displayName=Ws;var KE=v.forwardRef((t,r)=>{const s=Yn(Ws,t.__scopeDialog),a=v.useRef(null),i=Qe(r,s.contentRef,a);return v.useEffect(()=>{const c=a.current;if(c)return mf(c)},[]),e.jsx(_v,{...t,ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ae(t.onCloseAutoFocus,c=>{c.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:Ae(t.onPointerDownOutside,c=>{const d=c.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0;(d.button===2||f)&&c.preventDefault()}),onFocusOutside:Ae(t.onFocusOutside,c=>c.preventDefault())})}),QE=v.forwardRef((t,r)=>{const s=Yn(Ws,t.__scopeDialog),a=v.useRef(!1),i=v.useRef(!1);return e.jsx(_v,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{t.onCloseAutoFocus?.(c),c.defaultPrevented||(a.current||s.triggerRef.current?.focus(),c.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:c=>{t.onInteractOutside?.(c),c.defaultPrevented||(a.current=!0,c.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const d=c.target;s.triggerRef.current?.contains(d)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&i.current&&c.preventDefault()}})}),_v=v.forwardRef((t,r)=>{const{__scopeDialog:s,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:c,...d}=t,f=Yn(Ws,s),g=v.useRef(null),p=Qe(r,g);return pf(),e.jsxs(e.Fragment,{children:[e.jsx(Hl,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:c,children:e.jsx(Ua,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":vf(f.open),...d,ref:p,onDismiss:()=>f.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(JE,{titleId:f.titleId}),e.jsx(ZE,{contentRef:g,descriptionId:f.descriptionId})]})]})}),xf="DialogTitle",kv=v.forwardRef((t,r)=>{const{__scopeDialog:s,...a}=t,i=Yn(xf,s);return e.jsx(Le.h2,{id:i.titleId,...a,ref:r})});kv.displayName=xf;var Fv="DialogDescription",Dv=v.forwardRef((t,r)=>{const{__scopeDialog:s,...a}=t,i=Yn(Fv,s);return e.jsx(Le.p,{id:i.descriptionId,...a,ref:r})});Dv.displayName=Fv;var Rv="DialogClose",Pv=v.forwardRef((t,r)=>{const{__scopeDialog:s,...a}=t,i=Yn(Rv,s);return e.jsx(Le.button,{type:"button",...a,ref:r,onClick:Ae(t.onClick,()=>i.onOpenChange(!1))})});Pv.displayName=Rv;function vf(t){return t?"open":"closed"}var Av="DialogTitleWarning",[_P,Tv]=A2(Av,{contentName:Ws,titleName:xf,docsSlug:"dialog"}),JE=({titleId:t})=>{const r=Tv(Av),s=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(s))},[s,t]),null},XE="DialogDescriptionWarning",ZE=({contentRef:t,descriptionId:r})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Tv(XE).contentName}}.`;return v.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");r&&i&&(document.getElementById(r)||console.warn(a))},[a,t,r]),null},Mv=wv,Ov=Nv,yf=Ev,jf=Sv,wf=kv,bf=Dv,Iv=Pv;function eS({...t}){return e.jsx(Mv,{"data-slot":"sheet",...t})}function tS({...t}){return e.jsx(Ov,{"data-slot":"sheet-portal",...t})}function nS({className:t,...r}){return e.jsx(yf,{"data-slot":"sheet-overlay",className:Te("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...r})}function rS({className:t,children:r,side:s="right",...a}){return e.jsxs(tS,{children:[e.jsx(nS,{}),e.jsxs(jf,{"data-slot":"sheet-content",className:Te("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",s==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",s==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",s==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",s==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...a,children:[r,e.jsxs(Iv,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[e.jsx(Do,{className:"size-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function sS({className:t,...r}){return e.jsx("div",{"data-slot":"sheet-header",className:Te("flex flex-col gap-1.5 p-4",t),...r})}function oS({className:t,...r}){return e.jsx(wf,{"data-slot":"sheet-title",className:Te("text-foreground font-semibold",t),...r})}function aS({className:t,...r}){return e.jsx(bf,{"data-slot":"sheet-description",className:Te("text-muted-foreground text-sm",t),...r})}const iS=["top","right","bottom","left"],fs=Math.min,an=Math.max,Tl=Math.round,wl=Math.floor,ir=t=>({x:t,y:t}),lS={left:"right",right:"left",bottom:"top",top:"bottom"},cS={start:"end",end:"start"};function Wu(t,r,s){return an(t,fs(r,s))}function Dr(t,r){return typeof t=="function"?t(r):t}function Rr(t){return t.split("-")[0]}function $o(t){return t.split("-")[1]}function Cf(t){return t==="x"?"y":"x"}function Nf(t){return t==="y"?"height":"width"}const dS=new Set(["top","bottom"]);function sr(t){return dS.has(Rr(t))?"y":"x"}function Ef(t){return Cf(sr(t))}function uS(t,r,s){s===void 0&&(s=!1);const a=$o(t),i=Ef(t),c=Nf(i);let d=i==="x"?a===(s?"end":"start")?"right":"left":a==="start"?"bottom":"top";return r.reference[c]>r.floating[c]&&(d=Ml(d)),[d,Ml(d)]}function fS(t){const r=Ml(t);return[Vu(t),r,Vu(r)]}function Vu(t){return t.replace(/start|end/g,r=>cS[r])}const wg=["left","right"],bg=["right","left"],hS=["top","bottom"],pS=["bottom","top"];function mS(t,r,s){switch(t){case"top":case"bottom":return s?r?bg:wg:r?wg:bg;case"left":case"right":return r?hS:pS;default:return[]}}function gS(t,r,s,a){const i=$o(t);let c=mS(Rr(t),s==="start",a);return i&&(c=c.map(d=>d+"-"+i),r&&(c=c.concat(c.map(Vu)))),c}function Ml(t){return t.replace(/left|right|bottom|top/g,r=>lS[r])}function xS(t){return{top:0,right:0,bottom:0,left:0,...t}}function Lv(t){return typeof t!="number"?xS(t):{top:t,right:t,bottom:t,left:t}}function Ol(t){const{x:r,y:s,width:a,height:i}=t;return{width:a,height:i,top:s,left:r,right:r+a,bottom:s+i,x:r,y:s}}function Cg(t,r,s){let{reference:a,floating:i}=t;const c=sr(r),d=Ef(r),f=Nf(d),g=Rr(r),p=c==="y",m=a.x+a.width/2-i.width/2,u=a.y+a.height/2-i.height/2,y=a[f]/2-i[f]/2;let b;switch(g){case"top":b={x:m,y:a.y-i.height};break;case"bottom":b={x:m,y:a.y+a.height};break;case"right":b={x:a.x+a.width,y:u};break;case"left":b={x:a.x-i.width,y:u};break;default:b={x:a.x,y:a.y}}switch($o(r)){case"start":b[d]-=y*(s&&p?-1:1);break;case"end":b[d]+=y*(s&&p?-1:1);break}return b}const vS=async(t,r,s)=>{const{placement:a="bottom",strategy:i="absolute",middleware:c=[],platform:d}=s,f=c.filter(Boolean),g=await(d.isRTL==null?void 0:d.isRTL(r));let p=await d.getElementRects({reference:t,floating:r,strategy:i}),{x:m,y:u}=Cg(p,a,g),y=a,b={},N=0;for(let C=0;C<f.length;C++){const{name:w,fn:E}=f[C],{x:S,y:k,data:R,reset:T}=await E({x:m,y:u,initialPlacement:a,placement:y,strategy:i,middlewareData:b,rects:p,platform:d,elements:{reference:t,floating:r}});m=S??m,u=k??u,b={...b,[w]:{...b[w],...R}},T&&N<=50&&(N++,typeof T=="object"&&(T.placement&&(y=T.placement),T.rects&&(p=T.rects===!0?await d.getElementRects({reference:t,floating:r,strategy:i}):T.rects),{x:m,y:u}=Cg(p,y,g)),C=-1)}return{x:m,y:u,placement:y,strategy:i,middlewareData:b}};async function Oa(t,r){var s;r===void 0&&(r={});const{x:a,y:i,platform:c,rects:d,elements:f,strategy:g}=t,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:u="floating",altBoundary:y=!1,padding:b=0}=Dr(r,t),N=Lv(b),w=f[y?u==="floating"?"reference":"floating":u],E=Ol(await c.getClippingRect({element:(s=await(c.isElement==null?void 0:c.isElement(w)))==null||s?w:w.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:p,rootBoundary:m,strategy:g})),S=u==="floating"?{x:a,y:i,width:d.floating.width,height:d.floating.height}:d.reference,k=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),R=await(c.isElement==null?void 0:c.isElement(k))?await(c.getScale==null?void 0:c.getScale(k))||{x:1,y:1}:{x:1,y:1},T=Ol(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:S,offsetParent:k,strategy:g}):S);return{top:(E.top-T.top+N.top)/R.y,bottom:(T.bottom-E.bottom+N.bottom)/R.y,left:(E.left-T.left+N.left)/R.x,right:(T.right-E.right+N.right)/R.x}}const yS=t=>({name:"arrow",options:t,async fn(r){const{x:s,y:a,placement:i,rects:c,platform:d,elements:f,middlewareData:g}=r,{element:p,padding:m=0}=Dr(t,r)||{};if(p==null)return{};const u=Lv(m),y={x:s,y:a},b=Ef(i),N=Nf(b),C=await d.getDimensions(p),w=b==="y",E=w?"top":"left",S=w?"bottom":"right",k=w?"clientHeight":"clientWidth",R=c.reference[N]+c.reference[b]-y[b]-c.floating[N],T=y[b]-c.reference[b],D=await(d.getOffsetParent==null?void 0:d.getOffsetParent(p));let P=D?D[k]:0;(!P||!await(d.isElement==null?void 0:d.isElement(D)))&&(P=f.floating[k]||c.floating[N]);const I=R/2-T/2,V=P/2-C[N]/2-1,Y=fs(u[E],V),J=fs(u[S],V),ue=Y,Q=P-C[N]-J,ne=P/2-C[N]/2+I,z=Wu(ue,ne,Q),H=!g.arrow&&$o(i)!=null&&ne!==z&&c.reference[N]/2-(ne<ue?Y:J)-C[N]/2<0,B=H?ne<ue?ne-ue:ne-Q:0;return{[b]:y[b]+B,data:{[b]:z,centerOffset:ne-z-B,...H&&{alignmentOffset:B}},reset:H}}}),jS=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(r){var s,a;const{placement:i,middlewareData:c,rects:d,initialPlacement:f,platform:g,elements:p}=r,{mainAxis:m=!0,crossAxis:u=!0,fallbackPlacements:y,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:C=!0,...w}=Dr(t,r);if((s=c.arrow)!=null&&s.alignmentOffset)return{};const E=Rr(i),S=sr(f),k=Rr(f)===f,R=await(g.isRTL==null?void 0:g.isRTL(p.floating)),T=y||(k||!C?[Ml(f)]:fS(f)),D=N!=="none";!y&&D&&T.push(...gS(f,C,N,R));const P=[f,...T],I=await Oa(r,w),V=[];let Y=((a=c.flip)==null?void 0:a.overflows)||[];if(m&&V.push(I[E]),u){const ne=uS(i,d,R);V.push(I[ne[0]],I[ne[1]])}if(Y=[...Y,{placement:i,overflows:V}],!V.every(ne=>ne<=0)){var J,ue;const ne=(((J=c.flip)==null?void 0:J.index)||0)+1,z=P[ne];if(z&&(!(u==="alignment"?S!==sr(z):!1)||Y.every(F=>sr(F.placement)===S?F.overflows[0]>0:!0)))return{data:{index:ne,overflows:Y},reset:{placement:z}};let H=(ue=Y.filter(B=>B.overflows[0]<=0).sort((B,F)=>B.overflows[1]-F.overflows[1])[0])==null?void 0:ue.placement;if(!H)switch(b){case"bestFit":{var Q;const B=(Q=Y.filter(F=>{if(D){const ee=sr(F.placement);return ee===S||ee==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(ee=>ee>0).reduce((ee,U)=>ee+U,0)]).sort((F,ee)=>F[1]-ee[1])[0])==null?void 0:Q[0];B&&(H=B);break}case"initialPlacement":H=f;break}if(i!==H)return{reset:{placement:H}}}return{}}}};function Ng(t,r){return{top:t.top-r.height,right:t.right-r.width,bottom:t.bottom-r.height,left:t.left-r.width}}function Eg(t){return iS.some(r=>t[r]>=0)}const wS=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(r){const{rects:s}=r,{strategy:a="referenceHidden",...i}=Dr(t,r);switch(a){case"referenceHidden":{const c=await Oa(r,{...i,elementContext:"reference"}),d=Ng(c,s.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:Eg(d)}}}case"escaped":{const c=await Oa(r,{...i,altBoundary:!0}),d=Ng(c,s.floating);return{data:{escapedOffsets:d,escaped:Eg(d)}}}default:return{}}}}},$v=new Set(["left","top"]);async function bS(t,r){const{placement:s,platform:a,elements:i}=t,c=await(a.isRTL==null?void 0:a.isRTL(i.floating)),d=Rr(s),f=$o(s),g=sr(s)==="y",p=$v.has(d)?-1:1,m=c&&g?-1:1,u=Dr(r,t);let{mainAxis:y,crossAxis:b,alignmentAxis:N}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return f&&typeof N=="number"&&(b=f==="end"?N*-1:N),g?{x:b*m,y:y*p}:{x:y*p,y:b*m}}const CS=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(r){var s,a;const{x:i,y:c,placement:d,middlewareData:f}=r,g=await bS(r,t);return d===((s=f.offset)==null?void 0:s.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:i+g.x,y:c+g.y,data:{...g,placement:d}}}}},NS=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(r){const{x:s,y:a,placement:i}=r,{mainAxis:c=!0,crossAxis:d=!1,limiter:f={fn:w=>{let{x:E,y:S}=w;return{x:E,y:S}}},...g}=Dr(t,r),p={x:s,y:a},m=await Oa(r,g),u=sr(Rr(i)),y=Cf(u);let b=p[y],N=p[u];if(c){const w=y==="y"?"top":"left",E=y==="y"?"bottom":"right",S=b+m[w],k=b-m[E];b=Wu(S,b,k)}if(d){const w=u==="y"?"top":"left",E=u==="y"?"bottom":"right",S=N+m[w],k=N-m[E];N=Wu(S,N,k)}const C=f.fn({...r,[y]:b,[u]:N});return{...C,data:{x:C.x-s,y:C.y-a,enabled:{[y]:c,[u]:d}}}}}},ES=function(t){return t===void 0&&(t={}),{options:t,fn(r){const{x:s,y:a,placement:i,rects:c,middlewareData:d}=r,{offset:f=0,mainAxis:g=!0,crossAxis:p=!0}=Dr(t,r),m={x:s,y:a},u=sr(i),y=Cf(u);let b=m[y],N=m[u];const C=Dr(f,r),w=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(g){const k=y==="y"?"height":"width",R=c.reference[y]-c.floating[k]+w.mainAxis,T=c.reference[y]+c.reference[k]-w.mainAxis;b<R?b=R:b>T&&(b=T)}if(p){var E,S;const k=y==="y"?"width":"height",R=$v.has(Rr(i)),T=c.reference[u]-c.floating[k]+(R&&((E=d.offset)==null?void 0:E[u])||0)+(R?0:w.crossAxis),D=c.reference[u]+c.reference[k]+(R?0:((S=d.offset)==null?void 0:S[u])||0)-(R?w.crossAxis:0);N<T?N=T:N>D&&(N=D)}return{[y]:b,[u]:N}}}},SS=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(r){var s,a;const{placement:i,rects:c,platform:d,elements:f}=r,{apply:g=()=>{},...p}=Dr(t,r),m=await Oa(r,p),u=Rr(i),y=$o(i),b=sr(i)==="y",{width:N,height:C}=c.floating;let w,E;u==="top"||u==="bottom"?(w=u,E=y===(await(d.isRTL==null?void 0:d.isRTL(f.floating))?"start":"end")?"left":"right"):(E=u,w=y==="end"?"top":"bottom");const S=C-m.top-m.bottom,k=N-m.left-m.right,R=fs(C-m[w],S),T=fs(N-m[E],k),D=!r.middlewareData.shift;let P=R,I=T;if((s=r.middlewareData.shift)!=null&&s.enabled.x&&(I=k),(a=r.middlewareData.shift)!=null&&a.enabled.y&&(P=S),D&&!y){const Y=an(m.left,0),J=an(m.right,0),ue=an(m.top,0),Q=an(m.bottom,0);b?I=N-2*(Y!==0||J!==0?Y+J:an(m.left,m.right)):P=C-2*(ue!==0||Q!==0?ue+Q:an(m.top,m.bottom))}await g({...r,availableWidth:I,availableHeight:P});const V=await d.getDimensions(f.floating);return N!==V.width||C!==V.height?{reset:{rects:!0}}:{}}}};function Gl(){return typeof window<"u"}function Bo(t){return Bv(t)?(t.nodeName||"").toLowerCase():"#document"}function fn(t){var r;return(t==null||(r=t.ownerDocument)==null?void 0:r.defaultView)||window}function hr(t){var r;return(r=(Bv(t)?t.ownerDocument:t.document)||window.document)==null?void 0:r.documentElement}function Bv(t){return Gl()?t instanceof Node||t instanceof fn(t).Node:!1}function Wn(t){return Gl()?t instanceof Element||t instanceof fn(t).Element:!1}function lr(t){return Gl()?t instanceof HTMLElement||t instanceof fn(t).HTMLElement:!1}function Sg(t){return!Gl()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof fn(t).ShadowRoot}const _S=new Set(["inline","contents"]);function Ya(t){const{overflow:r,overflowX:s,overflowY:a,display:i}=Vn(t);return/auto|scroll|overlay|hidden|clip/.test(r+a+s)&&!_S.has(i)}const kS=new Set(["table","td","th"]);function FS(t){return kS.has(Bo(t))}const DS=[":popover-open",":modal"];function Kl(t){return DS.some(r=>{try{return t.matches(r)}catch{return!1}})}const RS=["transform","translate","scale","rotate","perspective"],PS=["transform","translate","scale","rotate","perspective","filter"],AS=["paint","layout","strict","content"];function Sf(t){const r=_f(),s=Wn(t)?Vn(t):t;return RS.some(a=>s[a]?s[a]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!r&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!r&&(s.filter?s.filter!=="none":!1)||PS.some(a=>(s.willChange||"").includes(a))||AS.some(a=>(s.contain||"").includes(a))}function TS(t){let r=hs(t);for(;lr(r)&&!Ro(r);){if(Sf(r))return r;if(Kl(r))return null;r=hs(r)}return null}function _f(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const MS=new Set(["html","body","#document"]);function Ro(t){return MS.has(Bo(t))}function Vn(t){return fn(t).getComputedStyle(t)}function Ql(t){return Wn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function hs(t){if(Bo(t)==="html")return t;const r=t.assignedSlot||t.parentNode||Sg(t)&&t.host||hr(t);return Sg(r)?r.host:r}function zv(t){const r=hs(t);return Ro(r)?t.ownerDocument?t.ownerDocument.body:t.body:lr(r)&&Ya(r)?r:zv(r)}function Ia(t,r,s){var a;r===void 0&&(r=[]),s===void 0&&(s=!0);const i=zv(t),c=i===((a=t.ownerDocument)==null?void 0:a.body),d=fn(i);if(c){const f=Hu(d);return r.concat(d,d.visualViewport||[],Ya(i)?i:[],f&&s?Ia(f):[])}return r.concat(i,Ia(i,[],s))}function Hu(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Wv(t){const r=Vn(t);let s=parseFloat(r.width)||0,a=parseFloat(r.height)||0;const i=lr(t),c=i?t.offsetWidth:s,d=i?t.offsetHeight:a,f=Tl(s)!==c||Tl(a)!==d;return f&&(s=c,a=d),{width:s,height:a,$:f}}function kf(t){return Wn(t)?t:t.contextElement}function _o(t){const r=kf(t);if(!lr(r))return ir(1);const s=r.getBoundingClientRect(),{width:a,height:i,$:c}=Wv(r);let d=(c?Tl(s.width):s.width)/a,f=(c?Tl(s.height):s.height)/i;return(!d||!Number.isFinite(d))&&(d=1),(!f||!Number.isFinite(f))&&(f=1),{x:d,y:f}}const OS=ir(0);function Vv(t){const r=fn(t);return!_f()||!r.visualViewport?OS:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function IS(t,r,s){return r===void 0&&(r=!1),!s||r&&s!==fn(t)?!1:r}function Vs(t,r,s,a){r===void 0&&(r=!1),s===void 0&&(s=!1);const i=t.getBoundingClientRect(),c=kf(t);let d=ir(1);r&&(a?Wn(a)&&(d=_o(a)):d=_o(t));const f=IS(c,s,a)?Vv(c):ir(0);let g=(i.left+f.x)/d.x,p=(i.top+f.y)/d.y,m=i.width/d.x,u=i.height/d.y;if(c){const y=fn(c),b=a&&Wn(a)?fn(a):a;let N=y,C=Hu(N);for(;C&&a&&b!==N;){const w=_o(C),E=C.getBoundingClientRect(),S=Vn(C),k=E.left+(C.clientLeft+parseFloat(S.paddingLeft))*w.x,R=E.top+(C.clientTop+parseFloat(S.paddingTop))*w.y;g*=w.x,p*=w.y,m*=w.x,u*=w.y,g+=k,p+=R,N=fn(C),C=Hu(N)}}return Ol({width:m,height:u,x:g,y:p})}function Jl(t,r){const s=Ql(t).scrollLeft;return r?r.left+s:Vs(hr(t)).left+s}function Hv(t,r){const s=t.getBoundingClientRect(),a=s.left+r.scrollLeft-Jl(t,s),i=s.top+r.scrollTop;return{x:a,y:i}}function LS(t){let{elements:r,rect:s,offsetParent:a,strategy:i}=t;const c=i==="fixed",d=hr(a),f=r?Kl(r.floating):!1;if(a===d||f&&c)return s;let g={scrollLeft:0,scrollTop:0},p=ir(1);const m=ir(0),u=lr(a);if((u||!u&&!c)&&((Bo(a)!=="body"||Ya(d))&&(g=Ql(a)),lr(a))){const b=Vs(a);p=_o(a),m.x=b.x+a.clientLeft,m.y=b.y+a.clientTop}const y=d&&!u&&!c?Hv(d,g):ir(0);return{width:s.width*p.x,height:s.height*p.y,x:s.x*p.x-g.scrollLeft*p.x+m.x+y.x,y:s.y*p.y-g.scrollTop*p.y+m.y+y.y}}function $S(t){return Array.from(t.getClientRects())}function BS(t){const r=hr(t),s=Ql(t),a=t.ownerDocument.body,i=an(r.scrollWidth,r.clientWidth,a.scrollWidth,a.clientWidth),c=an(r.scrollHeight,r.clientHeight,a.scrollHeight,a.clientHeight);let d=-s.scrollLeft+Jl(t);const f=-s.scrollTop;return Vn(a).direction==="rtl"&&(d+=an(r.clientWidth,a.clientWidth)-i),{width:i,height:c,x:d,y:f}}const _g=25;function zS(t,r){const s=fn(t),a=hr(t),i=s.visualViewport;let c=a.clientWidth,d=a.clientHeight,f=0,g=0;if(i){c=i.width,d=i.height;const m=_f();(!m||m&&r==="fixed")&&(f=i.offsetLeft,g=i.offsetTop)}const p=Jl(a);if(p<=0){const m=a.ownerDocument,u=m.body,y=getComputedStyle(u),b=m.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,N=Math.abs(a.clientWidth-u.clientWidth-b);N<=_g&&(c-=N)}else p<=_g&&(c+=p);return{width:c,height:d,x:f,y:g}}const WS=new Set(["absolute","fixed"]);function VS(t,r){const s=Vs(t,!0,r==="fixed"),a=s.top+t.clientTop,i=s.left+t.clientLeft,c=lr(t)?_o(t):ir(1),d=t.clientWidth*c.x,f=t.clientHeight*c.y,g=i*c.x,p=a*c.y;return{width:d,height:f,x:g,y:p}}function kg(t,r,s){let a;if(r==="viewport")a=zS(t,s);else if(r==="document")a=BS(hr(t));else if(Wn(r))a=VS(r,s);else{const i=Vv(t);a={x:r.x-i.x,y:r.y-i.y,width:r.width,height:r.height}}return Ol(a)}function Uv(t,r){const s=hs(t);return s===r||!Wn(s)||Ro(s)?!1:Vn(s).position==="fixed"||Uv(s,r)}function HS(t,r){const s=r.get(t);if(s)return s;let a=Ia(t,[],!1).filter(f=>Wn(f)&&Bo(f)!=="body"),i=null;const c=Vn(t).position==="fixed";let d=c?hs(t):t;for(;Wn(d)&&!Ro(d);){const f=Vn(d),g=Sf(d);!g&&f.position==="fixed"&&(i=null),(c?!g&&!i:!g&&f.position==="static"&&!!i&&WS.has(i.position)||Ya(d)&&!g&&Uv(t,d))?a=a.filter(m=>m!==d):i=f,d=hs(d)}return r.set(t,a),a}function US(t){let{element:r,boundary:s,rootBoundary:a,strategy:i}=t;const d=[...s==="clippingAncestors"?Kl(r)?[]:HS(r,this._c):[].concat(s),a],f=d[0],g=d.reduce((p,m)=>{const u=kg(r,m,i);return p.top=an(u.top,p.top),p.right=fs(u.right,p.right),p.bottom=fs(u.bottom,p.bottom),p.left=an(u.left,p.left),p},kg(r,f,i));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function qS(t){const{width:r,height:s}=Wv(t);return{width:r,height:s}}function YS(t,r,s){const a=lr(r),i=hr(r),c=s==="fixed",d=Vs(t,!0,c,r);let f={scrollLeft:0,scrollTop:0};const g=ir(0);function p(){g.x=Jl(i)}if(a||!a&&!c)if((Bo(r)!=="body"||Ya(i))&&(f=Ql(r)),a){const b=Vs(r,!0,c,r);g.x=b.x+r.clientLeft,g.y=b.y+r.clientTop}else i&&p();c&&!a&&i&&p();const m=i&&!a&&!c?Hv(i,f):ir(0),u=d.left+f.scrollLeft-g.x-m.x,y=d.top+f.scrollTop-g.y-m.y;return{x:u,y,width:d.width,height:d.height}}function iu(t){return Vn(t).position==="static"}function Fg(t,r){if(!lr(t)||Vn(t).position==="fixed")return null;if(r)return r(t);let s=t.offsetParent;return hr(t)===s&&(s=s.ownerDocument.body),s}function qv(t,r){const s=fn(t);if(Kl(t))return s;if(!lr(t)){let i=hs(t);for(;i&&!Ro(i);){if(Wn(i)&&!iu(i))return i;i=hs(i)}return s}let a=Fg(t,r);for(;a&&FS(a)&&iu(a);)a=Fg(a,r);return a&&Ro(a)&&iu(a)&&!Sf(a)?s:a||TS(t)||s}const GS=async function(t){const r=this.getOffsetParent||qv,s=this.getDimensions,a=await s(t.floating);return{reference:YS(t.reference,await r(t.floating),t.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function KS(t){return Vn(t).direction==="rtl"}const QS={convertOffsetParentRelativeRectToViewportRelativeRect:LS,getDocumentElement:hr,getClippingRect:US,getOffsetParent:qv,getElementRects:GS,getClientRects:$S,getDimensions:qS,getScale:_o,isElement:Wn,isRTL:KS};function Yv(t,r){return t.x===r.x&&t.y===r.y&&t.width===r.width&&t.height===r.height}function JS(t,r){let s=null,a;const i=hr(t);function c(){var f;clearTimeout(a),(f=s)==null||f.disconnect(),s=null}function d(f,g){f===void 0&&(f=!1),g===void 0&&(g=1),c();const p=t.getBoundingClientRect(),{left:m,top:u,width:y,height:b}=p;if(f||r(),!y||!b)return;const N=wl(u),C=wl(i.clientWidth-(m+y)),w=wl(i.clientHeight-(u+b)),E=wl(m),k={rootMargin:-N+"px "+-C+"px "+-w+"px "+-E+"px",threshold:an(0,fs(1,g))||1};let R=!0;function T(D){const P=D[0].intersectionRatio;if(P!==g){if(!R)return d();P?d(!1,P):a=setTimeout(()=>{d(!1,1e-7)},1e3)}P===1&&!Yv(p,t.getBoundingClientRect())&&d(),R=!1}try{s=new IntersectionObserver(T,{...k,root:i.ownerDocument})}catch{s=new IntersectionObserver(T,k)}s.observe(t)}return d(!0),c}function XS(t,r,s,a){a===void 0&&(a={});const{ancestorScroll:i=!0,ancestorResize:c=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:g=!1}=a,p=kf(t),m=i||c?[...p?Ia(p):[],...Ia(r)]:[];m.forEach(E=>{i&&E.addEventListener("scroll",s,{passive:!0}),c&&E.addEventListener("resize",s)});const u=p&&f?JS(p,s):null;let y=-1,b=null;d&&(b=new ResizeObserver(E=>{let[S]=E;S&&S.target===p&&b&&(b.unobserve(r),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var k;(k=b)==null||k.observe(r)})),s()}),p&&!g&&b.observe(p),b.observe(r));let N,C=g?Vs(t):null;g&&w();function w(){const E=Vs(t);C&&!Yv(C,E)&&s(),C=E,N=requestAnimationFrame(w)}return s(),()=>{var E;m.forEach(S=>{i&&S.removeEventListener("scroll",s),c&&S.removeEventListener("resize",s)}),u?.(),(E=b)==null||E.disconnect(),b=null,g&&cancelAnimationFrame(N)}}const ZS=CS,e_=NS,t_=jS,n_=SS,r_=wS,Dg=yS,s_=ES,o_=(t,r,s)=>{const a=new Map,i={platform:QS,...s},c={...i.platform,_c:a};return vS(t,r,{...i,platform:c})};var a_=typeof document<"u",i_=function(){},Fl=a_?v.useLayoutEffect:i_;function Il(t,r){if(t===r)return!0;if(typeof t!=typeof r)return!1;if(typeof t=="function"&&t.toString()===r.toString())return!0;let s,a,i;if(t&&r&&typeof t=="object"){if(Array.isArray(t)){if(s=t.length,s!==r.length)return!1;for(a=s;a--!==0;)if(!Il(t[a],r[a]))return!1;return!0}if(i=Object.keys(t),s=i.length,s!==Object.keys(r).length)return!1;for(a=s;a--!==0;)if(!{}.hasOwnProperty.call(r,i[a]))return!1;for(a=s;a--!==0;){const c=i[a];if(!(c==="_owner"&&t.$$typeof)&&!Il(t[c],r[c]))return!1}return!0}return t!==t&&r!==r}function Gv(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Rg(t,r){const s=Gv(t);return Math.round(r*s)/s}function lu(t){const r=v.useRef(t);return Fl(()=>{r.current=t}),r}function l_(t){t===void 0&&(t={});const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:i,elements:{reference:c,floating:d}={},transform:f=!0,whileElementsMounted:g,open:p}=t,[m,u]=v.useState({x:0,y:0,strategy:s,placement:r,middlewareData:{},isPositioned:!1}),[y,b]=v.useState(a);Il(y,a)||b(a);const[N,C]=v.useState(null),[w,E]=v.useState(null),S=v.useCallback(F=>{F!==D.current&&(D.current=F,C(F))},[]),k=v.useCallback(F=>{F!==P.current&&(P.current=F,E(F))},[]),R=c||N,T=d||w,D=v.useRef(null),P=v.useRef(null),I=v.useRef(m),V=g!=null,Y=lu(g),J=lu(i),ue=lu(p),Q=v.useCallback(()=>{if(!D.current||!P.current)return;const F={placement:r,strategy:s,middleware:y};J.current&&(F.platform=J.current),o_(D.current,P.current,F).then(ee=>{const U={...ee,isPositioned:ue.current!==!1};ne.current&&!Il(I.current,U)&&(I.current=U,Ha.flushSync(()=>{u(U)}))})},[y,r,s,J,ue]);Fl(()=>{p===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,u(F=>({...F,isPositioned:!1})))},[p]);const ne=v.useRef(!1);Fl(()=>(ne.current=!0,()=>{ne.current=!1}),[]),Fl(()=>{if(R&&(D.current=R),T&&(P.current=T),R&&T){if(Y.current)return Y.current(R,T,Q);Q()}},[R,T,Q,Y,V]);const z=v.useMemo(()=>({reference:D,floating:P,setReference:S,setFloating:k}),[S,k]),H=v.useMemo(()=>({reference:R,floating:T}),[R,T]),B=v.useMemo(()=>{const F={position:s,left:0,top:0};if(!H.floating)return F;const ee=Rg(H.floating,m.x),U=Rg(H.floating,m.y);return f?{...F,transform:"translate("+ee+"px, "+U+"px)",...Gv(H.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:ee,top:U}},[s,f,H.floating,m.x,m.y]);return v.useMemo(()=>({...m,update:Q,refs:z,elements:H,floatingStyles:B}),[m,Q,z,H,B])}const c_=t=>{function r(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:t,fn(s){const{element:a,padding:i}=typeof t=="function"?t(s):t;return a&&r(a)?a.current!=null?Dg({element:a.current,padding:i}).fn(s):{}:a?Dg({element:a,padding:i}).fn(s):{}}}},d_=(t,r)=>({...ZS(t),options:[t,r]}),u_=(t,r)=>({...e_(t),options:[t,r]}),f_=(t,r)=>({...s_(t),options:[t,r]}),h_=(t,r)=>({...t_(t),options:[t,r]}),p_=(t,r)=>({...n_(t),options:[t,r]}),m_=(t,r)=>({...r_(t),options:[t,r]}),g_=(t,r)=>({...c_(t),options:[t,r]});var x_="Arrow",Kv=v.forwardRef((t,r)=>{const{children:s,width:a=10,height:i=5,...c}=t;return e.jsx(Le.svg,{...c,ref:r,width:a,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?s:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});Kv.displayName=x_;var v_=Kv;function Qv(t){const[r,s]=v.useState(void 0);return At(()=>{if(t){s({width:t.offsetWidth,height:t.offsetHeight});const a=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const c=i[0];let d,f;if("borderBoxSize"in c){const g=c.borderBoxSize,p=Array.isArray(g)?g[0]:g;d=p.inlineSize,f=p.blockSize}else d=t.offsetWidth,f=t.offsetHeight;s({width:d,height:f})});return a.observe(t,{box:"border-box"}),()=>a.unobserve(t)}else s(void 0)},[t]),r}var Ff="Popper",[Jv,zo]=Pr(Ff),[y_,Xv]=Jv(Ff),Zv=t=>{const{__scopePopper:r,children:s}=t,[a,i]=v.useState(null);return e.jsx(y_,{scope:r,anchor:a,onAnchorChange:i,children:s})};Zv.displayName=Ff;var ey="PopperAnchor",ty=v.forwardRef((t,r)=>{const{__scopePopper:s,virtualRef:a,...i}=t,c=Xv(ey,s),d=v.useRef(null),f=Qe(r,d),g=v.useRef(null);return v.useEffect(()=>{const p=g.current;g.current=a?.current||d.current,p!==g.current&&c.onAnchorChange(g.current)}),a?null:e.jsx(Le.div,{...i,ref:f})});ty.displayName=ey;var Df="PopperContent",[j_,w_]=Jv(Df),ny=v.forwardRef((t,r)=>{const{__scopePopper:s,side:a="bottom",sideOffset:i=0,align:c="center",alignOffset:d=0,arrowPadding:f=0,avoidCollisions:g=!0,collisionBoundary:p=[],collisionPadding:m=0,sticky:u="partial",hideWhenDetached:y=!1,updatePositionStrategy:b="optimized",onPlaced:N,...C}=t,w=Xv(Df,s),[E,S]=v.useState(null),k=Qe(r,ie=>S(ie)),[R,T]=v.useState(null),D=Qv(R),P=D?.width??0,I=D?.height??0,V=a+(c!=="center"?"-"+c:""),Y=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},J=Array.isArray(p)?p:[p],ue=J.length>0,Q={padding:Y,boundary:J.filter(C_),altBoundary:ue},{refs:ne,floatingStyles:z,placement:H,isPositioned:B,middlewareData:F}=l_({strategy:"fixed",placement:V,whileElementsMounted:(...ie)=>XS(...ie,{animationFrame:b==="always"}),elements:{reference:w.anchor},middleware:[d_({mainAxis:i+I,alignmentAxis:d}),g&&u_({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?f_():void 0,...Q}),g&&h_({...Q}),p_({...Q,apply:({elements:ie,rects:fe,availableWidth:_e,availableHeight:De})=>{const{width:ze,height:Ve}=fe.reference,pt=ie.floating.style;pt.setProperty("--radix-popper-available-width",`${_e}px`),pt.setProperty("--radix-popper-available-height",`${De}px`),pt.setProperty("--radix-popper-anchor-width",`${ze}px`),pt.setProperty("--radix-popper-anchor-height",`${Ve}px`)}}),R&&g_({element:R,padding:f}),N_({arrowWidth:P,arrowHeight:I}),y&&m_({strategy:"referenceHidden",...Q})]}),[ee,U]=oy(H),M=us(N);At(()=>{B&&M?.()},[B,M]);const K=F.arrow?.x,re=F.arrow?.y,se=F.arrow?.centerOffset!==0,[he,be]=v.useState();return At(()=>{E&&be(window.getComputedStyle(E).zIndex)},[E]),e.jsx("div",{ref:ne.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:B?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[F.transformOrigin?.x,F.transformOrigin?.y].join(" "),...F.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(j_,{scope:s,placedSide:ee,onArrowChange:T,arrowX:K,arrowY:re,shouldHideArrow:se,children:e.jsx(Le.div,{"data-side":ee,"data-align":U,...C,ref:k,style:{...C.style,animation:B?void 0:"none"}})})})});ny.displayName=Df;var ry="PopperArrow",b_={top:"bottom",right:"left",bottom:"top",left:"right"},sy=v.forwardRef(function(r,s){const{__scopePopper:a,...i}=r,c=w_(ry,a),d=b_[c.placedSide];return e.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:e.jsx(v_,{...i,ref:s,style:{...i.style,display:"block"}})})});sy.displayName=ry;function C_(t){return t!==null}var N_=t=>({name:"transformOrigin",options:t,fn(r){const{placement:s,rects:a,middlewareData:i}=r,d=i.arrow?.centerOffset!==0,f=d?0:t.arrowWidth,g=d?0:t.arrowHeight,[p,m]=oy(s),u={start:"0%",center:"50%",end:"100%"}[m],y=(i.arrow?.x??0)+f/2,b=(i.arrow?.y??0)+g/2;let N="",C="";return p==="bottom"?(N=d?u:`${y}px`,C=`${-g}px`):p==="top"?(N=d?u:`${y}px`,C=`${a.floating.height+g}px`):p==="right"?(N=`${-g}px`,C=d?u:`${b}px`):p==="left"&&(N=`${a.floating.width+g}px`,C=d?u:`${b}px`),{data:{x:N,y:C}}}});function oy(t){const[r,s="center"]=t.split("-");return[r,s]}var Rf=Zv,Xl=ty,Pf=ny,Af=sy,ay=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),E_="VisuallyHidden",iy=v.forwardRef((t,r)=>e.jsx(Le.span,{...t,ref:r,style:{...ay,...t.style}}));iy.displayName=E_;var S_=iy,[Zl]=Pr("Tooltip",[zo]),ec=zo(),ly="TooltipProvider",__=700,Uu="tooltip.open",[k_,Tf]=Zl(ly),cy=t=>{const{__scopeTooltip:r,delayDuration:s=__,skipDelayDuration:a=300,disableHoverableContent:i=!1,children:c}=t,d=v.useRef(!0),f=v.useRef(!1),g=v.useRef(0);return v.useEffect(()=>{const p=g.current;return()=>window.clearTimeout(p)},[]),e.jsx(k_,{scope:r,isOpenDelayedRef:d,delayDuration:s,onOpen:v.useCallback(()=>{window.clearTimeout(g.current),d.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>d.current=!0,a)},[a]),isPointerInTransitRef:f,onPointerInTransitChange:v.useCallback(p=>{f.current=p},[]),disableHoverableContent:i,children:c})};cy.displayName=ly;var La="Tooltip",[F_,Ga]=Zl(La),dy=t=>{const{__scopeTooltip:r,children:s,open:a,defaultOpen:i,onOpenChange:c,disableHoverableContent:d,delayDuration:f}=t,g=Tf(La,t.__scopeTooltip),p=ec(r),[m,u]=v.useState(null),y=ar(),b=v.useRef(0),N=d??g.disableHoverableContent,C=f??g.delayDuration,w=v.useRef(!1),[E,S]=ds({prop:a,defaultProp:i??!1,onChange:P=>{P?(g.onOpen(),document.dispatchEvent(new CustomEvent(Uu))):g.onClose(),c?.(P)},caller:La}),k=v.useMemo(()=>E?w.current?"delayed-open":"instant-open":"closed",[E]),R=v.useCallback(()=>{window.clearTimeout(b.current),b.current=0,w.current=!1,S(!0)},[S]),T=v.useCallback(()=>{window.clearTimeout(b.current),b.current=0,S(!1)},[S]),D=v.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{w.current=!0,S(!0),b.current=0},C)},[C,S]);return v.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),e.jsx(Rf,{...p,children:e.jsx(F_,{scope:r,contentId:y,open:E,stateAttribute:k,trigger:m,onTriggerChange:u,onTriggerEnter:v.useCallback(()=>{g.isOpenDelayedRef.current?D():R()},[g.isOpenDelayedRef,D,R]),onTriggerLeave:v.useCallback(()=>{N?T():(window.clearTimeout(b.current),b.current=0)},[T,N]),onOpen:R,onClose:T,disableHoverableContent:N,children:s})})};dy.displayName=La;var qu="TooltipTrigger",uy=v.forwardRef((t,r)=>{const{__scopeTooltip:s,...a}=t,i=Ga(qu,s),c=Tf(qu,s),d=ec(s),f=v.useRef(null),g=Qe(r,f,i.onTriggerChange),p=v.useRef(!1),m=v.useRef(!1),u=v.useCallback(()=>p.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),e.jsx(Xl,{asChild:!0,...d,children:e.jsx(Le.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...a,ref:g,onPointerMove:Ae(t.onPointerMove,y=>{y.pointerType!=="touch"&&!m.current&&!c.isPointerInTransitRef.current&&(i.onTriggerEnter(),m.current=!0)}),onPointerLeave:Ae(t.onPointerLeave,()=>{i.onTriggerLeave(),m.current=!1}),onPointerDown:Ae(t.onPointerDown,()=>{i.open&&i.onClose(),p.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:Ae(t.onFocus,()=>{p.current||i.onOpen()}),onBlur:Ae(t.onBlur,i.onClose),onClick:Ae(t.onClick,i.onClose)})})});uy.displayName=qu;var Mf="TooltipPortal",[D_,R_]=Zl(Mf,{forceMount:void 0}),fy=t=>{const{__scopeTooltip:r,forceMount:s,children:a,container:i}=t,c=Ga(Mf,r);return e.jsx(D_,{scope:r,forceMount:s,children:e.jsx(fr,{present:s||c.open,children:e.jsx(qa,{asChild:!0,container:i,children:a})})})};fy.displayName=Mf;var Po="TooltipContent",hy=v.forwardRef((t,r)=>{const s=R_(Po,t.__scopeTooltip),{forceMount:a=s.forceMount,side:i="top",...c}=t,d=Ga(Po,t.__scopeTooltip);return e.jsx(fr,{present:a||d.open,children:d.disableHoverableContent?e.jsx(py,{side:i,...c,ref:r}):e.jsx(P_,{side:i,...c,ref:r})})}),P_=v.forwardRef((t,r)=>{const s=Ga(Po,t.__scopeTooltip),a=Tf(Po,t.__scopeTooltip),i=v.useRef(null),c=Qe(r,i),[d,f]=v.useState(null),{trigger:g,onClose:p}=s,m=i.current,{onPointerInTransitChange:u}=a,y=v.useCallback(()=>{f(null),u(!1)},[u]),b=v.useCallback((N,C)=>{const w=N.currentTarget,E={x:N.clientX,y:N.clientY},S=O_(E,w.getBoundingClientRect()),k=I_(E,S),R=L_(C.getBoundingClientRect()),T=B_([...k,...R]);f(T),u(!0)},[u]);return v.useEffect(()=>()=>y(),[y]),v.useEffect(()=>{if(g&&m){const N=w=>b(w,m),C=w=>b(w,g);return g.addEventListener("pointerleave",N),m.addEventListener("pointerleave",C),()=>{g.removeEventListener("pointerleave",N),m.removeEventListener("pointerleave",C)}}},[g,m,b,y]),v.useEffect(()=>{if(d){const N=C=>{const w=C.target,E={x:C.clientX,y:C.clientY},S=g?.contains(w)||m?.contains(w),k=!$_(E,d);S?y():k&&(y(),p())};return document.addEventListener("pointermove",N),()=>document.removeEventListener("pointermove",N)}},[g,m,d,p,y]),e.jsx(py,{...t,ref:c})}),[A_,T_]=Zl(La,{isInside:!1}),M_=Hb("TooltipContent"),py=v.forwardRef((t,r)=>{const{__scopeTooltip:s,children:a,"aria-label":i,onEscapeKeyDown:c,onPointerDownOutside:d,...f}=t,g=Ga(Po,s),p=ec(s),{onClose:m}=g;return v.useEffect(()=>(document.addEventListener(Uu,m),()=>document.removeEventListener(Uu,m)),[m]),v.useEffect(()=>{if(g.trigger){const u=y=>{y.target?.contains(g.trigger)&&m()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[g.trigger,m]),e.jsx(Ua,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u=>u.preventDefault(),onDismiss:m,children:e.jsxs(Pf,{"data-state":g.stateAttribute,...p,...f,ref:r,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(M_,{children:a}),e.jsx(A_,{scope:s,isInside:!0,children:e.jsx(S_,{id:g.contentId,role:"tooltip",children:i||a})})]})})});hy.displayName=Po;var my="TooltipArrow",gy=v.forwardRef((t,r)=>{const{__scopeTooltip:s,...a}=t,i=ec(s);return T_(my,s).isInside?null:e.jsx(Af,{...i,...a,ref:r})});gy.displayName=my;function O_(t,r){const s=Math.abs(r.top-t.y),a=Math.abs(r.bottom-t.y),i=Math.abs(r.right-t.x),c=Math.abs(r.left-t.x);switch(Math.min(s,a,i,c)){case c:return"left";case i:return"right";case s:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function I_(t,r,s=5){const a=[];switch(r){case"top":a.push({x:t.x-s,y:t.y+s},{x:t.x+s,y:t.y+s});break;case"bottom":a.push({x:t.x-s,y:t.y-s},{x:t.x+s,y:t.y-s});break;case"left":a.push({x:t.x+s,y:t.y-s},{x:t.x+s,y:t.y+s});break;case"right":a.push({x:t.x-s,y:t.y-s},{x:t.x-s,y:t.y+s});break}return a}function L_(t){const{top:r,right:s,bottom:a,left:i}=t;return[{x:i,y:r},{x:s,y:r},{x:s,y:a},{x:i,y:a}]}function $_(t,r){const{x:s,y:a}=t;let i=!1;for(let c=0,d=r.length-1;c<r.length;d=c++){const f=r[c],g=r[d],p=f.x,m=f.y,u=g.x,y=g.y;m>a!=y>a&&s<(u-p)*(a-m)/(y-m)+p&&(i=!i)}return i}function B_(t){const r=t.slice();return r.sort((s,a)=>s.x<a.x?-1:s.x>a.x?1:s.y<a.y?-1:s.y>a.y?1:0),z_(r)}function z_(t){if(t.length<=1)return t.slice();const r=[];for(let a=0;a<t.length;a++){const i=t[a];for(;r.length>=2;){const c=r[r.length-1],d=r[r.length-2];if((c.x-d.x)*(i.y-d.y)>=(c.y-d.y)*(i.x-d.x))r.pop();else break}r.push(i)}r.pop();const s=[];for(let a=t.length-1;a>=0;a--){const i=t[a];for(;s.length>=2;){const c=s[s.length-1],d=s[s.length-2];if((c.x-d.x)*(i.y-d.y)>=(c.y-d.y)*(i.x-d.x))s.pop();else break}s.push(i)}return s.pop(),r.length===1&&s.length===1&&r[0].x===s[0].x&&r[0].y===s[0].y?r:r.concat(s)}var W_=cy,V_=dy,H_=uy,U_=fy,q_=hy,Y_=gy;function xy({delayDuration:t=0,...r}){return e.jsx(W_,{"data-slot":"tooltip-provider",delayDuration:t,...r})}function G_({...t}){return e.jsx(xy,{children:e.jsx(V_,{"data-slot":"tooltip",...t})})}function K_({...t}){return e.jsx(H_,{"data-slot":"tooltip-trigger",...t})}function Q_({className:t,sideOffset:r=0,children:s,...a}){return e.jsx(U_,{children:e.jsxs(q_,{"data-slot":"tooltip-content",sideOffset:r,className:Te("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...a,children:[s,e.jsx(Y_,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const J_="sidebar_state",X_=3600*24*7,Z_="16rem",ek="18rem",tk="3rem",nk="b",vy=v.createContext(null);function yy(){const t=v.useContext(vy);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}function rk({defaultOpen:t=!0,open:r,onOpenChange:s,className:a,style:i,children:c,...d}){const f=_2(),[g,p]=v.useState(!1),[m,u]=v.useState(t),y=r??m,b=v.useCallback(E=>{const S=typeof E=="function"?E(y):E;s?s(S):u(S),document.cookie=`${J_}=${S}; path=/; max-age=${X_}`},[s,y]),N=v.useCallback(()=>f?p(E=>!E):b(E=>!E),[f,b,p]);v.useEffect(()=>{const E=S=>{S.key===nk&&(S.metaKey||S.ctrlKey)&&(S.preventDefault(),N())};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[N]);const C=y?"expanded":"collapsed",w=v.useMemo(()=>({state:C,open:y,setOpen:b,isMobile:f,openMobile:g,setOpenMobile:p,toggleSidebar:N}),[C,y,b,f,g,p,N]);return e.jsx(vy.Provider,{value:w,children:e.jsx(xy,{delayDuration:0,children:e.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":Z_,"--sidebar-width-icon":tk,...i},className:Te("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",a),...d,children:c})})})}function sk({side:t="left",variant:r="sidebar",collapsible:s="offcanvas",className:a,children:i,...c}){const{isMobile:d,state:f,openMobile:g,setOpenMobile:p}=yy();return s==="none"?e.jsx("div",{"data-slot":"sidebar",className:Te("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",a),...c,children:i}):d?e.jsx(eS,{open:g,onOpenChange:p,...c,children:e.jsxs(rS,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":ek},side:t,children:[e.jsxs(sS,{className:"sr-only",children:[e.jsx(oS,{children:"Sidebar"}),e.jsx(aS,{children:"Displays the mobile sidebar."})]}),e.jsx("div",{className:"flex h-full w-full flex-col",children:i})]})}):e.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":f,"data-collapsible":f==="collapsed"?s:"","data-variant":r,"data-side":t,"data-slot":"sidebar",children:[e.jsx("div",{"data-slot":"sidebar-gap",className:Te("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",r==="floating"||r==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),e.jsx("div",{"data-slot":"sidebar-container",className:Te("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",r==="floating"||r==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",a),...c,children:e.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function ok({className:t,...r}){return e.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:Te("flex flex-col gap-2 p-2",t),...r})}function ak({className:t,...r}){return e.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:Te("flex flex-col gap-2 p-2",t),...r})}function ik({className:t,...r}){return e.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:Te("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...r})}function Pg({className:t,...r}){return e.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:Te("relative flex w-full min-w-0 flex-col p-2",t),...r})}function Ag({className:t,asChild:r=!1,...s}){const a=r?Vl:"div";return e.jsx(a,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:Te("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...s})}function Tg({className:t,...r}){return e.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:Te("w-full text-sm",t),...r})}function Mg({className:t,...r}){return e.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:Te("flex w-full min-w-0 flex-col gap-1",t),...r})}function Og({className:t,...r}){return e.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:Te("group/menu-item relative",t),...r})}const lk=lf("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function Ig({asChild:t=!1,isActive:r=!1,variant:s="default",size:a="default",tooltip:i,className:c,...d}){const f=t?Vl:"button",{isMobile:g,state:p}=yy(),m=e.jsx(f,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":a,"data-active":r,className:Te(lk({variant:s,size:a}),c),...d});return i?(typeof i=="string"&&(i={children:i}),e.jsxs(G_,{children:[e.jsx(K_,{asChild:!0,children:m}),e.jsx(Q_,{side:"right",align:"center",hidden:p!=="collapsed"||g,...i})]})):m}const ck=lf("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Z({className:t,variant:r,asChild:s=!1,...a}){const i=s?Vl:"span";return e.jsx(i,{"data-slot":"badge",className:Te(ck({variant:r}),t),...a})}var tc="Popover",[jy]=Pr(tc,[zo]),Ka=zo(),[dk,ms]=jy(tc),wy=t=>{const{__scopePopover:r,children:s,open:a,defaultOpen:i,onOpenChange:c,modal:d=!1}=t,f=Ka(r),g=v.useRef(null),[p,m]=v.useState(!1),[u,y]=ds({prop:a,defaultProp:i??!1,onChange:c,caller:tc});return e.jsx(Rf,{...f,children:e.jsx(dk,{scope:r,contentId:ar(),triggerRef:g,open:u,onOpenChange:y,onOpenToggle:v.useCallback(()=>y(b=>!b),[y]),hasCustomAnchor:p,onCustomAnchorAdd:v.useCallback(()=>m(!0),[]),onCustomAnchorRemove:v.useCallback(()=>m(!1),[]),modal:d,children:s})})};wy.displayName=tc;var by="PopoverAnchor",uk=v.forwardRef((t,r)=>{const{__scopePopover:s,...a}=t,i=ms(by,s),c=Ka(s),{onCustomAnchorAdd:d,onCustomAnchorRemove:f}=i;return v.useEffect(()=>(d(),()=>f()),[d,f]),e.jsx(Xl,{...c,...a,ref:r})});uk.displayName=by;var Cy="PopoverTrigger",Ny=v.forwardRef((t,r)=>{const{__scopePopover:s,...a}=t,i=ms(Cy,s),c=Ka(s),d=Qe(r,i.triggerRef),f=e.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Fy(i.open),...a,ref:d,onClick:Ae(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?f:e.jsx(Xl,{asChild:!0,...c,children:f})});Ny.displayName=Cy;var Of="PopoverPortal",[fk,hk]=jy(Of,{forceMount:void 0}),Ey=t=>{const{__scopePopover:r,forceMount:s,children:a,container:i}=t,c=ms(Of,r);return e.jsx(fk,{scope:r,forceMount:s,children:e.jsx(fr,{present:s||c.open,children:e.jsx(qa,{asChild:!0,container:i,children:a})})})};Ey.displayName=Of;var Ao="PopoverContent",Sy=v.forwardRef((t,r)=>{const s=hk(Ao,t.__scopePopover),{forceMount:a=s.forceMount,...i}=t,c=ms(Ao,t.__scopePopover);return e.jsx(fr,{present:a||c.open,children:c.modal?e.jsx(mk,{...i,ref:r}):e.jsx(gk,{...i,ref:r})})});Sy.displayName=Ao;var pk=Bs("PopoverContent.RemoveScroll"),mk=v.forwardRef((t,r)=>{const s=ms(Ao,t.__scopePopover),a=v.useRef(null),i=Qe(r,a),c=v.useRef(!1);return v.useEffect(()=>{const d=a.current;if(d)return mf(d)},[]),e.jsx(ql,{as:pk,allowPinchZoom:!0,children:e.jsx(_y,{...t,ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ae(t.onCloseAutoFocus,d=>{d.preventDefault(),c.current||s.triggerRef.current?.focus()}),onPointerDownOutside:Ae(t.onPointerDownOutside,d=>{const f=d.detail.originalEvent,g=f.button===0&&f.ctrlKey===!0,p=f.button===2||g;c.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:Ae(t.onFocusOutside,d=>d.preventDefault(),{checkForDefaultPrevented:!1})})})}),gk=v.forwardRef((t,r)=>{const s=ms(Ao,t.__scopePopover),a=v.useRef(!1),i=v.useRef(!1);return e.jsx(_y,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{t.onCloseAutoFocus?.(c),c.defaultPrevented||(a.current||s.triggerRef.current?.focus(),c.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:c=>{t.onInteractOutside?.(c),c.defaultPrevented||(a.current=!0,c.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const d=c.target;s.triggerRef.current?.contains(d)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&i.current&&c.preventDefault()}})}),_y=v.forwardRef((t,r)=>{const{__scopePopover:s,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:p,onInteractOutside:m,...u}=t,y=ms(Ao,s),b=Ka(s);return pf(),e.jsx(Hl,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:c,children:e.jsx(Ua,{asChild:!0,disableOutsidePointerEvents:d,onInteractOutside:m,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:p,onDismiss:()=>y.onOpenChange(!1),children:e.jsx(Pf,{"data-state":Fy(y.open),role:"dialog",id:y.contentId,...b,...u,ref:r,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ky="PopoverClose",xk=v.forwardRef((t,r)=>{const{__scopePopover:s,...a}=t,i=ms(ky,s);return e.jsx(Le.button,{type:"button",...a,ref:r,onClick:Ae(t.onClick,()=>i.onOpenChange(!1))})});xk.displayName=ky;var vk="PopoverArrow",yk=v.forwardRef((t,r)=>{const{__scopePopover:s,...a}=t,i=Ka(s);return e.jsx(Af,{...i,...a,ref:r})});yk.displayName=vk;function Fy(t){return t?"open":"closed"}var jk=wy,wk=Ny,bk=Ey,Ck=Sy;function _n({...t}){return e.jsx(jk,{"data-slot":"popover",...t})}function kn({...t}){return e.jsx(wk,{"data-slot":"popover-trigger",...t})}function Fn({className:t,align:r="center",sideOffset:s=4,...a}){return e.jsx(bk,{children:e.jsx(Ck,{"data-slot":"popover-content",align:r,sideOffset:s,className:Te("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...a})})}const Dy=v.createContext(void 0),gs=()=>{const t=v.useContext(Dy);if(!t)throw new Error("useNotifications must be used within a NotificationProvider");return t},Nk=({children:t,userRole:r})=>{const[s,a]=v.useState([]);v.useEffect(()=>{const m=localStorage.getItem(`notifications_${r}`);if(m){const y=JSON.parse(m).map(b=>({...b,timestamp:new Date(b.timestamp)}));a(y)}},[r]),v.useEffect(()=>{(s.length>0||r)&&localStorage.setItem(`notifications_${r}`,JSON.stringify(s))},[s,r]);const i=m=>{const u={...m,id:Date.now().toString(),timestamp:new Date,read:!1};a(y=>[u,...y]),Notification.permission==="granted"&&new Notification(u.title,{body:u.message,icon:"/favicon.ico"})},c=m=>{a(u=>u.map(y=>y.id===m?{...y,read:!0}:y))},d=()=>{a(m=>m.map(u=>({...u,read:!0})))},f=m=>{a(u=>u.filter(y=>y.id!==m))},g=()=>{a([])},p=s.filter(m=>!m.read).length;return e.jsx(Dy.Provider,{value:{notifications:s,unreadCount:p,addNotification:i,markAsRead:c,markAllAsRead:d,clearNotification:f,clearAllNotifications:g},children:t})};function qe(t){const r=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&r==="[object Date]"?new t.constructor(+t):typeof t=="number"||r==="[object Number]"||typeof t=="string"||r==="[object String]"?new Date(t):new Date(NaN)}function hn(t,r){return t instanceof Date?new t.constructor(r):new Date(r)}function ft(t,r){const s=qe(t);return isNaN(r)?hn(t,NaN):(r&&s.setDate(s.getDate()+r),s)}function Hn(t,r){const s=qe(t);if(isNaN(r))return hn(t,NaN);if(!r)return s;const a=s.getDate(),i=hn(t,s.getTime());i.setMonth(s.getMonth()+r+1,0);const c=i.getDate();return a>=c?i:(s.setFullYear(i.getFullYear(),i.getMonth(),a),s)}const If=6048e5,Ek=864e5;let Sk={};function Qa(){return Sk}function cr(t,r){const s=Qa(),a=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,i=qe(t),c=i.getDay(),d=(c<a?7:0)+c-a;return i.setDate(i.getDate()-d),i.setHours(0,0,0,0),i}function Hs(t){return cr(t,{weekStartsOn:1})}function Ry(t){const r=qe(t),s=r.getFullYear(),a=hn(t,0);a.setFullYear(s+1,0,4),a.setHours(0,0,0,0);const i=Hs(a),c=hn(t,0);c.setFullYear(s,0,4),c.setHours(0,0,0,0);const d=Hs(c);return r.getTime()>=i.getTime()?s+1:r.getTime()>=d.getTime()?s:s-1}function To(t){const r=qe(t);return r.setHours(0,0,0,0),r}function Ll(t){const r=qe(t),s=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return s.setUTCFullYear(r.getFullYear()),+t-+s}function or(t,r){const s=To(t),a=To(r),i=+s-Ll(s),c=+a-Ll(a);return Math.round((i-c)/Ek)}function _k(t){const r=Ry(t),s=hn(t,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),Hs(s)}function Yu(t,r){const s=r*7;return ft(t,s)}function kk(t,r){return Hn(t,r*12)}function Fk(t){let r;return t.forEach(function(s){const a=qe(s);(r===void 0||r<a||isNaN(Number(a)))&&(r=a)}),r||new Date(NaN)}function Dk(t){let r;return t.forEach(s=>{const a=qe(s);(!r||r>a||isNaN(+a))&&(r=a)}),r||new Date(NaN)}function Kt(t,r){const s=To(t),a=To(r);return+s==+a}function Lf(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Rk(t){if(!Lf(t)&&typeof t!="number")return!1;const r=qe(t);return!isNaN(Number(r))}function $a(t,r){const s=qe(t),a=qe(r),i=s.getFullYear()-a.getFullYear(),c=s.getMonth()-a.getMonth();return i*12+c}function Pk(t,r,s){const a=cr(t,s),i=cr(r,s),c=+a-Ll(a),d=+i-Ll(i);return Math.round((c-d)/If)}function $f(t){const r=qe(t),s=r.getMonth();return r.setFullYear(r.getFullYear(),s+1,0),r.setHours(23,59,59,999),r}function Jt(t){const r=qe(t);return r.setDate(1),r.setHours(0,0,0,0),r}function Py(t){const r=qe(t),s=hn(t,0);return s.setFullYear(r.getFullYear(),0,1),s.setHours(0,0,0,0),s}function Bf(t,r){const s=Qa(),a=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,i=qe(t),c=i.getDay(),d=(c<a?-7:0)+6-(c-a);return i.setDate(i.getDate()+d),i.setHours(23,59,59,999),i}function Ay(t){return Bf(t,{weekStartsOn:1})}const Ak={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Tk=(t,r,s)=>{let a;const i=Ak[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function ko(t){return(r={})=>{const s=r.width?String(r.width):t.defaultWidth;return t.formats[s]||t.formats[t.defaultWidth]}}const Mk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ok={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ik={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Lk={date:ko({formats:Mk,defaultWidth:"full"}),time:ko({formats:Ok,defaultWidth:"full"}),dateTime:ko({formats:Ik,defaultWidth:"full"})},$k={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Bk=(t,r,s,a)=>$k[t];function nr(t){return(r,s)=>{const a=s?.context?String(s.context):"standalone";let i;if(a==="formatting"&&t.formattingValues){const d=t.defaultFormattingWidth||t.defaultWidth,f=s?.width?String(s.width):d;i=t.formattingValues[f]||t.formattingValues[d]}else{const d=t.defaultWidth,f=s?.width?String(s.width):t.defaultWidth;i=t.values[f]||t.values[d]}const c=t.argumentCallback?t.argumentCallback(r):r;return i[c]}}const zk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Wk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Vk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Hk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Uk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Yk=(t,r)=>{const s=Number(t),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},Gk={ordinalNumber:Yk,era:nr({values:zk,defaultWidth:"wide"}),quarter:nr({values:Wk,defaultWidth:"wide",argumentCallback:t=>t-1}),month:nr({values:Vk,defaultWidth:"wide"}),day:nr({values:Hk,defaultWidth:"wide"}),dayPeriod:nr({values:Uk,defaultWidth:"wide",formattingValues:qk,defaultFormattingWidth:"wide"})};function rr(t){return(r,s={})=>{const a=s.width,i=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],c=r.match(i);if(!c)return null;const d=c[0],f=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],g=Array.isArray(f)?Qk(f,u=>u.test(d)):Kk(f,u=>u.test(d));let p;p=t.valueCallback?t.valueCallback(g):g,p=s.valueCallback?s.valueCallback(p):p;const m=r.slice(d.length);return{value:p,rest:m}}}function Kk(t,r){for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&r(t[s]))return s}function Qk(t,r){for(let s=0;s<t.length;s++)if(r(t[s]))return s}function Ty(t){return(r,s={})=>{const a=r.match(t.matchPattern);if(!a)return null;const i=a[0],c=r.match(t.parsePattern);if(!c)return null;let d=t.valueCallback?t.valueCallback(c[0]):c[0];d=s.valueCallback?s.valueCallback(d):d;const f=r.slice(i.length);return{value:d,rest:f}}}const Jk=/^(\d+)(th|st|nd|rd)?/i,Xk=/\d+/i,Zk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},eF={any:[/^b/i,/^(a|c)/i]},tF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nF={any:[/1/i,/2/i,/3/i,/4/i]},rF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},oF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},aF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},iF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cF={ordinalNumber:Ty({matchPattern:Jk,parsePattern:Xk,valueCallback:t=>parseInt(t,10)}),era:rr({matchPatterns:Zk,defaultMatchWidth:"wide",parsePatterns:eF,defaultParseWidth:"any"}),quarter:rr({matchPatterns:tF,defaultMatchWidth:"wide",parsePatterns:nF,defaultParseWidth:"any",valueCallback:t=>t+1}),month:rr({matchPatterns:rF,defaultMatchWidth:"wide",parsePatterns:sF,defaultParseWidth:"any"}),day:rr({matchPatterns:oF,defaultMatchWidth:"wide",parsePatterns:aF,defaultParseWidth:"any"}),dayPeriod:rr({matchPatterns:iF,defaultMatchWidth:"any",parsePatterns:lF,defaultParseWidth:"any"})},My={code:"en-US",formatDistance:Tk,formatLong:Lk,formatRelative:Bk,localize:Gk,match:cF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function dF(t){const r=qe(t);return or(r,Py(r))+1}function Oy(t){const r=qe(t),s=+Hs(r)-+_k(r);return Math.round(s/If)+1}function Iy(t,r){const s=qe(t),a=s.getFullYear(),i=Qa(),c=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,d=hn(t,0);d.setFullYear(a+1,0,c),d.setHours(0,0,0,0);const f=cr(d,r),g=hn(t,0);g.setFullYear(a,0,c),g.setHours(0,0,0,0);const p=cr(g,r);return s.getTime()>=f.getTime()?a+1:s.getTime()>=p.getTime()?a:a-1}function uF(t,r){const s=Qa(),a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,i=Iy(t,r),c=hn(t,0);return c.setFullYear(i,0,a),c.setHours(0,0,0,0),cr(c,r)}function Ly(t,r){const s=qe(t),a=+cr(s,r)-+uF(s,r);return Math.round(a/If)+1}function Ke(t,r){const s=t<0?"-":"",a=Math.abs(t).toString().padStart(r,"0");return s+a}const is={y(t,r){const s=t.getFullYear(),a=s>0?s:1-s;return Ke(r==="yy"?a%100:a,r.length)},M(t,r){const s=t.getMonth();return r==="M"?String(s+1):Ke(s+1,2)},d(t,r){return Ke(t.getDate(),r.length)},a(t,r){const s=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(t,r){return Ke(t.getHours()%12||12,r.length)},H(t,r){return Ke(t.getHours(),r.length)},m(t,r){return Ke(t.getMinutes(),r.length)},s(t,r){return Ke(t.getSeconds(),r.length)},S(t,r){const s=r.length,a=t.getMilliseconds(),i=Math.trunc(a*Math.pow(10,s-3));return Ke(i,r.length)}},Co={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Lg={G:function(t,r,s){const a=t.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(t,r,s){if(r==="yo"){const a=t.getFullYear(),i=a>0?a:1-a;return s.ordinalNumber(i,{unit:"year"})}return is.y(t,r)},Y:function(t,r,s,a){const i=Iy(t,a),c=i>0?i:1-i;if(r==="YY"){const d=c%100;return Ke(d,2)}return r==="Yo"?s.ordinalNumber(c,{unit:"year"}):Ke(c,r.length)},R:function(t,r){const s=Ry(t);return Ke(s,r.length)},u:function(t,r){const s=t.getFullYear();return Ke(s,r.length)},Q:function(t,r,s){const a=Math.ceil((t.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return Ke(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,s){const a=Math.ceil((t.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return Ke(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,s){const a=t.getMonth();switch(r){case"M":case"MM":return is.M(t,r);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,s){const a=t.getMonth();switch(r){case"L":return String(a+1);case"LL":return Ke(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,s,a){const i=Ly(t,a);return r==="wo"?s.ordinalNumber(i,{unit:"week"}):Ke(i,r.length)},I:function(t,r,s){const a=Oy(t);return r==="Io"?s.ordinalNumber(a,{unit:"week"}):Ke(a,r.length)},d:function(t,r,s){return r==="do"?s.ordinalNumber(t.getDate(),{unit:"date"}):is.d(t,r)},D:function(t,r,s){const a=dF(t);return r==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):Ke(a,r.length)},E:function(t,r,s){const a=t.getDay();switch(r){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,s,a){const i=t.getDay(),c=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(c);case"ee":return Ke(c,2);case"eo":return s.ordinalNumber(c,{unit:"day"});case"eee":return s.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,s,a){const i=t.getDay(),c=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(c);case"cc":return Ke(c,r.length);case"co":return s.ordinalNumber(c,{unit:"day"});case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,s){const a=t.getDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return Ke(i,r.length);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,s){const i=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,s){const a=t.getHours();let i;switch(a===12?i=Co.noon:a===0?i=Co.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,s){const a=t.getHours();let i;switch(a>=17?i=Co.evening:a>=12?i=Co.afternoon:a>=4?i=Co.morning:i=Co.night,r){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,s){if(r==="ho"){let a=t.getHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return is.h(t,r)},H:function(t,r,s){return r==="Ho"?s.ordinalNumber(t.getHours(),{unit:"hour"}):is.H(t,r)},K:function(t,r,s){const a=t.getHours()%12;return r==="Ko"?s.ordinalNumber(a,{unit:"hour"}):Ke(a,r.length)},k:function(t,r,s){let a=t.getHours();return a===0&&(a=24),r==="ko"?s.ordinalNumber(a,{unit:"hour"}):Ke(a,r.length)},m:function(t,r,s){return r==="mo"?s.ordinalNumber(t.getMinutes(),{unit:"minute"}):is.m(t,r)},s:function(t,r,s){return r==="so"?s.ordinalNumber(t.getSeconds(),{unit:"second"}):is.s(t,r)},S:function(t,r){return is.S(t,r)},X:function(t,r,s){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return Bg(a);case"XXXX":case"XX":return Is(a);case"XXXXX":case"XXX":default:return Is(a,":")}},x:function(t,r,s){const a=t.getTimezoneOffset();switch(r){case"x":return Bg(a);case"xxxx":case"xx":return Is(a);case"xxxxx":case"xxx":default:return Is(a,":")}},O:function(t,r,s){const a=t.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+$g(a,":");case"OOOO":default:return"GMT"+Is(a,":")}},z:function(t,r,s){const a=t.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+$g(a,":");case"zzzz":default:return"GMT"+Is(a,":")}},t:function(t,r,s){const a=Math.trunc(t.getTime()/1e3);return Ke(a,r.length)},T:function(t,r,s){const a=t.getTime();return Ke(a,r.length)}};function $g(t,r=""){const s=t>0?"-":"+",a=Math.abs(t),i=Math.trunc(a/60),c=a%60;return c===0?s+String(i):s+String(i)+r+Ke(c,2)}function Bg(t,r){return t%60===0?(t>0?"-":"+")+Ke(Math.abs(t)/60,2):Is(t,r)}function Is(t,r=""){const s=t>0?"-":"+",a=Math.abs(t),i=Ke(Math.trunc(a/60),2),c=Ke(a%60,2);return s+i+r+c}const zg=(t,r)=>{switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},$y=(t,r)=>{switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},fF=(t,r)=>{const s=t.match(/(P+)(p+)?/)||[],a=s[1],i=s[2];if(!i)return zg(t,r);let c;switch(a){case"P":c=r.dateTime({width:"short"});break;case"PP":c=r.dateTime({width:"medium"});break;case"PPP":c=r.dateTime({width:"long"});break;case"PPPP":default:c=r.dateTime({width:"full"});break}return c.replace("{{date}}",zg(a,r)).replace("{{time}}",$y(i,r))},hF={p:$y,P:fF},pF=/^D+$/,mF=/^Y+$/,gF=["D","DD","YY","YYYY"];function xF(t){return pF.test(t)}function vF(t){return mF.test(t)}function yF(t,r,s){const a=jF(t,r,s);if(console.warn(a),gF.includes(t))throw new RangeError(a)}function jF(t,r,s){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${r}\`) for formatting ${a} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const wF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,CF=/^'([^]*?)'?$/,NF=/''/g,EF=/[a-zA-Z]/;function Ie(t,r,s){const a=Qa(),i=s?.locale??a.locale??My,c=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,d=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,f=qe(t);if(!Rk(f))throw new RangeError("Invalid time value");let g=r.match(bF).map(m=>{const u=m[0];if(u==="p"||u==="P"){const y=hF[u];return y(m,i.formatLong)}return m}).join("").match(wF).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const u=m[0];if(u==="'")return{isToken:!1,value:SF(m)};if(Lg[u])return{isToken:!0,value:m};if(u.match(EF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+u+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(g=i.localize.preprocessor(f,g));const p={firstWeekContainsDate:c,weekStartsOn:d,locale:i};return g.map(m=>{if(!m.isToken)return m.value;const u=m.value;(!s?.useAdditionalWeekYearTokens&&vF(u)||!s?.useAdditionalDayOfYearTokens&&xF(u))&&yF(u,r,String(t));const y=Lg[u[0]];return y(f,u,i.localize,p)}).join("")}function SF(t){const r=t.match(CF);return r?r[1].replace(NF,"'"):t}function _F(t){const r=qe(t),s=r.getFullYear(),a=r.getMonth(),i=hn(t,0);return i.setFullYear(s,a+1,0),i.setHours(0,0,0,0),i.getDate()}function kF(t){return Math.trunc(+qe(t)/1e3)}function FF(t){const r=qe(t),s=r.getMonth();return r.setFullYear(r.getFullYear(),s+1,0),r.setHours(0,0,0,0),r}function DF(t,r){return Pk(FF(t),Jt(t),r)+1}function Gu(t,r){const s=qe(t),a=qe(r);return s.getTime()>a.getTime()}function By(t,r){const s=qe(t),a=qe(r);return+s<+a}function zf(t,r){const s=qe(t),a=qe(r);return s.getFullYear()===a.getFullYear()&&s.getMonth()===a.getMonth()}function RF(t,r){const s=qe(t),a=qe(r);return s.getFullYear()===a.getFullYear()}function cu(t,r){return ft(t,-r)}function du(t,r){const s=qe(t),a=s.getFullYear(),i=s.getDate(),c=hn(t,0);c.setFullYear(a,r,15),c.setHours(0,0,0,0);const d=_F(c);return s.setMonth(r,Math.min(i,d)),s}function Wg(t,r){const s=qe(t);return isNaN(+s)?hn(t,NaN):(s.setFullYear(r),s)}const PF={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},AF=(t,r,s)=>{let a;const i=PF[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",String(r)),s?.addSuffix?s.comparison&&s.comparison>0?"dans "+a:"il y a "+a:a},TF={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},MF={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},OF={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},IF={date:ko({formats:TF,defaultWidth:"full"}),time:ko({formats:MF,defaultWidth:"full"}),dateTime:ko({formats:OF,defaultWidth:"full"})},LF={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},$F=(t,r,s,a)=>LF[t],BF={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},zF={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},WF={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},VF={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},HF={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},UF=(t,r)=>{const s=Number(t),a=r?.unit;if(s===0)return"0";const i=["year","week","hour","minute","second"];let c;return s===1?c=a&&i.includes(a)?"re":"er":c="me",s+c},qF=["MMM","MMMM"],YF={preprocessor:(t,r)=>t.getDate()===1||!r.some(a=>a.isToken&&qF.includes(a.value))?r:r.map(a=>a.isToken&&a.value==="do"?{isToken:!0,value:"d"}:a),ordinalNumber:UF,era:nr({values:BF,defaultWidth:"wide"}),quarter:nr({values:zF,defaultWidth:"wide",argumentCallback:t=>t-1}),month:nr({values:WF,defaultWidth:"wide"}),day:nr({values:VF,defaultWidth:"wide"}),dayPeriod:nr({values:HF,defaultWidth:"wide"})},GF=/^(\d+)(ime|re|me|er|e)?/i,KF=/\d+/i,QF={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},JF={any:[/^av/i,/^ap/i]},XF={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},ZF={any:[/1/i,/2/i,/3/i,/4/i]},eD={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},tD={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},nD={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},rD={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},sD={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},oD={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},aD={ordinalNumber:Ty({matchPattern:GF,parsePattern:KF,valueCallback:t=>parseInt(t)}),era:rr({matchPatterns:QF,defaultMatchWidth:"wide",parsePatterns:JF,defaultParseWidth:"any"}),quarter:rr({matchPatterns:XF,defaultMatchWidth:"wide",parsePatterns:ZF,defaultParseWidth:"any",valueCallback:t=>t+1}),month:rr({matchPatterns:eD,defaultMatchWidth:"wide",parsePatterns:tD,defaultParseWidth:"any"}),day:rr({matchPatterns:nD,defaultMatchWidth:"wide",parsePatterns:rD,defaultParseWidth:"any"}),dayPeriod:rr({matchPatterns:sD,defaultMatchWidth:"any",parsePatterns:oD,defaultParseWidth:"any"})},Qt={code:"fr",formatDistance:AF,formatLong:IF,formatRelative:$F,localize:YF,match:aD,options:{weekStartsOn:1,firstWeekContainsDate:4}},iD=()=>{const{notifications:t,unreadCount:r,markAsRead:s,markAllAsRead:a,clearNotification:i,clearAllNotifications:c}=gs(),[d,f]=v.useState(!1),g=m=>{switch(m){case"success":return"";case"warning":return"";case"error":return"";default:return""}},p=m=>{switch(m){case"success":return"#28A745";case"warning":return"#FFC107";case"error":return"#DC3545";default:return"#17A2B8"}};return e.jsxs(_n,{open:d,onOpenChange:f,children:[e.jsx(kn,{asChild:!0,children:e.jsxs(X,{variant:"ghost",size:"sm",className:"relative",children:[e.jsx(ng,{className:"h-5 w-5"}),r>0&&e.jsx(Z,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 flex items-center justify-center p-0 text-xs",children:r>99?"99+":r})]})}),e.jsx(Fn,{className:"w-96 p-0",align:"end",children:e.jsxs(Ce,{className:"border-0 shadow-lg",children:[e.jsx(Ne,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Ee,{className:"text-lg",children:"Notifications"}),e.jsx("div",{className:"flex gap-2",children:t.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(X,{variant:"ghost",size:"sm",onClick:a,className:"h-8 px-2",children:e.jsx(HC,{className:"h-4 w-4"})}),e.jsx(X,{variant:"ghost",size:"sm",onClick:c,className:"h-8 px-2 text-red-600 hover:text-red-700",children:e.jsx(Do,{className:"h-4 w-4"})})]})})]})}),e.jsx(Se,{className:"max-h-96 overflow-y-auto p-0",children:t.length===0?e.jsxs("div",{className:"p-6 text-center text-gray-500",children:[e.jsx(ng,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"Aucune notification"})]}):e.jsx("div",{className:"divide-y",children:t.map(m=>e.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors ${m.read?"":"bg-blue-50 border-l-4 border-blue-500"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-lg",children:g(m.type)})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-1",children:m.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:m.message}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx("span",{children:Ie(m.timestamp,"PPP  p",{locale:Qt})}),e.jsx("span",{children:""}),e.jsx(Z,{variant:"outline",className:"text-xs",style:{borderColor:p(m.type)},children:m.module}),m.actionRequired&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsx(Z,{variant:"destructive",className:"text-xs",children:"Action requise"})]})]})]}),e.jsxs("div",{className:"flex gap-1",children:[!m.read&&e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>s(m.id),className:"h-6 w-6 p-0",children:e.jsx(df,{className:"h-3 w-3"})}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>i(m.id),className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",children:e.jsx(Do,{className:"h-3 w-3"})})]})]})})]})},m.id))})})]})})]})};function lD({user:t,activeView:r,onNavigate:s,onLogout:a}){const c=(()=>{const f=t.role;return f==="receptionniste"?[{id:"home",label:"Accueil",icon:Cn},{id:"reception",label:"Rception",icon:rN},{id:"storage",label:"Stockage",icon:Pl},{id:"decodification",label:"Dcodification",icon:nv}]:f==="responsable_materiaux"?[{id:"home",label:"Accueil",icon:Cn},{id:"storage",label:"Stockage",icon:Pl}]:f==="operateur_route"?[{id:"home",label:"Accueil",icon:Cn},{id:"essais-route",label:"Essais - Route",icon:Eo},{id:"essais-rejetes",label:"Essais Rejets",icon:Eo}]:f==="operateur_mecanique"?[{id:"home",label:"Accueil",icon:Cn},{id:"essais-mecanique",label:"Essais - Mcanique",icon:Eo},{id:"essais-rejetes-mecanique",label:"Essais Rejets",icon:Eo}]:f==="responsable_traitement"?[{id:"home",label:"Accueil",icon:Cn},{id:"traitement",label:"Traitement",icon:Je},{id:"traitement-rejete",label:"Traitement rejet",icon:Je}]:f==="chef_projet"?[{id:"home",label:"Accueil",icon:Cn},{id:"chef-projet",label:"Rapports traitement",icon:Je}]:f==="chef_service"?[{id:"home",label:"Accueil",icon:Cn},{id:"rapports-chef-service",label:"Rapports",icon:Je},{id:"validation",label:"Validation",icon:_t}]:f==="directeur_technique"?[{id:"home",label:"Accueil",icon:Cn},{id:"validation",label:"Validation",icon:_t}]:f==="directeur_general"?[{id:"home",label:"Accueil",icon:Cn},{id:"validation",label:"Validation",icon:_t}]:f==="directeur_snertp"?[{id:"home",label:"Accueil",icon:Cn},{id:"rapports-valides",label:"Rapport  aviser",icon:Je}]:f==="service_marketing"?[{id:"home",label:"Accueil",icon:Cn},{id:"service-marketing",label:"Rapports  envoyer",icon:Je}]:[{id:"home",label:"Accueil",icon:Cn}]})(),d=t.role==="chef_service"||t.role==="directeur_technique";return e.jsxs(sk,{children:[e.jsx(ok,{style:{backgroundColor:"#003366",color:"#FFFFFF"},className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(rv,{className:"h-10 w-10"}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold",children:"Laboratoire SNERTP"}),e.jsx("p",{className:"text-xs opacity-90",children:"Gestion d'chantillons"})]})]}),e.jsx(iD,{})]})}),e.jsxs(ik,{children:[e.jsxs(Pg,{children:[e.jsx(Ag,{children:"Navigation"}),e.jsx(Tg,{children:e.jsx(Mg,{children:c.map(f=>e.jsx(Og,{children:e.jsxs(Ig,{onClick:()=>s(f.id),isActive:r===f.id,tooltip:f.label,children:[e.jsx(f.icon,{className:"h-4 w-4"}),e.jsx("span",{children:f.label})]})},f.id))})})]}),d&&e.jsxs(Pg,{children:[e.jsx(Ag,{children:"Administration"}),e.jsx(Tg,{children:e.jsx(Mg,{children:e.jsx(Og,{children:e.jsxs(Ig,{onClick:()=>s("admin"),isActive:r==="admin",tooltip:"Supervision",children:[e.jsx(WC,{className:"h-4 w-4"}),e.jsx("span",{children:"Supervision"})]})})})})]})]}),e.jsx(ak,{children:e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsx(P2,{}),e.jsxs("div",{className:"text-xs",style:{color:"#A9A9A9"},children:[e.jsx("p",{children:t.name}),e.jsx("p",{children:t.email})]}),e.jsxs(X,{variant:"outline",size:"sm",className:"w-full",onClick:a,children:[e.jsx(wN,{className:"h-4 w-4 mr-2"}),"Dconnexion"]})]})})]})}const cD="modulepreload",dD=function(t){return"/"+t},Vg={},uD=function(r,s,a){let i=Promise.resolve();if(s&&s.length>0){let d=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),g=f?.nonce||f?.getAttribute("nonce");i=d(s.map(p=>{if(p=dD(p),p in Vg)return;Vg[p]=!0;const m=p.endsWith(".css"),u=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${u}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":cD,m||(y.as="script"),y.crossOrigin="",y.href=p,g&&y.setAttribute("nonce",g),document.head.appendChild(y),m)return new Promise((b,N)=>{y.addEventListener("load",b),y.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${p}`)))})}))}function c(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return i.then(d=>{for(const f of d||[])f.status==="rejected"&&c(f.reason);return r().catch(c)})};function zy(t){const r=t+"CollectionProvider",[s,a]=Pr(r),[i,c]=s(r,{collectionRef:{current:null},itemMap:new Map}),d=C=>{const{scope:w,children:E}=C,S=ce.useRef(null),k=ce.useRef(new Map).current;return e.jsx(i,{scope:w,itemMap:k,collectionRef:S,children:E})};d.displayName=r;const f=t+"CollectionSlot",g=Bs(f),p=ce.forwardRef((C,w)=>{const{scope:E,children:S}=C,k=c(f,E),R=Qe(w,k.collectionRef);return e.jsx(g,{ref:R,children:S})});p.displayName=f;const m=t+"CollectionItemSlot",u="data-radix-collection-item",y=Bs(m),b=ce.forwardRef((C,w)=>{const{scope:E,children:S,...k}=C,R=ce.useRef(null),T=Qe(w,R),D=c(m,E);return ce.useEffect(()=>(D.itemMap.set(R,{ref:R,...k}),()=>void D.itemMap.delete(R))),e.jsx(y,{[u]:"",ref:T,children:S})});b.displayName=m;function N(C){const w=c(t+"CollectionConsumer",C);return ce.useCallback(()=>{const S=w.collectionRef.current;if(!S)return[];const k=Array.from(S.querySelectorAll(`[${u}]`));return Array.from(w.itemMap.values()).sort((D,P)=>k.indexOf(D.ref.current)-k.indexOf(P.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:d,Slot:p,ItemSlot:b},N,a]}var fD=v.createContext(void 0);function Wf(t){const r=v.useContext(fD);return t||r||"ltr"}var uu="rovingFocusGroup.onEntryFocus",hD={bubbles:!1,cancelable:!0},Ja="RovingFocusGroup",[Ku,Wy,pD]=zy(Ja),[mD,Vy]=Pr(Ja,[pD]),[gD,xD]=mD(Ja),Hy=v.forwardRef((t,r)=>e.jsx(Ku.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Ku.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(vD,{...t,ref:r})})}));Hy.displayName=Ja;var vD=v.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:s,orientation:a,loop:i=!1,dir:c,currentTabStopId:d,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:g,onEntryFocus:p,preventScrollOnEntryFocus:m=!1,...u}=t,y=v.useRef(null),b=Qe(r,y),N=Wf(c),[C,w]=ds({prop:d,defaultProp:f??null,onChange:g,caller:Ja}),[E,S]=v.useState(!1),k=us(p),R=Wy(s),T=v.useRef(!1),[D,P]=v.useState(0);return v.useEffect(()=>{const I=y.current;if(I)return I.addEventListener(uu,k),()=>I.removeEventListener(uu,k)},[k]),e.jsx(gD,{scope:s,orientation:a,dir:N,loop:i,currentTabStopId:C,onItemFocus:v.useCallback(I=>w(I),[w]),onItemShiftTab:v.useCallback(()=>S(!0),[]),onFocusableItemAdd:v.useCallback(()=>P(I=>I+1),[]),onFocusableItemRemove:v.useCallback(()=>P(I=>I-1),[]),children:e.jsx(Le.div,{tabIndex:E||D===0?-1:0,"data-orientation":a,...u,ref:b,style:{outline:"none",...t.style},onMouseDown:Ae(t.onMouseDown,()=>{T.current=!0}),onFocus:Ae(t.onFocus,I=>{const V=!T.current;if(I.target===I.currentTarget&&V&&!E){const Y=new CustomEvent(uu,hD);if(I.currentTarget.dispatchEvent(Y),!Y.defaultPrevented){const J=R().filter(H=>H.focusable),ue=J.find(H=>H.active),Q=J.find(H=>H.id===C),z=[ue,Q,...J].filter(Boolean).map(H=>H.ref.current);Yy(z,m)}}T.current=!1}),onBlur:Ae(t.onBlur,()=>S(!1))})})}),Uy="RovingFocusGroupItem",qy=v.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:s,focusable:a=!0,active:i=!1,tabStopId:c,children:d,...f}=t,g=ar(),p=c||g,m=xD(Uy,s),u=m.currentTabStopId===p,y=Wy(s),{onFocusableItemAdd:b,onFocusableItemRemove:N,currentTabStopId:C}=m;return v.useEffect(()=>{if(a)return b(),()=>N()},[a,b,N]),e.jsx(Ku.ItemSlot,{scope:s,id:p,focusable:a,active:i,children:e.jsx(Le.span,{tabIndex:u?0:-1,"data-orientation":m.orientation,...f,ref:r,onMouseDown:Ae(t.onMouseDown,w=>{a?m.onItemFocus(p):w.preventDefault()}),onFocus:Ae(t.onFocus,()=>m.onItemFocus(p)),onKeyDown:Ae(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){m.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const E=wD(w,m.orientation,m.dir);if(E!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let k=y().filter(R=>R.focusable).map(R=>R.ref.current);if(E==="last")k.reverse();else if(E==="prev"||E==="next"){E==="prev"&&k.reverse();const R=k.indexOf(w.currentTarget);k=m.loop?bD(k,R+1):k.slice(R+1)}setTimeout(()=>Yy(k))}}),children:typeof d=="function"?d({isCurrentTabStop:u,hasTabStop:C!=null}):d})})});qy.displayName=Uy;var yD={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function jD(t,r){return r!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function wD(t,r,s){const a=jD(t.key,s);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return yD[a]}function Yy(t,r=!1){const s=document.activeElement;for(const a of t)if(a===s||(a.focus({preventScroll:r}),document.activeElement!==s))return}function bD(t,r){return t.map((s,a)=>t[(r+a)%t.length])}var CD=Hy,ND=qy,nc="Tabs",[ED]=Pr(nc,[Vy]),Gy=Vy(),[SD,Vf]=ED(nc),Ky=v.forwardRef((t,r)=>{const{__scopeTabs:s,value:a,onValueChange:i,defaultValue:c,orientation:d="horizontal",dir:f,activationMode:g="automatic",...p}=t,m=Wf(f),[u,y]=ds({prop:a,onChange:i,defaultProp:c??"",caller:nc});return e.jsx(SD,{scope:s,baseId:ar(),value:u,onValueChange:y,orientation:d,dir:m,activationMode:g,children:e.jsx(Le.div,{dir:m,"data-orientation":d,...p,ref:r})})});Ky.displayName=nc;var Qy="TabsList",Jy=v.forwardRef((t,r)=>{const{__scopeTabs:s,loop:a=!0,...i}=t,c=Vf(Qy,s),d=Gy(s);return e.jsx(CD,{asChild:!0,...d,orientation:c.orientation,dir:c.dir,loop:a,children:e.jsx(Le.div,{role:"tablist","aria-orientation":c.orientation,...i,ref:r})})});Jy.displayName=Qy;var Xy="TabsTrigger",Zy=v.forwardRef((t,r)=>{const{__scopeTabs:s,value:a,disabled:i=!1,...c}=t,d=Vf(Xy,s),f=Gy(s),g=n0(d.baseId,a),p=r0(d.baseId,a),m=a===d.value;return e.jsx(ND,{asChild:!0,...f,focusable:!i,active:m,children:e.jsx(Le.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":p,"data-state":m?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:g,...c,ref:r,onMouseDown:Ae(t.onMouseDown,u=>{!i&&u.button===0&&u.ctrlKey===!1?d.onValueChange(a):u.preventDefault()}),onKeyDown:Ae(t.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&d.onValueChange(a)}),onFocus:Ae(t.onFocus,()=>{const u=d.activationMode!=="manual";!m&&!i&&u&&d.onValueChange(a)})})})});Zy.displayName=Xy;var e0="TabsContent",t0=v.forwardRef((t,r)=>{const{__scopeTabs:s,value:a,forceMount:i,children:c,...d}=t,f=Vf(e0,s),g=n0(f.baseId,a),p=r0(f.baseId,a),m=a===f.value,u=v.useRef(m);return v.useEffect(()=>{const y=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(y)},[]),e.jsx(fr,{present:i||m,children:({present:y})=>e.jsx(Le.div,{"data-state":m?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":g,hidden:!y,id:p,tabIndex:0,...d,ref:r,style:{...t.style,animationDuration:u.current?"0s":void 0},children:y&&c})})});t0.displayName=e0;function n0(t,r){return`${t}-trigger-${r}`}function r0(t,r){return`${t}-content-${r}`}var _D=Ky,kD=Jy,FD=Zy,DD=t0;function s0({className:t,...r}){return e.jsx(_D,{"data-slot":"tabs",className:Te("flex flex-col gap-2",t),...r})}function o0({className:t,...r}){return e.jsx(kD,{"data-slot":"tabs-list",className:Te("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...r})}function Aa({className:t,...r}){return e.jsx(FD,{"data-slot":"tabs-trigger",className:Te("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}function Ta({className:t,...r}){return e.jsx(DD,{"data-slot":"tabs-content",className:Te("flex-1 outline-none",t),...r})}function a0(t){const r=v.useRef({value:t,previous:t});return v.useMemo(()=>(r.current.value!==t&&(r.current.previous=r.current.value,r.current.value=t),r.current.previous),[t])}var rc="Checkbox",[RD]=Pr(rc),[PD,Hf]=RD(rc);function AD(t){const{__scopeCheckbox:r,checked:s,children:a,defaultChecked:i,disabled:c,form:d,name:f,onCheckedChange:g,required:p,value:m="on",internal_do_not_use_render:u}=t,[y,b]=ds({prop:s,defaultProp:i??!1,onChange:g,caller:rc}),[N,C]=v.useState(null),[w,E]=v.useState(null),S=v.useRef(!1),k=N?!!d||!!N.closest("form"):!0,R={checked:y,disabled:c,setChecked:b,control:N,setControl:C,name:f,form:d,value:m,hasConsumerStoppedPropagationRef:S,required:p,defaultChecked:cs(i)?!1:i,isFormControl:k,bubbleInput:w,setBubbleInput:E};return e.jsx(PD,{scope:r,...R,children:TD(u)?u(R):a})}var i0="CheckboxTrigger",l0=v.forwardRef(({__scopeCheckbox:t,onKeyDown:r,onClick:s,...a},i)=>{const{control:c,value:d,disabled:f,checked:g,required:p,setControl:m,setChecked:u,hasConsumerStoppedPropagationRef:y,isFormControl:b,bubbleInput:N}=Hf(i0,t),C=Qe(i,m),w=v.useRef(g);return v.useEffect(()=>{const E=c?.form;if(E){const S=()=>u(w.current);return E.addEventListener("reset",S),()=>E.removeEventListener("reset",S)}},[c,u]),e.jsx(Le.button,{type:"button",role:"checkbox","aria-checked":cs(g)?"mixed":g,"aria-required":p,"data-state":p0(g),"data-disabled":f?"":void 0,disabled:f,value:d,...a,ref:C,onKeyDown:Ae(r,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:Ae(s,E=>{u(S=>cs(S)?!0:!S),N&&b&&(y.current=E.isPropagationStopped(),y.current||E.stopPropagation())})})});l0.displayName=i0;var c0=v.forwardRef((t,r)=>{const{__scopeCheckbox:s,name:a,checked:i,defaultChecked:c,required:d,disabled:f,value:g,onCheckedChange:p,form:m,...u}=t;return e.jsx(AD,{__scopeCheckbox:s,checked:i,defaultChecked:c,disabled:f,required:d,onCheckedChange:p,name:a,form:m,value:g,internal_do_not_use_render:({isFormControl:y})=>e.jsxs(e.Fragment,{children:[e.jsx(l0,{...u,ref:r,__scopeCheckbox:s}),y&&e.jsx(h0,{__scopeCheckbox:s})]})})});c0.displayName=rc;var d0="CheckboxIndicator",u0=v.forwardRef((t,r)=>{const{__scopeCheckbox:s,forceMount:a,...i}=t,c=Hf(d0,s);return e.jsx(fr,{present:a||cs(c.checked)||c.checked===!0,children:e.jsx(Le.span,{"data-state":p0(c.checked),"data-disabled":c.disabled?"":void 0,...i,ref:r,style:{pointerEvents:"none",...t.style}})})});u0.displayName=d0;var f0="CheckboxBubbleInput",h0=v.forwardRef(({__scopeCheckbox:t,...r},s)=>{const{control:a,hasConsumerStoppedPropagationRef:i,checked:c,defaultChecked:d,required:f,disabled:g,name:p,value:m,form:u,bubbleInput:y,setBubbleInput:b}=Hf(f0,t),N=Qe(s,b),C=a0(c),w=Qv(a);v.useEffect(()=>{const S=y;if(!S)return;const k=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(k,"checked").set,D=!i.current;if(C!==c&&T){const P=new Event("click",{bubbles:D});S.indeterminate=cs(c),T.call(S,cs(c)?!1:c),S.dispatchEvent(P)}},[y,C,c,i]);const E=v.useRef(cs(c)?!1:c);return e.jsx(Le.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??E.current,required:f,disabled:g,name:p,value:m,form:u,...r,tabIndex:-1,ref:N,style:{...r.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});h0.displayName=f0;function TD(t){return typeof t=="function"}function cs(t){return t==="indeterminate"}function p0(t){return cs(t)?"indeterminate":t?"checked":"unchecked"}function MD({className:t,...r}){return e.jsx(c0,{"data-slot":"checkbox",className:Te("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:e.jsx(u0,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:e.jsx(df,{className:"size-3.5"})})})}function Hg(t,[r,s]){return Math.min(s,Math.max(r,t))}var OD=[" ","Enter","ArrowUp","ArrowDown"],ID=[" ","Enter"],Us="Select",[sc,oc,LD]=zy(Us),[Wo]=Pr(Us,[LD,zo]),ac=zo(),[$D,xs]=Wo(Us),[BD,zD]=Wo(Us),m0=t=>{const{__scopeSelect:r,children:s,open:a,defaultOpen:i,onOpenChange:c,value:d,defaultValue:f,onValueChange:g,dir:p,name:m,autoComplete:u,disabled:y,required:b,form:N}=t,C=ac(r),[w,E]=v.useState(null),[S,k]=v.useState(null),[R,T]=v.useState(!1),D=Wf(p),[P,I]=ds({prop:a,defaultProp:i??!1,onChange:c,caller:Us}),[V,Y]=ds({prop:d,defaultProp:f,onChange:g,caller:Us}),J=v.useRef(null),ue=w?N||!!w.closest("form"):!0,[Q,ne]=v.useState(new Set),z=Array.from(Q).map(H=>H.props.value).join(";");return e.jsx(Rf,{...C,children:e.jsxs($D,{required:b,scope:r,trigger:w,onTriggerChange:E,valueNode:S,onValueNodeChange:k,valueNodeHasChildren:R,onValueNodeHasChildrenChange:T,contentId:ar(),value:V,onValueChange:Y,open:P,onOpenChange:I,dir:D,triggerPointerDownPosRef:J,disabled:y,children:[e.jsx(sc.Provider,{scope:r,children:e.jsx(BD,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(H=>{ne(B=>new Set(B).add(H))},[]),onNativeOptionRemove:v.useCallback(H=>{ne(B=>{const F=new Set(B);return F.delete(H),F})},[]),children:s})}),ue?e.jsxs(I0,{"aria-hidden":!0,required:b,tabIndex:-1,name:m,autoComplete:u,value:V,onChange:H=>Y(H.target.value),disabled:y,form:N,children:[V===void 0?e.jsx("option",{value:""}):null,Array.from(Q)]},z):null]})})};m0.displayName=Us;var g0="SelectTrigger",x0=v.forwardRef((t,r)=>{const{__scopeSelect:s,disabled:a=!1,...i}=t,c=ac(s),d=xs(g0,s),f=d.disabled||a,g=Qe(r,d.onTriggerChange),p=oc(s),m=v.useRef("touch"),[u,y,b]=$0(C=>{const w=p().filter(k=>!k.disabled),E=w.find(k=>k.value===d.value),S=B0(w,C,E);S!==void 0&&d.onValueChange(S.value)}),N=C=>{f||(d.onOpenChange(!0),b()),C&&(d.triggerPointerDownPosRef.current={x:Math.round(C.pageX),y:Math.round(C.pageY)})};return e.jsx(Xl,{asChild:!0,...c,children:e.jsx(Le.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":L0(d.value)?"":void 0,...i,ref:g,onClick:Ae(i.onClick,C=>{C.currentTarget.focus(),m.current!=="mouse"&&N(C)}),onPointerDown:Ae(i.onPointerDown,C=>{m.current=C.pointerType;const w=C.target;w.hasPointerCapture(C.pointerId)&&w.releasePointerCapture(C.pointerId),C.button===0&&C.ctrlKey===!1&&C.pointerType==="mouse"&&(N(C),C.preventDefault())}),onKeyDown:Ae(i.onKeyDown,C=>{const w=u.current!=="";!(C.ctrlKey||C.altKey||C.metaKey)&&C.key.length===1&&y(C.key),!(w&&C.key===" ")&&OD.includes(C.key)&&(N(),C.preventDefault())})})})});x0.displayName=g0;var v0="SelectValue",y0=v.forwardRef((t,r)=>{const{__scopeSelect:s,className:a,style:i,children:c,placeholder:d="",...f}=t,g=xs(v0,s),{onValueNodeHasChildrenChange:p}=g,m=c!==void 0,u=Qe(r,g.onValueNodeChange);return At(()=>{p(m)},[p,m]),e.jsx(Le.span,{...f,ref:u,style:{pointerEvents:"none"},children:L0(g.value)?e.jsx(e.Fragment,{children:d}):c})});y0.displayName=v0;var WD="SelectIcon",j0=v.forwardRef((t,r)=>{const{__scopeSelect:s,children:a,...i}=t;return e.jsx(Le.span,{"aria-hidden":!0,...i,ref:r,children:a||""})});j0.displayName=WD;var VD="SelectPortal",w0=t=>e.jsx(qa,{asChild:!0,...t});w0.displayName=VD;var qs="SelectContent",b0=v.forwardRef((t,r)=>{const s=xs(qs,t.__scopeSelect),[a,i]=v.useState();if(At(()=>{i(new DocumentFragment)},[]),!s.open){const c=a;return c?Ha.createPortal(e.jsx(C0,{scope:t.__scopeSelect,children:e.jsx(sc.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),c):null}return e.jsx(N0,{...t,ref:r})});b0.displayName=qs;var $n=10,[C0,vs]=Wo(qs),HD="SelectContentImpl",UD=Bs("SelectContent.RemoveScroll"),N0=v.forwardRef((t,r)=>{const{__scopeSelect:s,position:a="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:c,onPointerDownOutside:d,side:f,sideOffset:g,align:p,alignOffset:m,arrowPadding:u,collisionBoundary:y,collisionPadding:b,sticky:N,hideWhenDetached:C,avoidCollisions:w,...E}=t,S=xs(qs,s),[k,R]=v.useState(null),[T,D]=v.useState(null),P=Qe(r,ie=>R(ie)),[I,V]=v.useState(null),[Y,J]=v.useState(null),ue=oc(s),[Q,ne]=v.useState(!1),z=v.useRef(!1);v.useEffect(()=>{if(k)return mf(k)},[k]),pf();const H=v.useCallback(ie=>{const[fe,..._e]=ue().map(Ve=>Ve.ref.current),[De]=_e.slice(-1),ze=document.activeElement;for(const Ve of ie)if(Ve===ze||(Ve?.scrollIntoView({block:"nearest"}),Ve===fe&&T&&(T.scrollTop=0),Ve===De&&T&&(T.scrollTop=T.scrollHeight),Ve?.focus(),document.activeElement!==ze))return},[ue,T]),B=v.useCallback(()=>H([I,k]),[H,I,k]);v.useEffect(()=>{Q&&B()},[Q,B]);const{onOpenChange:F,triggerPointerDownPosRef:ee}=S;v.useEffect(()=>{if(k){let ie={x:0,y:0};const fe=De=>{ie={x:Math.abs(Math.round(De.pageX)-(ee.current?.x??0)),y:Math.abs(Math.round(De.pageY)-(ee.current?.y??0))}},_e=De=>{ie.x<=10&&ie.y<=10?De.preventDefault():k.contains(De.target)||F(!1),document.removeEventListener("pointermove",fe),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",_e,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",_e,{capture:!0})}}},[k,F,ee]),v.useEffect(()=>{const ie=()=>F(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[F]);const[U,M]=$0(ie=>{const fe=ue().filter(ze=>!ze.disabled),_e=fe.find(ze=>ze.ref.current===document.activeElement),De=B0(fe,ie,_e);De&&setTimeout(()=>De.ref.current.focus())}),K=v.useCallback((ie,fe,_e)=>{const De=!z.current&&!_e;(S.value!==void 0&&S.value===fe||De)&&(V(ie),De&&(z.current=!0))},[S.value]),re=v.useCallback(()=>k?.focus(),[k]),se=v.useCallback((ie,fe,_e)=>{const De=!z.current&&!_e;(S.value!==void 0&&S.value===fe||De)&&J(ie)},[S.value]),he=a==="popper"?Qu:E0,be=he===Qu?{side:f,sideOffset:g,align:p,alignOffset:m,arrowPadding:u,collisionBoundary:y,collisionPadding:b,sticky:N,hideWhenDetached:C,avoidCollisions:w}:{};return e.jsx(C0,{scope:s,content:k,viewport:T,onViewportChange:D,itemRefCallback:K,selectedItem:I,onItemLeave:re,itemTextRefCallback:se,focusSelectedItem:B,selectedItemText:Y,position:a,isPositioned:Q,searchRef:U,children:e.jsx(ql,{as:UD,allowPinchZoom:!0,children:e.jsx(Hl,{asChild:!0,trapped:S.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:Ae(i,ie=>{S.trigger?.focus({preventScroll:!0}),ie.preventDefault()}),children:e.jsx(Ua,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:e.jsx(he,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:ie=>ie.preventDefault(),...E,...be,onPlaced:()=>ne(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Ae(E.onKeyDown,ie=>{const fe=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!fe&&ie.key.length===1&&M(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let De=ue().filter(ze=>!ze.disabled).map(ze=>ze.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(De=De.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const ze=ie.target,Ve=De.indexOf(ze);De=De.slice(Ve+1)}setTimeout(()=>H(De)),ie.preventDefault()}})})})})})})});N0.displayName=HD;var qD="SelectItemAlignedPosition",E0=v.forwardRef((t,r)=>{const{__scopeSelect:s,onPlaced:a,...i}=t,c=xs(qs,s),d=vs(qs,s),[f,g]=v.useState(null),[p,m]=v.useState(null),u=Qe(r,P=>m(P)),y=oc(s),b=v.useRef(!1),N=v.useRef(!0),{viewport:C,selectedItem:w,selectedItemText:E,focusSelectedItem:S}=d,k=v.useCallback(()=>{if(c.trigger&&c.valueNode&&f&&p&&C&&w&&E){const P=c.trigger.getBoundingClientRect(),I=p.getBoundingClientRect(),V=c.valueNode.getBoundingClientRect(),Y=E.getBoundingClientRect();if(c.dir!=="rtl"){const ze=Y.left-I.left,Ve=V.left-ze,pt=P.left-Ve,Tt=P.width+pt,Ar=Math.max(Tt,I.width),pr=window.innerWidth-$n,Zt=Hg(Ve,[$n,Math.max($n,pr-Ar)]);f.style.minWidth=Tt+"px",f.style.left=Zt+"px"}else{const ze=I.right-Y.right,Ve=window.innerWidth-V.right-ze,pt=window.innerWidth-P.right-Ve,Tt=P.width+pt,Ar=Math.max(Tt,I.width),pr=window.innerWidth-$n,Zt=Hg(Ve,[$n,Math.max($n,pr-Ar)]);f.style.minWidth=Tt+"px",f.style.right=Zt+"px"}const J=y(),ue=window.innerHeight-$n*2,Q=C.scrollHeight,ne=window.getComputedStyle(p),z=parseInt(ne.borderTopWidth,10),H=parseInt(ne.paddingTop,10),B=parseInt(ne.borderBottomWidth,10),F=parseInt(ne.paddingBottom,10),ee=z+H+Q+F+B,U=Math.min(w.offsetHeight*5,ee),M=window.getComputedStyle(C),K=parseInt(M.paddingTop,10),re=parseInt(M.paddingBottom,10),se=P.top+P.height/2-$n,he=ue-se,be=w.offsetHeight/2,ie=w.offsetTop+be,fe=z+H+ie,_e=ee-fe;if(fe<=se){const ze=J.length>0&&w===J[J.length-1].ref.current;f.style.bottom="0px";const Ve=p.clientHeight-C.offsetTop-C.offsetHeight,pt=Math.max(he,be+(ze?re:0)+Ve+B),Tt=fe+pt;f.style.height=Tt+"px"}else{const ze=J.length>0&&w===J[0].ref.current;f.style.top="0px";const pt=Math.max(se,z+C.offsetTop+(ze?K:0)+be)+_e;f.style.height=pt+"px",C.scrollTop=fe-se+C.offsetTop}f.style.margin=`${$n}px 0`,f.style.minHeight=U+"px",f.style.maxHeight=ue+"px",a?.(),requestAnimationFrame(()=>b.current=!0)}},[y,c.trigger,c.valueNode,f,p,C,w,E,c.dir,a]);At(()=>k(),[k]);const[R,T]=v.useState();At(()=>{p&&T(window.getComputedStyle(p).zIndex)},[p]);const D=v.useCallback(P=>{P&&N.current===!0&&(k(),S?.(),N.current=!1)},[k,S]);return e.jsx(GD,{scope:s,contentWrapper:f,shouldExpandOnScrollRef:b,onScrollButtonChange:D,children:e.jsx("div",{ref:g,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:e.jsx(Le.div,{...i,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});E0.displayName=qD;var YD="SelectPopperPosition",Qu=v.forwardRef((t,r)=>{const{__scopeSelect:s,align:a="start",collisionPadding:i=$n,...c}=t,d=ac(s);return e.jsx(Pf,{...d,...c,ref:r,align:a,collisionPadding:i,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Qu.displayName=YD;var[GD,Uf]=Wo(qs,{}),Ju="SelectViewport",S0=v.forwardRef((t,r)=>{const{__scopeSelect:s,nonce:a,...i}=t,c=vs(Ju,s),d=Uf(Ju,s),f=Qe(r,c.onViewportChange),g=v.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(sc.Slot,{scope:s,children:e.jsx(Le.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ae(i.onScroll,p=>{const m=p.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:y}=d;if(y?.current&&u){const b=Math.abs(g.current-m.scrollTop);if(b>0){const N=window.innerHeight-$n*2,C=parseFloat(u.style.minHeight),w=parseFloat(u.style.height),E=Math.max(C,w);if(E<N){const S=E+b,k=Math.min(N,S),R=S-k;u.style.height=k+"px",u.style.bottom==="0px"&&(m.scrollTop=R>0?R:0,u.style.justifyContent="flex-end")}}}g.current=m.scrollTop})})})]})});S0.displayName=Ju;var _0="SelectGroup",[KD,QD]=Wo(_0),JD=v.forwardRef((t,r)=>{const{__scopeSelect:s,...a}=t,i=ar();return e.jsx(KD,{scope:s,id:i,children:e.jsx(Le.div,{role:"group","aria-labelledby":i,...a,ref:r})})});JD.displayName=_0;var k0="SelectLabel",XD=v.forwardRef((t,r)=>{const{__scopeSelect:s,...a}=t,i=QD(k0,s);return e.jsx(Le.div,{id:i.id,...a,ref:r})});XD.displayName=k0;var $l="SelectItem",[ZD,F0]=Wo($l),D0=v.forwardRef((t,r)=>{const{__scopeSelect:s,value:a,disabled:i=!1,textValue:c,...d}=t,f=xs($l,s),g=vs($l,s),p=f.value===a,[m,u]=v.useState(c??""),[y,b]=v.useState(!1),N=Qe(r,S=>g.itemRefCallback?.(S,a,i)),C=ar(),w=v.useRef("touch"),E=()=>{i||(f.onValueChange(a),f.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(ZD,{scope:s,value:a,disabled:i,textId:C,isSelected:p,onItemTextChange:v.useCallback(S=>{u(k=>k||(S?.textContent??"").trim())},[]),children:e.jsx(sc.ItemSlot,{scope:s,value:a,disabled:i,textValue:m,children:e.jsx(Le.div,{role:"option","aria-labelledby":C,"data-highlighted":y?"":void 0,"aria-selected":p&&y,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...d,ref:N,onFocus:Ae(d.onFocus,()=>b(!0)),onBlur:Ae(d.onBlur,()=>b(!1)),onClick:Ae(d.onClick,()=>{w.current!=="mouse"&&E()}),onPointerUp:Ae(d.onPointerUp,()=>{w.current==="mouse"&&E()}),onPointerDown:Ae(d.onPointerDown,S=>{w.current=S.pointerType}),onPointerMove:Ae(d.onPointerMove,S=>{w.current=S.pointerType,i?g.onItemLeave?.():w.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ae(d.onPointerLeave,S=>{S.currentTarget===document.activeElement&&g.onItemLeave?.()}),onKeyDown:Ae(d.onKeyDown,S=>{g.searchRef?.current!==""&&S.key===" "||(ID.includes(S.key)&&E(),S.key===" "&&S.preventDefault())})})})})});D0.displayName=$l;var Pa="SelectItemText",R0=v.forwardRef((t,r)=>{const{__scopeSelect:s,className:a,style:i,...c}=t,d=xs(Pa,s),f=vs(Pa,s),g=F0(Pa,s),p=zD(Pa,s),[m,u]=v.useState(null),y=Qe(r,E=>u(E),g.onItemTextChange,E=>f.itemTextRefCallback?.(E,g.value,g.disabled)),b=m?.textContent,N=v.useMemo(()=>e.jsx("option",{value:g.value,disabled:g.disabled,children:b},g.value),[g.disabled,g.value,b]),{onNativeOptionAdd:C,onNativeOptionRemove:w}=p;return At(()=>(C(N),()=>w(N)),[C,w,N]),e.jsxs(e.Fragment,{children:[e.jsx(Le.span,{id:g.textId,...c,ref:y}),g.isSelected&&d.valueNode&&!d.valueNodeHasChildren?Ha.createPortal(c.children,d.valueNode):null]})});R0.displayName=Pa;var P0="SelectItemIndicator",A0=v.forwardRef((t,r)=>{const{__scopeSelect:s,...a}=t;return F0(P0,s).isSelected?e.jsx(Le.span,{"aria-hidden":!0,...a,ref:r}):null});A0.displayName=P0;var Xu="SelectScrollUpButton",T0=v.forwardRef((t,r)=>{const s=vs(Xu,t.__scopeSelect),a=Uf(Xu,t.__scopeSelect),[i,c]=v.useState(!1),d=Qe(r,a.onScrollButtonChange);return At(()=>{if(s.viewport&&s.isPositioned){let f=function(){const p=g.scrollTop>0;c(p)};const g=s.viewport;return f(),g.addEventListener("scroll",f),()=>g.removeEventListener("scroll",f)}},[s.viewport,s.isPositioned]),i?e.jsx(O0,{...t,ref:d,onAutoScroll:()=>{const{viewport:f,selectedItem:g}=s;f&&g&&(f.scrollTop=f.scrollTop-g.offsetHeight)}}):null});T0.displayName=Xu;var Zu="SelectScrollDownButton",M0=v.forwardRef((t,r)=>{const s=vs(Zu,t.__scopeSelect),a=Uf(Zu,t.__scopeSelect),[i,c]=v.useState(!1),d=Qe(r,a.onScrollButtonChange);return At(()=>{if(s.viewport&&s.isPositioned){let f=function(){const p=g.scrollHeight-g.clientHeight,m=Math.ceil(g.scrollTop)<p;c(m)};const g=s.viewport;return f(),g.addEventListener("scroll",f),()=>g.removeEventListener("scroll",f)}},[s.viewport,s.isPositioned]),i?e.jsx(O0,{...t,ref:d,onAutoScroll:()=>{const{viewport:f,selectedItem:g}=s;f&&g&&(f.scrollTop=f.scrollTop+g.offsetHeight)}}):null});M0.displayName=Zu;var O0=v.forwardRef((t,r)=>{const{__scopeSelect:s,onAutoScroll:a,...i}=t,c=vs("SelectScrollButton",s),d=v.useRef(null),f=oc(s),g=v.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return v.useEffect(()=>()=>g(),[g]),At(()=>{f().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),e.jsx(Le.div,{"aria-hidden":!0,...i,ref:r,style:{flexShrink:0,...i.style},onPointerDown:Ae(i.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(a,50))}),onPointerMove:Ae(i.onPointerMove,()=>{c.onItemLeave?.(),d.current===null&&(d.current=window.setInterval(a,50))}),onPointerLeave:Ae(i.onPointerLeave,()=>{g()})})}),eR="SelectSeparator",tR=v.forwardRef((t,r)=>{const{__scopeSelect:s,...a}=t;return e.jsx(Le.div,{"aria-hidden":!0,...a,ref:r})});tR.displayName=eR;var ef="SelectArrow",nR=v.forwardRef((t,r)=>{const{__scopeSelect:s,...a}=t,i=ac(s),c=xs(ef,s),d=vs(ef,s);return c.open&&d.position==="popper"?e.jsx(Af,{...i,...a,ref:r}):null});nR.displayName=ef;var rR="SelectBubbleInput",I0=v.forwardRef(({__scopeSelect:t,value:r,...s},a)=>{const i=v.useRef(null),c=Qe(a,i),d=a0(r);return v.useEffect(()=>{const f=i.current;if(!f)return;const g=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(g,"value").set;if(d!==r&&m){const u=new Event("change",{bubbles:!0});m.call(f,r),f.dispatchEvent(u)}},[d,r]),e.jsx(Le.select,{...s,style:{...ay,...s.style},ref:c,defaultValue:r})});I0.displayName=rR;function L0(t){return t===""||t===void 0}function $0(t){const r=us(t),s=v.useRef(""),a=v.useRef(0),i=v.useCallback(d=>{const f=s.current+d;r(f),(function g(p){s.current=p,window.clearTimeout(a.current),p!==""&&(a.current=window.setTimeout(()=>g(""),1e3))})(f)},[r]),c=v.useCallback(()=>{s.current="",window.clearTimeout(a.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(a.current),[]),[s,i,c]}function B0(t,r,s){const i=r.length>1&&Array.from(r).every(p=>p===r[0])?r[0]:r,c=s?t.indexOf(s):-1;let d=sR(t,Math.max(c,0));i.length===1&&(d=d.filter(p=>p!==s));const g=d.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return g!==s?g:void 0}function sR(t,r){return t.map((s,a)=>t[(r+a)%t.length])}var oR=m0,aR=x0,iR=y0,lR=j0,cR=w0,dR=b0,uR=S0,fR=D0,hR=R0,pR=A0,mR=T0,gR=M0;function ln({...t}){return e.jsx(oR,{"data-slot":"select",...t})}function cn({...t}){return e.jsx(iR,{"data-slot":"select-value",...t})}function dn({className:t,size:r="default",children:s,...a}){return e.jsxs(aR,{"data-slot":"select-trigger","data-size":r,className:Te("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...a,children:[s,e.jsx(lR,{asChild:!0,children:e.jsx(tv,{className:"size-4 opacity-50"})})]})}function un({className:t,children:r,position:s="popper",...a}){return e.jsx(cR,{children:e.jsxs(dR,{"data-slot":"select-content",className:Te("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...a,children:[e.jsx(xR,{}),e.jsx(uR,{className:Te("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:r}),e.jsx(vR,{})]})})}function Be({className:t,children:r,...s}){return e.jsxs(fR,{"data-slot":"select-item",className:Te("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...s,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(pR,{children:e.jsx(df,{className:"size-4"})})}),e.jsx(hR,{children:r})]})}function xR({className:t,...r}){return e.jsx(mR,{"data-slot":"select-scroll-up-button",className:Te("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(XC,{className:"size-4"})})}function vR({className:t,...r}){return e.jsx(gR,{"data-slot":"select-scroll-down-button",className:Te("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(tv,{className:"size-4"})})}var No={},fu={exports:{}},hu,Ug;function yR(){if(Ug)return hu;Ug=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return hu=t,hu}var pu,qg;function jR(){if(qg)return pu;qg=1;var t=yR();function r(){}function s(){}return s.resetWarningCache=r,pu=function(){function a(d,f,g,p,m,u){if(u!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}a.isRequired=a;function i(){return a}var c={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:i,element:a,elementType:a,instanceOf:i,node:a,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:s,resetWarningCache:r};return c.PropTypes=c,c},pu}var Yg;function z0(){return Yg||(Yg=1,fu.exports=jR()()),fu.exports}var mu,Gg;function W0(){return Gg||(Gg=1,mu={L:1,M:0,Q:3,H:2}),mu}var gu,Kg;function V0(){return Kg||(Kg=1,gu={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),gu}var xu,Qg;function wR(){if(Qg)return xu;Qg=1;var t=V0();function r(s){this.mode=t.MODE_8BIT_BYTE,this.data=s}return r.prototype={getLength:function(s){return this.data.length},write:function(s){for(var a=0;a<this.data.length;a++)s.put(this.data.charCodeAt(a),8)}},xu=r,xu}var vu,Jg;function bR(){if(Jg)return vu;Jg=1;var t=W0();function r(s,a){this.totalCount=s,this.dataCount=a}return r.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],r.getRSBlocks=function(s,a){var i=r.getRsBlockTable(s,a);if(i==null)throw new Error("bad rs block @ typeNumber:"+s+"/errorCorrectLevel:"+a);for(var c=i.length/3,d=new Array,f=0;f<c;f++)for(var g=i[f*3+0],p=i[f*3+1],m=i[f*3+2],u=0;u<g;u++)d.push(new r(p,m));return d},r.getRsBlockTable=function(s,a){switch(a){case t.L:return r.RS_BLOCK_TABLE[(s-1)*4+0];case t.M:return r.RS_BLOCK_TABLE[(s-1)*4+1];case t.Q:return r.RS_BLOCK_TABLE[(s-1)*4+2];case t.H:return r.RS_BLOCK_TABLE[(s-1)*4+3];default:return}},vu=r,vu}var yu,Xg;function CR(){if(Xg)return yu;Xg=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(r){var s=Math.floor(r/8);return(this.buffer[s]>>>7-r%8&1)==1},put:function(r,s){for(var a=0;a<s;a++)this.putBit((r>>>s-a-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(r){var s=Math.floor(this.length/8);this.buffer.length<=s&&this.buffer.push(0),r&&(this.buffer[s]|=128>>>this.length%8),this.length++}},yu=t,yu}var ju,Zg;function H0(){if(Zg)return ju;Zg=1;for(var t={glog:function(s){if(s<1)throw new Error("glog("+s+")");return t.LOG_TABLE[s]},gexp:function(s){for(;s<0;)s+=255;for(;s>=256;)s-=255;return t.EXP_TABLE[s]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},r=0;r<8;r++)t.EXP_TABLE[r]=1<<r;for(var r=8;r<256;r++)t.EXP_TABLE[r]=t.EXP_TABLE[r-4]^t.EXP_TABLE[r-5]^t.EXP_TABLE[r-6]^t.EXP_TABLE[r-8];for(var r=0;r<255;r++)t.LOG_TABLE[t.EXP_TABLE[r]]=r;return ju=t,ju}var wu,ex;function U0(){if(ex)return wu;ex=1;var t=H0();function r(s,a){if(s.length==null)throw new Error(s.length+"/"+a);for(var i=0;i<s.length&&s[i]==0;)i++;this.num=new Array(s.length-i+a);for(var c=0;c<s.length-i;c++)this.num[c]=s[c+i]}return r.prototype={get:function(s){return this.num[s]},getLength:function(){return this.num.length},multiply:function(s){for(var a=new Array(this.getLength()+s.getLength()-1),i=0;i<this.getLength();i++)for(var c=0;c<s.getLength();c++)a[i+c]^=t.gexp(t.glog(this.get(i))+t.glog(s.get(c)));return new r(a,0)},mod:function(s){if(this.getLength()-s.getLength()<0)return this;for(var a=t.glog(this.get(0))-t.glog(s.get(0)),i=new Array(this.getLength()),c=0;c<this.getLength();c++)i[c]=this.get(c);for(var c=0;c<s.getLength();c++)i[c]^=t.gexp(t.glog(s.get(c))+a);return new r(i,0).mod(s)}},wu=r,wu}var bu,tx;function NR(){if(tx)return bu;tx=1;var t=V0(),r=U0(),s=H0(),a={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},i={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(c){for(var d=c<<10;i.getBCHDigit(d)-i.getBCHDigit(i.G15)>=0;)d^=i.G15<<i.getBCHDigit(d)-i.getBCHDigit(i.G15);return(c<<10|d)^i.G15_MASK},getBCHTypeNumber:function(c){for(var d=c<<12;i.getBCHDigit(d)-i.getBCHDigit(i.G18)>=0;)d^=i.G18<<i.getBCHDigit(d)-i.getBCHDigit(i.G18);return c<<12|d},getBCHDigit:function(c){for(var d=0;c!=0;)d++,c>>>=1;return d},getPatternPosition:function(c){return i.PATTERN_POSITION_TABLE[c-1]},getMask:function(c,d,f){switch(c){case a.PATTERN000:return(d+f)%2==0;case a.PATTERN001:return d%2==0;case a.PATTERN010:return f%3==0;case a.PATTERN011:return(d+f)%3==0;case a.PATTERN100:return(Math.floor(d/2)+Math.floor(f/3))%2==0;case a.PATTERN101:return d*f%2+d*f%3==0;case a.PATTERN110:return(d*f%2+d*f%3)%2==0;case a.PATTERN111:return(d*f%3+(d+f)%2)%2==0;default:throw new Error("bad maskPattern:"+c)}},getErrorCorrectPolynomial:function(c){for(var d=new r([1],0),f=0;f<c;f++)d=d.multiply(new r([1,s.gexp(f)],0));return d},getLengthInBits:function(c,d){if(1<=d&&d<10)switch(c){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+c)}else if(d<27)switch(c){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+c)}else if(d<41)switch(c){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+c)}else throw new Error("type:"+d)},getLostPoint:function(c){for(var d=c.getModuleCount(),f=0,g=0;g<d;g++)for(var p=0;p<d;p++){for(var m=0,u=c.isDark(g,p),y=-1;y<=1;y++)if(!(g+y<0||d<=g+y))for(var b=-1;b<=1;b++)p+b<0||d<=p+b||y==0&&b==0||u==c.isDark(g+y,p+b)&&m++;m>5&&(f+=3+m-5)}for(var g=0;g<d-1;g++)for(var p=0;p<d-1;p++){var N=0;c.isDark(g,p)&&N++,c.isDark(g+1,p)&&N++,c.isDark(g,p+1)&&N++,c.isDark(g+1,p+1)&&N++,(N==0||N==4)&&(f+=3)}for(var g=0;g<d;g++)for(var p=0;p<d-6;p++)c.isDark(g,p)&&!c.isDark(g,p+1)&&c.isDark(g,p+2)&&c.isDark(g,p+3)&&c.isDark(g,p+4)&&!c.isDark(g,p+5)&&c.isDark(g,p+6)&&(f+=40);for(var p=0;p<d;p++)for(var g=0;g<d-6;g++)c.isDark(g,p)&&!c.isDark(g+1,p)&&c.isDark(g+2,p)&&c.isDark(g+3,p)&&c.isDark(g+4,p)&&!c.isDark(g+5,p)&&c.isDark(g+6,p)&&(f+=40);for(var C=0,p=0;p<d;p++)for(var g=0;g<d;g++)c.isDark(g,p)&&C++;var w=Math.abs(100*C/d/d-50)/5;return f+=w*10,f}};return bu=i,bu}var Cu,nx;function ER(){if(nx)return Cu;nx=1;var t=wR(),r=bR(),s=CR(),a=NR(),i=U0();function c(f,g){this.typeNumber=f,this.errorCorrectLevel=g,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var d=c.prototype;return d.addData=function(f){var g=new t(f);this.dataList.push(g),this.dataCache=null},d.isDark=function(f,g){if(f<0||this.moduleCount<=f||g<0||this.moduleCount<=g)throw new Error(f+","+g);return this.modules[f][g]},d.getModuleCount=function(){return this.moduleCount},d.make=function(){if(this.typeNumber<1){var f=1;for(f=1;f<40;f++){for(var g=r.getRSBlocks(f,this.errorCorrectLevel),p=new s,m=0,u=0;u<g.length;u++)m+=g[u].dataCount;for(var u=0;u<this.dataList.length;u++){var y=this.dataList[u];p.put(y.mode,4),p.put(y.getLength(),a.getLengthInBits(y.mode,f)),y.write(p)}if(p.getLengthInBits()<=m*8)break}this.typeNumber=f}this.makeImpl(!1,this.getBestMaskPattern())},d.makeImpl=function(f,g){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var p=0;p<this.moduleCount;p++){this.modules[p]=new Array(this.moduleCount);for(var m=0;m<this.moduleCount;m++)this.modules[p][m]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(f,g),this.typeNumber>=7&&this.setupTypeNumber(f),this.dataCache==null&&(this.dataCache=c.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,g)},d.setupPositionProbePattern=function(f,g){for(var p=-1;p<=7;p++)if(!(f+p<=-1||this.moduleCount<=f+p))for(var m=-1;m<=7;m++)g+m<=-1||this.moduleCount<=g+m||(0<=p&&p<=6&&(m==0||m==6)||0<=m&&m<=6&&(p==0||p==6)||2<=p&&p<=4&&2<=m&&m<=4?this.modules[f+p][g+m]=!0:this.modules[f+p][g+m]=!1)},d.getBestMaskPattern=function(){for(var f=0,g=0,p=0;p<8;p++){this.makeImpl(!0,p);var m=a.getLostPoint(this);(p==0||f>m)&&(f=m,g=p)}return g},d.createMovieClip=function(f,g,p){var m=f.createEmptyMovieClip(g,p),u=1;this.make();for(var y=0;y<this.modules.length;y++)for(var b=y*u,N=0;N<this.modules[y].length;N++){var C=N*u,w=this.modules[y][N];w&&(m.beginFill(0,100),m.moveTo(C,b),m.lineTo(C+u,b),m.lineTo(C+u,b+u),m.lineTo(C,b+u),m.endFill())}return m},d.setupTimingPattern=function(){for(var f=8;f<this.moduleCount-8;f++)this.modules[f][6]==null&&(this.modules[f][6]=f%2==0);for(var g=8;g<this.moduleCount-8;g++)this.modules[6][g]==null&&(this.modules[6][g]=g%2==0)},d.setupPositionAdjustPattern=function(){for(var f=a.getPatternPosition(this.typeNumber),g=0;g<f.length;g++)for(var p=0;p<f.length;p++){var m=f[g],u=f[p];if(this.modules[m][u]==null)for(var y=-2;y<=2;y++)for(var b=-2;b<=2;b++)y==-2||y==2||b==-2||b==2||y==0&&b==0?this.modules[m+y][u+b]=!0:this.modules[m+y][u+b]=!1}},d.setupTypeNumber=function(f){for(var g=a.getBCHTypeNumber(this.typeNumber),p=0;p<18;p++){var m=!f&&(g>>p&1)==1;this.modules[Math.floor(p/3)][p%3+this.moduleCount-8-3]=m}for(var p=0;p<18;p++){var m=!f&&(g>>p&1)==1;this.modules[p%3+this.moduleCount-8-3][Math.floor(p/3)]=m}},d.setupTypeInfo=function(f,g){for(var p=this.errorCorrectLevel<<3|g,m=a.getBCHTypeInfo(p),u=0;u<15;u++){var y=!f&&(m>>u&1)==1;u<6?this.modules[u][8]=y:u<8?this.modules[u+1][8]=y:this.modules[this.moduleCount-15+u][8]=y}for(var u=0;u<15;u++){var y=!f&&(m>>u&1)==1;u<8?this.modules[8][this.moduleCount-u-1]=y:u<9?this.modules[8][15-u-1+1]=y:this.modules[8][15-u-1]=y}this.modules[this.moduleCount-8][8]=!f},d.mapData=function(f,g){for(var p=-1,m=this.moduleCount-1,u=7,y=0,b=this.moduleCount-1;b>0;b-=2)for(b==6&&b--;;){for(var N=0;N<2;N++)if(this.modules[m][b-N]==null){var C=!1;y<f.length&&(C=(f[y]>>>u&1)==1);var w=a.getMask(g,m,b-N);w&&(C=!C),this.modules[m][b-N]=C,u--,u==-1&&(y++,u=7)}if(m+=p,m<0||this.moduleCount<=m){m-=p,p=-p;break}}},c.PAD0=236,c.PAD1=17,c.createData=function(f,g,p){for(var m=r.getRSBlocks(f,g),u=new s,y=0;y<p.length;y++){var b=p[y];u.put(b.mode,4),u.put(b.getLength(),a.getLengthInBits(b.mode,f)),b.write(u)}for(var N=0,y=0;y<m.length;y++)N+=m[y].dataCount;if(u.getLengthInBits()>N*8)throw new Error("code length overflow. ("+u.getLengthInBits()+">"+N*8+")");for(u.getLengthInBits()+4<=N*8&&u.put(0,4);u.getLengthInBits()%8!=0;)u.putBit(!1);for(;!(u.getLengthInBits()>=N*8||(u.put(c.PAD0,8),u.getLengthInBits()>=N*8));)u.put(c.PAD1,8);return c.createBytes(u,m)},c.createBytes=function(f,g){for(var p=0,m=0,u=0,y=new Array(g.length),b=new Array(g.length),N=0;N<g.length;N++){var C=g[N].dataCount,w=g[N].totalCount-C;m=Math.max(m,C),u=Math.max(u,w),y[N]=new Array(C);for(var E=0;E<y[N].length;E++)y[N][E]=255&f.buffer[E+p];p+=C;var S=a.getErrorCorrectPolynomial(w),k=new i(y[N],S.getLength()-1),R=k.mod(S);b[N]=new Array(S.getLength()-1);for(var E=0;E<b[N].length;E++){var T=E+R.getLength()-b[N].length;b[N][E]=T>=0?R.get(T):0}}for(var D=0,E=0;E<g.length;E++)D+=g[E].totalCount;for(var P=new Array(D),I=0,E=0;E<m;E++)for(var N=0;N<g.length;N++)E<y[N].length&&(P[I++]=y[N][E]);for(var E=0;E<u;E++)for(var N=0;N<g.length;N++)E<b[N].length&&(P[I++]=b[N][E]);return P},Cu=c,Cu}var bl={},rx;function SR(){if(rx)return bl;rx=1,Object.defineProperty(bl,"__esModule",{value:!0});var t=Object.assign||function(p){for(var m=1;m<arguments.length;m++){var u=arguments[m];for(var y in u)Object.prototype.hasOwnProperty.call(u,y)&&(p[y]=u[y])}return p},r=z0(),s=c(r),a=Ba(),i=c(a);function c(p){return p&&p.__esModule?p:{default:p}}function d(p,m){var u={};for(var y in p)m.indexOf(y)>=0||Object.prototype.hasOwnProperty.call(p,y)&&(u[y]=p[y]);return u}var f={bgColor:s.default.oneOfType([s.default.object,s.default.string]).isRequired,bgD:s.default.string.isRequired,fgColor:s.default.oneOfType([s.default.object,s.default.string]).isRequired,fgD:s.default.string.isRequired,size:s.default.number.isRequired,title:s.default.string,viewBoxSize:s.default.number.isRequired,xmlns:s.default.string},g=(0,a.forwardRef)(function(p,m){var u=p.bgColor,y=p.bgD,b=p.fgD,N=p.fgColor,C=p.size,w=p.title,E=p.viewBoxSize,S=p.xmlns,k=S===void 0?"http://www.w3.org/2000/svg":S,R=d(p,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return i.default.createElement("svg",t({},R,{height:C,ref:m,viewBox:"0 0 "+E+" "+E,width:C,xmlns:k}),w?i.default.createElement("title",null,w):null,i.default.createElement("path",{d:y,fill:u}),i.default.createElement("path",{d:b,fill:N}))});return g.displayName="QRCodeSvg",g.propTypes=f,bl.default=g,bl}var sx;function _R(){if(sx)return No;sx=1,Object.defineProperty(No,"__esModule",{value:!0}),No.QRCode=void 0;var t=Object.assign||function(C){for(var w=1;w<arguments.length;w++){var E=arguments[w];for(var S in E)Object.prototype.hasOwnProperty.call(E,S)&&(C[S]=E[S])}return C},r=z0(),s=u(r),a=W0(),i=u(a),c=ER(),d=u(c),f=Ba(),g=u(f),p=SR(),m=u(p);function u(C){return C&&C.__esModule?C:{default:C}}function y(C,w){var E={};for(var S in C)w.indexOf(S)>=0||Object.prototype.hasOwnProperty.call(C,S)&&(E[S]=C[S]);return E}var b={bgColor:s.default.oneOfType([s.default.object,s.default.string]),fgColor:s.default.oneOfType([s.default.object,s.default.string]),level:s.default.string,size:s.default.number,value:s.default.string.isRequired},N=(0,f.forwardRef)(function(C,w){var E=C.bgColor,S=E===void 0?"#FFFFFF":E,k=C.fgColor,R=k===void 0?"#000000":k,T=C.level,D=T===void 0?"L":T,P=C.size,I=P===void 0?256:P,V=C.value,Y=y(C,["bgColor","fgColor","level","size","value"]),J=new d.default(-1,i.default[D]);J.addData(V),J.make();var ue=J.modules;return g.default.createElement(m.default,t({},Y,{bgColor:S,bgD:ue.map(function(Q,ne){return Q.map(function(z,H){return z?"":"M "+H+" "+ne+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:R,fgD:ue.map(function(Q,ne){return Q.map(function(z,H){return z?"M "+H+" "+ne+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:w,size:I,viewBoxSize:ue.length}))});return No.QRCode=N,N.displayName="QRCode",N.propTypes=b,No.default=N,No}var kR=_R();const qf=tf(kR);let q0=[];const FR=async()=>{try{return(await(await fetch("http://127.0.0.1:8000/api/clients/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json()).results||[]}catch(t){return console.error("Erreur lors du chargement des clients:",t),[]}},Y0=async()=>{try{return(await(await fetch("http://127.0.0.1:8000/api/echantillons/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json()).results?.map(s=>({id:s.id,code:s.code,clientCode:s.client_code,nature:s.nature||"",profondeurDebut:s.profondeur_debut||"",profondeurFin:s.profondeur_fin||"",sondage:s.sondage||"vrac",nappe:s.nappe||"",essais:s.essais_types||[],qrCode:s.code,dateReception:s.date_reception||"",dateFinEstimee:"",statut:s.statut||"stockage",chefProjet:s.chef_projet||""}))||[]}catch(t){return console.error("Erreur lors du chargement des chantillons:",t),[]}},DR=()=>q0,RR=t=>q0.filter(r=>r.echantillonCode===t),Nu=(t,r,s="normale")=>{const a={AG:5,Proctor:4,CBR:5,Oedometre:18,Cisaillement:8},i=Math.max(...r.map(p=>a[p]||0)),d=Math.ceil(i*(s==="urgente"?.7:1)),f=new Date(t);return new Date(f.setDate(f.getDate()+d+2)).toISOString().split("T")[0]},PR=["Sol","Gravier"],AR=["Ing. Kouadio","Ing. Diallo","Ing. Yao","Ing. Tour","Ing. N'Guessan"],TR=async()=>(await qn("/clients/")).results,G0=async t=>qn(`/clients/${t}/`),K0=async t=>qn("/clients/",{method:"POST",body:JSON.stringify(t)}),MR=Object.freeze(Object.defineProperty({__proto__:null,createClient:K0,getClient:G0,getClients:TR},Symbol.toStringTag,{value:"Module"})),Yf=async()=>(await qn("/echantillons/")).results,OR=async t=>(await qn(`/echantillons/?statut=${t}`)).results,IR=async(t,r)=>{if(r){const s=new FormData;s.append("client",t.client),s.append("nature",t.nature),s.append("profondeur_debut",t.profondeur_debut.toString()),s.append("profondeur_fin",t.profondeur_fin.toString()),s.append("sondage",t.sondage),t.nappe&&s.append("nappe",t.nappe),t.chef_projet&&s.append("chef_projet",t.chef_projet),t.priorite&&s.append("priorite",t.priorite),t.statut&&s.append("statut",t.statut),t.essais_types&&t.essais_types.forEach(c=>s.append("essais_types",c)),s.append("photo",r);const a=localStorage.getItem("access_token");if(!a)throw new Error("Non authentifi. Veuillez vous reconnecter.");const i=await fetch("http://127.0.0.1:8000/api/echantillons/",{method:"POST",headers:{Authorization:`Bearer ${a}`},body:s});if(!i.ok){const c=await i.json();throw new Error(c.detail||"Erreur lors de la cration de l'chantillon")}return i.json()}return qn("/echantillons/",{method:"POST",body:JSON.stringify(t)})},Q0=async(t,r)=>qn(`/echantillons/${t}/`,{method:"PATCH",body:JSON.stringify(r)}),ox=async(t,r)=>qn(`/echantillons/${t}/change_statut/`,{method:"POST",body:JSON.stringify({statut:r})}),LR=async t=>{try{const r=await qn(`/echantillons/?search=${encodeURIComponent(t)}`);return r.results.find(a=>a.code===t)||(r.results.length>0?r.results[0]:null)}catch(r){return console.error("Erreur recherche chantillon:",r),null}};function $R(){const[t,r]=v.useState(0),[s,a]=v.useState("client"),i=()=>{r(c=>c+1)};return e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{children:"Module Rception"}),e.jsx("p",{style:{color:"#A9A9A9"},children:"Codification clients et chantillons"})]}),e.jsxs(s0,{value:s,onValueChange:a,className:"space-y-6",children:[e.jsxs(o0,{children:[e.jsxs(Aa,{value:"client",children:[e.jsx(zN,{className:"h-4 w-4 mr-2"}),"Nouveau Client"]}),e.jsxs(Aa,{value:"echantillon",children:[e.jsx(_N,{className:"h-4 w-4 mr-2"}),"Nouvel chantillon"]})]}),e.jsx(Ta,{value:"client",children:e.jsx(BR,{onClientCreated:i})}),e.jsx(Ta,{value:"echantillon",children:e.jsx(zR,{refreshTrigger:t},t)})]})]})}function BR({onClientCreated:t}){const{addNotification:r}=gs(),[s,a]=v.useState(!1),[i,c]=v.useState({nom:"",contact:"",projet:"",email:"",telephone:""}),d=async f=>{f.preventDefault(),a(!0);try{const g=await K0(i);te.success(`Client cr avec succs: ${g.code}`),r({type:"success",title:"Nouveau client ajout",message:`Le client ${g.nom} (${g.code}) a t ajout au systme`,userRole:"receptionniste",module:"Rception"}),c({nom:"",contact:"",projet:"",email:"",telephone:""}),t&&t()}catch(g){console.error("Erreur lors de la cration du client:",g),te.error(g instanceof Error?g.message:"Erreur lors de la cration du client")}finally{a(!1)}};return e.jsxs(Ce,{children:[e.jsxs(Ne,{children:[e.jsx(Ee,{children:"Codification Client"}),e.jsx(He,{children:"Enregistrement d'un nouveau client"})]}),e.jsx(Se,{children:e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"nom",children:"Nom du client *"}),e.jsx(ge,{id:"nom",value:i.nom,onChange:f=>c({...i,nom:f.target.value}),placeholder:"Ex: SOGEA-SATOM",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"contact",children:"Personne de contact *"}),e.jsx(ge,{id:"contact",value:i.contact,onChange:f=>c({...i,contact:f.target.value}),placeholder:"Ex: M. Kon",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"projet",children:"Nom du projet *"}),e.jsx(ge,{id:"projet",value:i.projet,onChange:f=>c({...i,projet:f.target.value}),placeholder:"Ex: Autoroute Abidjan-Bassam",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"email",children:"Email"}),e.jsx(ge,{id:"email",type:"email",value:i.email,onChange:f=>c({...i,email:f.target.value}),placeholder:"contact@entreprise.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"telephone",children:"Tlphone"}),e.jsx(ge,{id:"telephone",value:i.telephone,onChange:f=>c({...i,telephone:f.target.value}),placeholder:"+225 07 00 00 00"})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx(X,{type:"submit",style:{backgroundColor:"#003366"},disabled:s,children:s?e.jsxs(e.Fragment,{children:[e.jsx(ff,{className:"mr-2 h-4 w-4 animate-spin"}),"Enregistrement..."]}):"Enregistrer le client"})})]})})]})}function zR({refreshTrigger:t}){const{addNotification:r}=gs(),[s,a]=v.useState(""),[i,c]=v.useState([]),[d,f]=v.useState(!0),[g,p]=v.useState({nature:"",profondeurDebut:"",profondeurFin:"",sondage:"carotte",numeroSondage:"",nappe:"",chefProjet:""}),[m,u]=v.useState(null),[y,b]=v.useState([]),[N,C]=v.useState(null),[w,E]=v.useState(null),[S,k]=v.useState(null);v.useEffect(()=>{(async()=>{f(!0);try{const{getClients:J}=await uD(async()=>{const{getClients:Q}=await Promise.resolve().then(()=>MR);return{getClients:Q}},[]),ue=await J();c(ue)}catch(J){console.error("Erreur lors du chargement des clients:",J),te.error("Erreur lors du chargement des clients")}finally{f(!1)}})()},[t]);const R=[{id:"AG",label:"Tamisage (AG)",duree:"5 jours"},{id:"Proctor",label:"Proctor",duree:"4 jours"},{id:"CBR",label:"CBR",duree:"5 jours"},{id:"Cisaillement",label:"Cisaillement",duree:"8 jours"},{id:"Oedometre",label:"domtre",duree:"18 jours"}],T=Y=>{b(J=>J.includes(Y)?J.filter(ue=>ue!==Y):[...J,Y])},[D,P]=v.useState(!1),I=async Y=>{if(Y.preventDefault(),!s){te.error("Veuillez slectionner un client");return}if(y.length===0){te.error("Veuillez slectionner au moins un essai");return}if(!g.chefProjet){te.error("Veuillez slectionner un chef de projet");return}P(!0);try{const J=i.find(M=>M.code===s);if(!J){te.error("Client introuvable");return}const ue={client:J.id,nature:g.nature,profondeur_debut:parseFloat(g.profondeurDebut),profondeur_fin:parseFloat(g.profondeurFin),sondage:g.sondage,nappe:g.nappe,chef_projet:g.chefProjet,priorite:"normale",statut:"stockage",essais_types:y},Q=await IR(ue,m||void 0);console.log(" chantillon cr:",Q);const ne=Math.max(...y.map(M=>{const K=R.find(re=>re.id===M);return K?parseInt(K.duree):0})),z=new Date;z.setDate(z.getDate()+ne);const H=z.toISOString().split("T")[0];console.log(" Date retour calcule:",H,"(dure max:",ne,"jours)");const B=await fetch(`http://127.0.0.1:8000/api/echantillons/${Q.id}/`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify({date_retour_predite:H})});if(B.ok){const M=await B.json();console.log(" Date retour enregistre:",M.date_retour_predite)}else console.error(" Erreur mise  jour date retour:",await B.text());let F="";Q.photo&&(F=Q.photo.startsWith("http")?Q.photo:`http://127.0.0.1:8000${Q.photo}`);const ee=`Code: ${Q.code}
Nature: ${Q.nature}
Photo: ${F}
Essais: ${y.join(", ")}
Profondeur dbut: ${g.profondeurDebut}m
Profondeur fin: ${g.profondeurFin}m
Nappe phratique: ${g.nappe}
Date retour client: ${z.toLocaleDateString("fr-FR")}`;C(ee),k({...Q,profondeurDebut:g.profondeurDebut,profondeurFin:g.profondeurFin,nappe:g.nappe,sondage:g.sondage,numeroSondage:g.numeroSondage}),te.success(`chantillon cr: ${Q.code}`,{description:`QR Code: ${Q.qr_code}`}),r({type:"info",title:"Nouvel chantillon reu",message:`L'chantillon ${Q.code} (${Q.nature}) a t rceptionn et est en attente de stockage`,userRole:"responsable_materiaux",module:"Rception",actionRequired:!0}),r({type:"info",title:"Nouvel chantillon  dcoder",message:`L'chantillon ${Q.code} ncessite une dcodification du QR code`,userRole:"receptionniste",module:"Rception",actionRequired:!0});const U=J.nom;r({type:"info",title:"Votre chantillon est arriv",message:`L'chantillon ${Q.code} pour le projet ${U} est arriv`,userRole:"chef_projet",module:"Rception"}),p({nature:"",profondeurDebut:"",profondeurFin:"",sondage:"carotte",numeroSondage:"",nappe:"",chefProjet:""}),u(null),b([]),a("")}catch(J){console.error("Erreur lors de la cration de l'chantillon:",J),te.error(J instanceof Error?J.message:"Erreur lors de la cration de l'chantillon")}finally{P(!1)}},V=()=>{if(!(!N||!S))try{const Y=N.split(`
`),J={};Y.forEach(Q=>{const[ne,...z]=Q.split(": ");J[ne]=z.join(": ")});const ue=window.open("","_blank");if(ue){const Q=J.Code.replace(/-/g,"/"),ne=J.Photo,z=`${J["Profondeur dbut"]} - ${J["Profondeur fin"]}`,H=J["Nappe phratique"]||"Non renseigne",B=S.sondage==="carotte"?"Carott":"Vrac",F=S.numeroSondage||"Non renseign";ue.document.write(`
        <html>
          <head>
            <title>QR Code - ${Q}</title>
            <style>
              body {
                font-family: Arial, sans-serif;
                text-align: center;
                padding: 20px;
                max-width: 700px;
                margin: 0 auto;
              }
              .header {
                margin-bottom: 15px;
              }
              .header h1 {
                color: #003366;
                margin-bottom: 5px;
                font-size: 20px;
              }
              .header p {
                font-size: 12px;
                margin: 0;
              }
              .qr-container {
                margin: 15px auto;
                padding: 15px;
                background: white;
                border: 2px solid #003366;
                border-radius: 10px;
                display: inline-block;
              }
              .info {
                margin-top: 15px;
                text-align: left;
                background: #f8f9fa;
                padding: 15px;
                border-radius: 10px;
              }
              .info p {
                margin: 5px 0;
                font-size: 12px;
              }
              .info strong {
                color: #003366;
              }
              .photo-container {
                margin: 15px auto;
                max-width: 150px;
              }
              .photo-container h3 {
                font-size: 14px;
                margin-bottom: 10px;
                color: #003366;
              }
              .photo-container img {
                width: 100%;
                max-height: 150px;
                object-fit: contain;
                border-radius: 8px;
                border: 2px solid #ddd;
              }
              .url {
                word-break: break-all;
                font-size: 10px;
                color: #666;
                margin-top: 5px;
              }
              @media print {
                body { 
                  padding: 15px;
                  max-width: 100%;
                }
                button { display: none; }
                .header h1 { font-size: 18px; }
                .photo-container { max-width: 120px; }
                .photo-container img { max-height: 120px; }
              }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>QR Code de l'chantillon</h1>
              <p style="color: #666;">Scannez ce code pour accder aux dtails</p>
            </div>
            
            <div class="qr-container">
              <div id="qr-code"></div>
            </div>
            
            <div class="info">
              <p><strong>Code :</strong> ${Q}</p>
              <p><strong>Nature :</strong> ${J.Nature||"Sol"}</p>
              <p><strong>Profondeurs :</strong> ${z}</p>
              <p><strong>Nappe phratique :</strong> ${H}</p>
              <p><strong>Type de sondage :</strong> ${B}</p>
              <p style="margin-top: 10px;"><strong>Essais demands :</strong> ${J.Essais}</p>
            </div>
            
            <div class="info" style="margin-top: 15px; background: #e3f2fd; padding: 15px; border-radius: 10px;">
              <p style="font-size: 12px; color: #003366; margin-bottom: 10px;"><strong>Photo de l'chantillon :</strong></p>
              ${ne?`
                <p style="font-size: 11px; margin-bottom: 5px;"><strong>Lien de la photo :</strong></p>
                <a href="${ne}" target="_blank" style="color: #1976D2; text-decoration: underline; font-size: 11px; word-break: break-all; display: block;">${ne}</a>
              `:`
                <p style="font-size: 11px; color: #856404;">Aucune photo n'a t ajoute pour cet chantillon</p>
              `}
            </div>
            
            <div class="info" style="margin-top: 15px;">
              <p><strong>Date de retour client :</strong> ${J["Date retour client"]}</p>
            </div>
            
            <script src="https://unpkg.com/qr-code-styling@1.6.0-rc.1/lib/qr-code-styling.js"><\/script>
            <script>
              const qrCode = new QRCodeStyling({
                width: 250,
                height: 250,
                data: "${N}",
                dotsOptions: {
                  color: "#003366",
                  type: "rounded"
                },
                backgroundOptions: {
                  color: "#ffffff"
                },
                cornersSquareOptions: {
                  color: "#003366",
                  type: "extra-rounded"
                },
                cornersDotOptions: {
                  color: "#003366",
                  type: "dot"
                }
              });
              qrCode.append(document.getElementById("qr-code"));
              
              // Attendre que tout soit charg avant d'imprimer
              window.onload = function() {
                setTimeout(() => {
                  try {
                    window.print();
                    // Fermer la fentre aprs l'impression (avec un dlai)
                    setTimeout(() => {
                      window.close();
                    }, 500);
                  } catch (error) {
                    console.error('Erreur impression:', error);
                  }
                }, 1500);
              };
            <\/script>
          </body>
        </html>
      `),ue.document.close()}}catch(Y){console.error("Erreur lors de l'impression:",Y),te.error("Erreur lors de l'impression")}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Ce,{children:[e.jsxs(Ne,{children:[e.jsx(Ee,{children:"Codification chantillon"}),e.jsx(He,{children:"Enregistrement d'un nouvel chantillon"})]}),e.jsx(Se,{children:e.jsxs("form",{onSubmit:I,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"client",children:"Client *"}),e.jsxs(ln,{value:s,onValueChange:a,required:!0,children:[e.jsx(dn,{id:"client",disabled:d,children:e.jsx(cn,{placeholder:d?"Chargement...":"Slectionner un client"})}),e.jsx(un,{children:Array.isArray(i)&&i.length>0?i.map(Y=>e.jsxs(Be,{value:Y.code,children:[Y.code," - ",Y.nom]},Y.id)):e.jsx(Be,{value:"no-client",disabled:!0,children:d?"Chargement...":"Aucun client disponible"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"nature",children:"Nature de l'chantillon *"}),e.jsxs(ln,{value:g.nature,onValueChange:Y=>p({...g,nature:Y}),required:!0,children:[e.jsx(dn,{id:"nature",children:e.jsx(cn,{placeholder:"Slectionner la nature"})}),e.jsx(un,{children:PR.map(Y=>e.jsx(Be,{value:Y,children:Y},Y))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"sondage",children:"Type de sondage *"}),e.jsxs(ln,{value:g.sondage,onValueChange:Y=>p({...g,sondage:Y}),children:[e.jsx(dn,{id:"sondage",children:e.jsx(cn,{})}),e.jsxs(un,{children:[e.jsx(Be,{value:"carotte",children:"Carott"}),e.jsx(Be,{value:"vrac",children:"Vrac"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"profondeurDebut",children:"Profondeur dbut (m) *"}),e.jsx(ge,{id:"profondeurDebut",type:"number",step:"0.1",value:g.profondeurDebut,onChange:Y=>p({...g,profondeurDebut:Y.target.value}),placeholder:"Ex: 0",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"profondeurFin",children:"Profondeur fin (m) *"}),e.jsx(ge,{id:"profondeurFin",type:"number",step:"0.1",value:g.profondeurFin,onChange:Y=>p({...g,profondeurFin:Y.target.value}),placeholder:"Ex: 2",required:!0})]}),g.sondage==="carotte"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"numeroSondage",children:"Numro de sondage *"}),e.jsx(ge,{id:"numeroSondage",value:g.numeroSondage,onChange:Y=>p({...g,numeroSondage:Y.target.value}),placeholder:"Ex: SC-01",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"nappe",children:"Nappe phratique *"}),e.jsx(ge,{id:"nappe",value:g.nappe,onChange:Y=>p({...g,nappe:Y.target.value}),placeholder:"Ex: Non rencontre ou 3.5m",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"chefProjet",children:"Chef de projet *"}),e.jsxs(ln,{value:g.chefProjet,onValueChange:Y=>p({...g,chefProjet:Y}),children:[e.jsx(dn,{id:"chefProjet",children:e.jsx(cn,{placeholder:"Slectionner le chef de projet"})}),e.jsx(un,{children:AR.map(Y=>e.jsx(Be,{value:Y,children:Y},Y))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"photo",children:"Photo de l'chantillon"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(ge,{id:"photo",type:"file",accept:"image/*",onChange:Y=>{const J=Y.target.files?.[0];if(J){u(J);const ue=new FileReader;ue.onload=Q=>{const ne=Q.target?.result;E(ne)},ue.readAsDataURL(J)}},className:"hidden"}),e.jsxs(X,{type:"button",variant:"outline",onClick:()=>document.getElementById("photo")?.click(),className:"flex items-center gap-2",children:[e.jsx(BC,{className:"h-4 w-4"}),w?"Changer la photo":"Ajouter une photo"]}),w&&e.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden border",children:e.jsx("img",{src:w,alt:"Aperu",className:"w-full h-full object-cover"})})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(L,{children:"Essais  raliser *"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:R.map(Y=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg",style:{backgroundColor:"#F5F5F5"},children:[e.jsx(MD,{id:Y.id,checked:y.includes(Y.id),onCheckedChange:()=>T(Y.id)}),e.jsx("label",{htmlFor:Y.id,className:"flex-1 cursor-pointer",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:Y.label}),e.jsx("span",{className:"text-xs",style:{color:"#A9A9A9"},children:Y.duree})]})})]},Y.id))})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx(X,{type:"submit",style:{backgroundColor:"#003366"},disabled:D||d,children:D?e.jsxs(e.Fragment,{children:[e.jsx(ff,{className:"h-4 w-4 mr-2 animate-spin"}),"Enregistrement..."]}):e.jsxs(e.Fragment,{children:[e.jsx(rg,{className:"h-4 w-4 mr-2"}),"Crer l'chantillon"]})})})]})})]}),N&&e.jsxs(Ce,{children:[e.jsxs(Ne,{children:[e.jsx(Ee,{children:"QR Code gnr avec succs !"}),e.jsx(He,{children:"Scannez ce code pour accder aux dtails de l'chantillon"})]}),e.jsx(Se,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-center p-6 rounded-lg bg-white border-2",style:{borderColor:"#003366"},children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"inline-block p-4 bg-white rounded-lg",children:e.jsx(qf,{value:N,size:200})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",style:{color:"#003366"},children:"URL de l'chantillon :"}),e.jsx("p",{className:"text-xs font-mono break-all px-4",style:{color:"#6C757D"},children:N})]})]})}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsxs(X,{onClick:V,style:{backgroundColor:"#003366"},className:"flex-1 max-w-xs",children:[e.jsx(ov,{className:"h-4 w-4 mr-2"}),"Imprimer le QR Code"]}),e.jsxs(X,{onClick:()=>{window.open(N,"_blank")},variant:"outline",className:"flex-1 max-w-xs",children:[e.jsx(rg,{className:"h-4 w-4 mr-2"}),"Voir la page"]})]})]})})]})]})}var Re=function(){return Re=Object.assign||function(r){for(var s,a=1,i=arguments.length;a<i;a++){s=arguments[a];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(r[c]=s[c])}return r},Re.apply(this,arguments)};function WR(t,r){var s={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&r.indexOf(a)<0&&(s[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)r.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(s[a[i]]=t[a[i]]);return s}function J0(t,r,s){for(var a=0,i=r.length,c;a<i;a++)(c||!(a in r))&&(c||(c=Array.prototype.slice.call(r,0,a)),c[a]=r[a]);return t.concat(c||Array.prototype.slice.call(r))}function Xa(t){return t.mode==="multiple"}function Za(t){return t.mode==="range"}function ic(t){return t.mode==="single"}var VR={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function HR(t,r){return Ie(t,"LLLL y",r)}function UR(t,r){return Ie(t,"d",r)}function qR(t,r){return Ie(t,"LLLL",r)}function YR(t){return"".concat(t)}function GR(t,r){return Ie(t,"cccccc",r)}function KR(t,r){return Ie(t,"yyyy",r)}var QR=Object.freeze({__proto__:null,formatCaption:HR,formatDay:UR,formatMonthCaption:qR,formatWeekNumber:YR,formatWeekdayName:GR,formatYearCaption:KR}),JR=function(t,r,s){return Ie(t,"do MMMM (EEEE)",s)},XR=function(){return"Month: "},ZR=function(){return"Go to next month"},e4=function(){return"Go to previous month"},t4=function(t,r){return Ie(t,"cccc",r)},n4=function(t){return"Week n. ".concat(t)},r4=function(){return"Year: "},s4=Object.freeze({__proto__:null,labelDay:JR,labelMonthDropdown:XR,labelNext:ZR,labelPrevious:e4,labelWeekNumber:n4,labelWeekday:t4,labelYearDropdown:r4});function o4(){var t="buttons",r=VR,s=My,a={},i={},c=1,d={},f=new Date;return{captionLayout:t,classNames:r,formatters:QR,labels:s4,locale:s,modifiersClassNames:a,modifiers:i,numberOfMonths:c,styles:d,today:f,mode:"default"}}function a4(t){var r=t.fromYear,s=t.toYear,a=t.fromMonth,i=t.toMonth,c=t.fromDate,d=t.toDate;return a?c=Jt(a):r&&(c=new Date(r,0,1)),i?d=$f(i):s&&(d=new Date(s,11,31)),{fromDate:c?To(c):void 0,toDate:d?To(d):void 0}}var X0=v.createContext(void 0);function i4(t){var r,s=t.initialProps,a=o4(),i=a4(s),c=i.fromDate,d=i.toDate,f=(r=s.captionLayout)!==null&&r!==void 0?r:a.captionLayout;f!=="buttons"&&(!c||!d)&&(f="buttons");var g;(ic(s)||Xa(s)||Za(s))&&(g=s.onSelect);var p=Re(Re(Re({},a),s),{captionLayout:f,classNames:Re(Re({},a.classNames),s.classNames),components:Re({},s.components),formatters:Re(Re({},a.formatters),s.formatters),fromDate:c,labels:Re(Re({},a.labels),s.labels),mode:s.mode||a.mode,modifiers:Re(Re({},a.modifiers),s.modifiers),modifiersClassNames:Re(Re({},a.modifiersClassNames),s.modifiersClassNames),onSelect:g,styles:Re(Re({},a.styles),s.styles),toDate:d});return e.jsx(X0.Provider,{value:p,children:t.children})}function Ze(){var t=v.useContext(X0);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function Z0(t){var r=Ze(),s=r.locale,a=r.classNames,i=r.styles,c=r.formatters.formatCaption;return e.jsx("div",{className:a.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:c(t.displayMonth,{locale:s})})}function l4(t){return e.jsx("svg",Re({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:e.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function ej(t){var r,s,a=t.onChange,i=t.value,c=t.children,d=t.caption,f=t.className,g=t.style,p=Ze(),m=(s=(r=p.components)===null||r===void 0?void 0:r.IconDropdown)!==null&&s!==void 0?s:l4;return e.jsxs("div",{className:f,style:g,children:[e.jsx("span",{className:p.classNames.vhidden,children:t["aria-label"]}),e.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:p.classNames.dropdown,style:p.styles.dropdown,value:i,onChange:a,children:c}),e.jsxs("div",{className:p.classNames.caption_label,style:p.styles.caption_label,"aria-hidden":"true",children:[d,e.jsx(m,{className:p.classNames.dropdown_icon,style:p.styles.dropdown_icon})]})]})}function c4(t){var r,s=Ze(),a=s.fromDate,i=s.toDate,c=s.styles,d=s.locale,f=s.formatters.formatMonthCaption,g=s.classNames,p=s.components,m=s.labels.labelMonthDropdown;if(!a)return e.jsx(e.Fragment,{});if(!i)return e.jsx(e.Fragment,{});var u=[];if(RF(a,i))for(var y=Jt(a),b=a.getMonth();b<=i.getMonth();b++)u.push(du(y,b));else for(var y=Jt(new Date),b=0;b<=11;b++)u.push(du(y,b));var N=function(w){var E=Number(w.target.value),S=du(Jt(t.displayMonth),E);t.onChange(S)},C=(r=p?.Dropdown)!==null&&r!==void 0?r:ej;return e.jsx(C,{name:"months","aria-label":m(),className:g.dropdown_month,style:c.dropdown_month,onChange:N,value:t.displayMonth.getMonth(),caption:f(t.displayMonth,{locale:d}),children:u.map(function(w){return e.jsx("option",{value:w.getMonth(),children:f(w,{locale:d})},w.getMonth())})})}function d4(t){var r,s=t.displayMonth,a=Ze(),i=a.fromDate,c=a.toDate,d=a.locale,f=a.styles,g=a.classNames,p=a.components,m=a.formatters.formatYearCaption,u=a.labels.labelYearDropdown,y=[];if(!i)return e.jsx(e.Fragment,{});if(!c)return e.jsx(e.Fragment,{});for(var b=i.getFullYear(),N=c.getFullYear(),C=b;C<=N;C++)y.push(Wg(Py(new Date),C));var w=function(S){var k=Wg(Jt(s),Number(S.target.value));t.onChange(k)},E=(r=p?.Dropdown)!==null&&r!==void 0?r:ej;return e.jsx(E,{name:"years","aria-label":u(),className:g.dropdown_year,style:f.dropdown_year,onChange:w,value:s.getFullYear(),caption:m(s,{locale:d}),children:y.map(function(S){return e.jsx("option",{value:S.getFullYear(),children:m(S,{locale:d})},S.getFullYear())})})}function u4(t,r){var s=v.useState(t),a=s[0],i=s[1],c=r===void 0?a:r;return[c,i]}function f4(t){var r=t.month,s=t.defaultMonth,a=t.today,i=r||s||a||new Date,c=t.toDate,d=t.fromDate,f=t.numberOfMonths,g=f===void 0?1:f;if(c&&$a(c,i)<0){var p=-1*(g-1);i=Hn(c,p)}return d&&$a(i,d)<0&&(i=d),Jt(i)}function h4(){var t=Ze(),r=f4(t),s=u4(r,t.month),a=s[0],i=s[1],c=function(d){var f;if(!t.disableNavigation){var g=Jt(d);i(g),(f=t.onMonthChange)===null||f===void 0||f.call(t,g)}};return[a,c]}function p4(t,r){for(var s=r.reverseMonths,a=r.numberOfMonths,i=Jt(t),c=Jt(Hn(i,a)),d=$a(c,i),f=[],g=0;g<d;g++){var p=Hn(i,g);f.push(p)}return s&&(f=f.reverse()),f}function m4(t,r){if(!r.disableNavigation){var s=r.toDate,a=r.pagedNavigation,i=r.numberOfMonths,c=i===void 0?1:i,d=a?c:1,f=Jt(t);if(!s)return Hn(f,d);var g=$a(s,t);if(!(g<c))return Hn(f,d)}}function g4(t,r){if(!r.disableNavigation){var s=r.fromDate,a=r.pagedNavigation,i=r.numberOfMonths,c=i===void 0?1:i,d=a?c:1,f=Jt(t);if(!s)return Hn(f,-d);var g=$a(f,s);if(!(g<=0))return Hn(f,-d)}}var tj=v.createContext(void 0);function x4(t){var r=Ze(),s=h4(),a=s[0],i=s[1],c=p4(a,r),d=m4(a,r),f=g4(a,r),g=function(u){return c.some(function(y){return zf(u,y)})},p=function(u,y){g(u)||(y&&By(u,y)?i(Hn(u,1+r.numberOfMonths*-1)):i(u))},m={currentMonth:a,displayMonths:c,goToMonth:i,goToDate:p,previousMonth:f,nextMonth:d,isDateDisplayed:g};return e.jsx(tj.Provider,{value:m,children:t.children})}function ei(){var t=v.useContext(tj);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function ax(t){var r,s=Ze(),a=s.classNames,i=s.styles,c=s.components,d=ei().goToMonth,f=function(m){d(Hn(m,t.displayIndex?-t.displayIndex:0))},g=(r=c?.CaptionLabel)!==null&&r!==void 0?r:Z0,p=e.jsx(g,{id:t.id,displayMonth:t.displayMonth});return e.jsxs("div",{className:a.caption_dropdowns,style:i.caption_dropdowns,children:[e.jsx("div",{className:a.vhidden,children:p}),e.jsx(c4,{onChange:f,displayMonth:t.displayMonth}),e.jsx(d4,{onChange:f,displayMonth:t.displayMonth})]})}function v4(t){return e.jsx("svg",Re({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function y4(t){return e.jsx("svg",Re({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Bl=v.forwardRef(function(t,r){var s=Ze(),a=s.classNames,i=s.styles,c=[a.button_reset,a.button];t.className&&c.push(t.className);var d=c.join(" "),f=Re(Re({},i.button_reset),i.button);return t.style&&Object.assign(f,t.style),e.jsx("button",Re({},t,{ref:r,type:"button",className:d,style:f}))});function j4(t){var r,s,a=Ze(),i=a.dir,c=a.locale,d=a.classNames,f=a.styles,g=a.labels,p=g.labelPrevious,m=g.labelNext,u=a.components;if(!t.nextMonth&&!t.previousMonth)return e.jsx(e.Fragment,{});var y=p(t.previousMonth,{locale:c}),b=[d.nav_button,d.nav_button_previous].join(" "),N=m(t.nextMonth,{locale:c}),C=[d.nav_button,d.nav_button_next].join(" "),w=(r=u?.IconRight)!==null&&r!==void 0?r:y4,E=(s=u?.IconLeft)!==null&&s!==void 0?s:v4;return e.jsxs("div",{className:d.nav,style:f.nav,children:[!t.hidePrevious&&e.jsx(Bl,{name:"previous-month","aria-label":y,className:b,style:f.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?e.jsx(w,{className:d.nav_icon,style:f.nav_icon}):e.jsx(E,{className:d.nav_icon,style:f.nav_icon})}),!t.hideNext&&e.jsx(Bl,{name:"next-month","aria-label":N,className:C,style:f.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?e.jsx(E,{className:d.nav_icon,style:f.nav_icon}):e.jsx(w,{className:d.nav_icon,style:f.nav_icon})})]})}function ix(t){var r=Ze().numberOfMonths,s=ei(),a=s.previousMonth,i=s.nextMonth,c=s.goToMonth,d=s.displayMonths,f=d.findIndex(function(N){return zf(t.displayMonth,N)}),g=f===0,p=f===d.length-1,m=r>1&&(g||!p),u=r>1&&(p||!g),y=function(){a&&c(a)},b=function(){i&&c(i)};return e.jsx(j4,{displayMonth:t.displayMonth,hideNext:m,hidePrevious:u,nextMonth:i,previousMonth:a,onPreviousClick:y,onNextClick:b})}function w4(t){var r,s=Ze(),a=s.classNames,i=s.disableNavigation,c=s.styles,d=s.captionLayout,f=s.components,g=(r=f?.CaptionLabel)!==null&&r!==void 0?r:Z0,p;return i?p=e.jsx(g,{id:t.id,displayMonth:t.displayMonth}):d==="dropdown"?p=e.jsx(ax,{displayMonth:t.displayMonth,id:t.id}):d==="dropdown-buttons"?p=e.jsxs(e.Fragment,{children:[e.jsx(ax,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),e.jsx(ix,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):p=e.jsxs(e.Fragment,{children:[e.jsx(g,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(ix,{displayMonth:t.displayMonth,id:t.id})]}),e.jsx("div",{className:a.caption,style:c.caption,children:p})}function b4(t){var r=Ze(),s=r.footer,a=r.styles,i=r.classNames.tfoot;return s?e.jsx("tfoot",{className:i,style:a.tfoot,children:e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:s})})}):e.jsx(e.Fragment,{})}function C4(t,r,s){for(var a=s?Hs(new Date):cr(new Date,{locale:t,weekStartsOn:r}),i=[],c=0;c<7;c++){var d=ft(a,c);i.push(d)}return i}function N4(){var t=Ze(),r=t.classNames,s=t.styles,a=t.showWeekNumber,i=t.locale,c=t.weekStartsOn,d=t.ISOWeek,f=t.formatters.formatWeekdayName,g=t.labels.labelWeekday,p=C4(i,c,d);return e.jsxs("tr",{style:s.head_row,className:r.head_row,children:[a&&e.jsx("td",{style:s.head_cell,className:r.head_cell}),p.map(function(m,u){return e.jsx("th",{scope:"col",className:r.head_cell,style:s.head_cell,"aria-label":g(m,{locale:i}),children:f(m,{locale:i})},u)})]})}function E4(){var t,r=Ze(),s=r.classNames,a=r.styles,i=r.components,c=(t=i?.HeadRow)!==null&&t!==void 0?t:N4;return e.jsx("thead",{style:a.head,className:s.head,children:e.jsx(c,{})})}function S4(t){var r=Ze(),s=r.locale,a=r.formatters.formatDay;return e.jsx(e.Fragment,{children:a(t.date,{locale:s})})}var Gf=v.createContext(void 0);function _4(t){if(!Xa(t.initialProps)){var r={selected:void 0,modifiers:{disabled:[]}};return e.jsx(Gf.Provider,{value:r,children:t.children})}return e.jsx(k4,{initialProps:t.initialProps,children:t.children})}function k4(t){var r=t.initialProps,s=t.children,a=r.selected,i=r.min,c=r.max,d=function(p,m,u){var y,b;(y=r.onDayClick)===null||y===void 0||y.call(r,p,m,u);var N=!!(m.selected&&i&&a?.length===i);if(!N){var C=!!(!m.selected&&c&&a?.length===c);if(!C){var w=a?J0([],a):[];if(m.selected){var E=w.findIndex(function(S){return Kt(p,S)});w.splice(E,1)}else w.push(p);(b=r.onSelect)===null||b===void 0||b.call(r,w,p,m,u)}}},f={disabled:[]};a&&f.disabled.push(function(p){var m=c&&a.length>c-1,u=a.some(function(y){return Kt(y,p)});return!!(m&&!u)});var g={selected:a,onDayClick:d,modifiers:f};return e.jsx(Gf.Provider,{value:g,children:s})}function Kf(){var t=v.useContext(Gf);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function F4(t,r){var s=r||{},a=s.from,i=s.to;return a&&i?Kt(i,t)&&Kt(a,t)?void 0:Kt(i,t)?{from:i,to:void 0}:Kt(a,t)?void 0:Gu(a,t)?{from:t,to:i}:{from:a,to:t}:i?Gu(t,i)?{from:i,to:t}:{from:t,to:i}:a?By(t,a)?{from:t,to:a}:{from:a,to:t}:{from:t,to:void 0}}var Qf=v.createContext(void 0);function D4(t){if(!Za(t.initialProps)){var r={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return e.jsx(Qf.Provider,{value:r,children:t.children})}return e.jsx(R4,{initialProps:t.initialProps,children:t.children})}function R4(t){var r=t.initialProps,s=t.children,a=r.selected,i=a||{},c=i.from,d=i.to,f=r.min,g=r.max,p=function(b,N,C){var w,E;(w=r.onDayClick)===null||w===void 0||w.call(r,b,N,C);var S=F4(b,a);(E=r.onSelect)===null||E===void 0||E.call(r,S,b,N,C)},m={range_start:[],range_end:[],range_middle:[],disabled:[]};if(c?(m.range_start=[c],d?(m.range_end=[d],Kt(c,d)||(m.range_middle=[{after:c,before:d}])):m.range_end=[c]):d&&(m.range_start=[d],m.range_end=[d]),f&&(c&&!d&&m.disabled.push({after:cu(c,f-1),before:ft(c,f-1)}),c&&d&&m.disabled.push({after:c,before:ft(c,f-1)}),!c&&d&&m.disabled.push({after:cu(d,f-1),before:ft(d,f-1)})),g){if(c&&!d&&(m.disabled.push({before:ft(c,-g+1)}),m.disabled.push({after:ft(c,g-1)})),c&&d){var u=or(d,c)+1,y=g-u;m.disabled.push({before:cu(c,y)}),m.disabled.push({after:ft(d,y)})}!c&&d&&(m.disabled.push({before:ft(d,-g+1)}),m.disabled.push({after:ft(d,g-1)}))}return e.jsx(Qf.Provider,{value:{selected:a,onDayClick:p,modifiers:m},children:s})}function Jf(){var t=v.useContext(Qf);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Dl(t){return Array.isArray(t)?J0([],t):t!==void 0?[t]:[]}function P4(t){var r={};return Object.entries(t).forEach(function(s){var a=s[0],i=s[1];r[a]=Dl(i)}),r}var Un;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Un||(Un={}));var A4=Un.Selected,Sr=Un.Disabled,T4=Un.Hidden,M4=Un.Today,Eu=Un.RangeEnd,Su=Un.RangeMiddle,_u=Un.RangeStart,O4=Un.Outside;function I4(t,r,s){var a,i=(a={},a[A4]=Dl(t.selected),a[Sr]=Dl(t.disabled),a[T4]=Dl(t.hidden),a[M4]=[t.today],a[Eu]=[],a[Su]=[],a[_u]=[],a[O4]=[],a);return t.fromDate&&i[Sr].push({before:t.fromDate}),t.toDate&&i[Sr].push({after:t.toDate}),Xa(t)?i[Sr]=i[Sr].concat(r.modifiers[Sr]):Za(t)&&(i[Sr]=i[Sr].concat(s.modifiers[Sr]),i[_u]=s.modifiers[_u],i[Su]=s.modifiers[Su],i[Eu]=s.modifiers[Eu]),i}var nj=v.createContext(void 0);function L4(t){var r=Ze(),s=Kf(),a=Jf(),i=I4(r,s,a),c=P4(r.modifiers),d=Re(Re({},i),c);return e.jsx(nj.Provider,{value:d,children:t.children})}function rj(){var t=v.useContext(nj);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function $4(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function B4(t){return!!(t&&typeof t=="object"&&"from"in t)}function z4(t){return!!(t&&typeof t=="object"&&"after"in t)}function W4(t){return!!(t&&typeof t=="object"&&"before"in t)}function V4(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function H4(t,r){var s,a=r.from,i=r.to;if(a&&i){var c=or(i,a)<0;c&&(s=[i,a],a=s[0],i=s[1]);var d=or(t,a)>=0&&or(i,t)>=0;return d}return i?Kt(i,t):a?Kt(a,t):!1}function U4(t){return Lf(t)}function q4(t){return Array.isArray(t)&&t.every(Lf)}function Y4(t,r){return r.some(function(s){if(typeof s=="boolean")return s;if(U4(s))return Kt(t,s);if(q4(s))return s.includes(t);if(B4(s))return H4(t,s);if(V4(s))return s.dayOfWeek.includes(t.getDay());if($4(s)){var a=or(s.before,t),i=or(s.after,t),c=a>0,d=i<0,f=Gu(s.before,s.after);return f?d&&c:c||d}return z4(s)?or(t,s.after)>0:W4(s)?or(s.before,t)>0:typeof s=="function"?s(t):!1})}function Xf(t,r,s){var a=Object.keys(r).reduce(function(c,d){var f=r[d];return Y4(t,f)&&c.push(d),c},[]),i={};return a.forEach(function(c){return i[c]=!0}),s&&!zf(t,s)&&(i.outside=!0),i}function G4(t,r){for(var s=Jt(t[0]),a=$f(t[t.length-1]),i,c,d=s;d<=a;){var f=Xf(d,r),g=!f.disabled&&!f.hidden;if(!g){d=ft(d,1);continue}if(f.selected)return d;f.today&&!c&&(c=d),i||(i=d),d=ft(d,1)}return c||i}var K4=365;function sj(t,r){var s=r.moveBy,a=r.direction,i=r.context,c=r.modifiers,d=r.retry,f=d===void 0?{count:0,lastFocused:t}:d,g=i.weekStartsOn,p=i.fromDate,m=i.toDate,u=i.locale,y={day:ft,week:Yu,month:Hn,year:kk,startOfWeek:function(w){return i.ISOWeek?Hs(w):cr(w,{locale:u,weekStartsOn:g})},endOfWeek:function(w){return i.ISOWeek?Ay(w):Bf(w,{locale:u,weekStartsOn:g})}},b=y[s](t,a==="after"?1:-1);a==="before"&&p?b=Fk([p,b]):a==="after"&&m&&(b=Dk([m,b]));var N=!0;if(c){var C=Xf(b,c);N=!C.disabled&&!C.hidden}return N?b:f.count>K4?f.lastFocused:sj(b,{moveBy:s,direction:a,context:i,modifiers:c,retry:Re(Re({},f),{count:f.count+1})})}var oj=v.createContext(void 0);function Q4(t){var r=ei(),s=rj(),a=v.useState(),i=a[0],c=a[1],d=v.useState(),f=d[0],g=d[1],p=G4(r.displayMonths,s),m=i??(f&&r.isDateDisplayed(f))?f:p,u=function(){g(i),c(void 0)},y=function(w){c(w)},b=Ze(),N=function(w,E){if(i){var S=sj(i,{moveBy:w,direction:E,context:b,modifiers:s});Kt(i,S)||(r.goToDate(S,i),y(S))}},C={focusedDay:i,focusTarget:m,blur:u,focus:y,focusDayAfter:function(){return N("day","after")},focusDayBefore:function(){return N("day","before")},focusWeekAfter:function(){return N("week","after")},focusWeekBefore:function(){return N("week","before")},focusMonthBefore:function(){return N("month","before")},focusMonthAfter:function(){return N("month","after")},focusYearBefore:function(){return N("year","before")},focusYearAfter:function(){return N("year","after")},focusStartOfWeek:function(){return N("startOfWeek","before")},focusEndOfWeek:function(){return N("endOfWeek","after")}};return e.jsx(oj.Provider,{value:C,children:t.children})}function Zf(){var t=v.useContext(oj);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function J4(t,r){var s=rj(),a=Xf(t,s,r);return a}var eh=v.createContext(void 0);function X4(t){if(!ic(t.initialProps)){var r={selected:void 0};return e.jsx(eh.Provider,{value:r,children:t.children})}return e.jsx(Z4,{initialProps:t.initialProps,children:t.children})}function Z4(t){var r=t.initialProps,s=t.children,a=function(c,d,f){var g,p,m;if((g=r.onDayClick)===null||g===void 0||g.call(r,c,d,f),d.selected&&!r.required){(p=r.onSelect)===null||p===void 0||p.call(r,void 0,c,d,f);return}(m=r.onSelect)===null||m===void 0||m.call(r,c,c,d,f)},i={selected:r.selected,onDayClick:a};return e.jsx(eh.Provider,{value:i,children:s})}function aj(){var t=v.useContext(eh);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function e5(t,r){var s=Ze(),a=aj(),i=Kf(),c=Jf(),d=Zf(),f=d.focusDayAfter,g=d.focusDayBefore,p=d.focusWeekAfter,m=d.focusWeekBefore,u=d.blur,y=d.focus,b=d.focusMonthBefore,N=d.focusMonthAfter,C=d.focusYearBefore,w=d.focusYearAfter,E=d.focusStartOfWeek,S=d.focusEndOfWeek,k=function(B){var F,ee,U,M;ic(s)?(F=a.onDayClick)===null||F===void 0||F.call(a,t,r,B):Xa(s)?(ee=i.onDayClick)===null||ee===void 0||ee.call(i,t,r,B):Za(s)?(U=c.onDayClick)===null||U===void 0||U.call(c,t,r,B):(M=s.onDayClick)===null||M===void 0||M.call(s,t,r,B)},R=function(B){var F;y(t),(F=s.onDayFocus)===null||F===void 0||F.call(s,t,r,B)},T=function(B){var F;u(),(F=s.onDayBlur)===null||F===void 0||F.call(s,t,r,B)},D=function(B){var F;(F=s.onDayMouseEnter)===null||F===void 0||F.call(s,t,r,B)},P=function(B){var F;(F=s.onDayMouseLeave)===null||F===void 0||F.call(s,t,r,B)},I=function(B){var F;(F=s.onDayPointerEnter)===null||F===void 0||F.call(s,t,r,B)},V=function(B){var F;(F=s.onDayPointerLeave)===null||F===void 0||F.call(s,t,r,B)},Y=function(B){var F;(F=s.onDayTouchCancel)===null||F===void 0||F.call(s,t,r,B)},J=function(B){var F;(F=s.onDayTouchEnd)===null||F===void 0||F.call(s,t,r,B)},ue=function(B){var F;(F=s.onDayTouchMove)===null||F===void 0||F.call(s,t,r,B)},Q=function(B){var F;(F=s.onDayTouchStart)===null||F===void 0||F.call(s,t,r,B)},ne=function(B){var F;(F=s.onDayKeyUp)===null||F===void 0||F.call(s,t,r,B)},z=function(B){var F;switch(B.key){case"ArrowLeft":B.preventDefault(),B.stopPropagation(),s.dir==="rtl"?f():g();break;case"ArrowRight":B.preventDefault(),B.stopPropagation(),s.dir==="rtl"?g():f();break;case"ArrowDown":B.preventDefault(),B.stopPropagation(),p();break;case"ArrowUp":B.preventDefault(),B.stopPropagation(),m();break;case"PageUp":B.preventDefault(),B.stopPropagation(),B.shiftKey?C():b();break;case"PageDown":B.preventDefault(),B.stopPropagation(),B.shiftKey?w():N();break;case"Home":B.preventDefault(),B.stopPropagation(),E();break;case"End":B.preventDefault(),B.stopPropagation(),S();break}(F=s.onDayKeyDown)===null||F===void 0||F.call(s,t,r,B)},H={onClick:k,onFocus:R,onBlur:T,onKeyDown:z,onKeyUp:ne,onMouseEnter:D,onMouseLeave:P,onPointerEnter:I,onPointerLeave:V,onTouchCancel:Y,onTouchEnd:J,onTouchMove:ue,onTouchStart:Q};return H}function t5(){var t=Ze(),r=aj(),s=Kf(),a=Jf(),i=ic(t)?r.selected:Xa(t)?s.selected:Za(t)?a.selected:void 0;return i}function n5(t){return Object.values(Un).includes(t)}function r5(t,r){var s=[t.classNames.day];return Object.keys(r).forEach(function(a){var i=t.modifiersClassNames[a];if(i)s.push(i);else if(n5(a)){var c=t.classNames["day_".concat(a)];c&&s.push(c)}}),s}function s5(t,r){var s=Re({},t.styles.day);return Object.keys(r).forEach(function(a){var i;s=Re(Re({},s),(i=t.modifiersStyles)===null||i===void 0?void 0:i[a])}),s}function o5(t,r,s){var a,i,c,d=Ze(),f=Zf(),g=J4(t,r),p=e5(t,g),m=t5(),u=!!(d.onDayClick||d.mode!=="default");v.useEffect(function(){var D;g.outside||f.focusedDay&&u&&Kt(f.focusedDay,t)&&((D=s.current)===null||D===void 0||D.focus())},[f.focusedDay,t,s,u,g.outside]);var y=r5(d,g).join(" "),b=s5(d,g),N=!!(g.outside&&!d.showOutsideDays||g.hidden),C=(c=(i=d.components)===null||i===void 0?void 0:i.DayContent)!==null&&c!==void 0?c:S4,w=e.jsx(C,{date:t,displayMonth:r,activeModifiers:g}),E={style:b,className:y,children:w,role:"gridcell"},S=f.focusTarget&&Kt(f.focusTarget,t)&&!g.outside,k=f.focusedDay&&Kt(f.focusedDay,t),R=Re(Re(Re({},E),(a={disabled:g.disabled,role:"gridcell"},a["aria-selected"]=g.selected,a.tabIndex=k||S?0:-1,a)),p),T={isButton:u,isHidden:N,activeModifiers:g,selectedDays:m,buttonProps:R,divProps:E};return T}function a5(t){var r=v.useRef(null),s=o5(t.date,t.displayMonth,r);return s.isHidden?e.jsx("div",{role:"gridcell"}):s.isButton?e.jsx(Bl,Re({name:"day",ref:r},s.buttonProps)):e.jsx("div",Re({},s.divProps))}function i5(t){var r=t.number,s=t.dates,a=Ze(),i=a.onWeekNumberClick,c=a.styles,d=a.classNames,f=a.locale,g=a.labels.labelWeekNumber,p=a.formatters.formatWeekNumber,m=p(Number(r),{locale:f});if(!i)return e.jsx("span",{className:d.weeknumber,style:c.weeknumber,children:m});var u=g(Number(r),{locale:f}),y=function(b){i(r,s,b)};return e.jsx(Bl,{name:"week-number","aria-label":u,className:d.weeknumber,style:c.weeknumber,onClick:y,children:m})}function l5(t){var r,s,a=Ze(),i=a.styles,c=a.classNames,d=a.showWeekNumber,f=a.components,g=(r=f?.Day)!==null&&r!==void 0?r:a5,p=(s=f?.WeekNumber)!==null&&s!==void 0?s:i5,m;return d&&(m=e.jsx("td",{className:c.cell,style:i.cell,children:e.jsx(p,{number:t.weekNumber,dates:t.dates})})),e.jsxs("tr",{className:c.row,style:i.row,children:[m,t.dates.map(function(u){return e.jsx("td",{className:c.cell,style:i.cell,role:"presentation",children:e.jsx(g,{displayMonth:t.displayMonth,date:u})},kF(u))})]})}function lx(t,r,s){for(var a=s?.ISOWeek?Ay(r):Bf(r,s),i=s?.ISOWeek?Hs(t):cr(t,s),c=or(a,i),d=[],f=0;f<=c;f++)d.push(ft(i,f));var g=d.reduce(function(p,m){var u=s?.ISOWeek?Oy(m):Ly(m,s),y=p.find(function(b){return b.weekNumber===u});return y?(y.dates.push(m),p):(p.push({weekNumber:u,dates:[m]}),p)},[]);return g}function c5(t,r){var s=lx(Jt(t),$f(t),r);if(r?.useFixedWeeks){var a=DF(t,r);if(a<6){var i=s[s.length-1],c=i.dates[i.dates.length-1],d=Yu(c,6-a),f=lx(Yu(c,1),d,r);s.push.apply(s,f)}}return s}function d5(t){var r,s,a,i=Ze(),c=i.locale,d=i.classNames,f=i.styles,g=i.hideHead,p=i.fixedWeeks,m=i.components,u=i.weekStartsOn,y=i.firstWeekContainsDate,b=i.ISOWeek,N=c5(t.displayMonth,{useFixedWeeks:!!p,ISOWeek:b,locale:c,weekStartsOn:u,firstWeekContainsDate:y}),C=(r=m?.Head)!==null&&r!==void 0?r:E4,w=(s=m?.Row)!==null&&s!==void 0?s:l5,E=(a=m?.Footer)!==null&&a!==void 0?a:b4;return e.jsxs("table",{id:t.id,className:d.table,style:f.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!g&&e.jsx(C,{}),e.jsx("tbody",{className:d.tbody,style:f.tbody,children:N.map(function(S){return e.jsx(w,{displayMonth:t.displayMonth,dates:S.dates,weekNumber:S.weekNumber},S.weekNumber)})}),e.jsx(E,{displayMonth:t.displayMonth})]})}function u5(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var f5=u5()?v.useLayoutEffect:v.useEffect,ku=!1,h5=0;function cx(){return"react-day-picker-".concat(++h5)}function p5(t){var r,s=t??(ku?cx():null),a=v.useState(s),i=a[0],c=a[1];return f5(function(){i===null&&c(cx())},[]),v.useEffect(function(){ku===!1&&(ku=!0)},[]),(r=t??i)!==null&&r!==void 0?r:void 0}function m5(t){var r,s,a=Ze(),i=a.dir,c=a.classNames,d=a.styles,f=a.components,g=ei().displayMonths,p=p5(a.id?"".concat(a.id,"-").concat(t.displayIndex):void 0),m=a.id?"".concat(a.id,"-grid-").concat(t.displayIndex):void 0,u=[c.month],y=d.month,b=t.displayIndex===0,N=t.displayIndex===g.length-1,C=!b&&!N;i==="rtl"&&(r=[b,N],N=r[0],b=r[1]),b&&(u.push(c.caption_start),y=Re(Re({},y),d.caption_start)),N&&(u.push(c.caption_end),y=Re(Re({},y),d.caption_end)),C&&(u.push(c.caption_between),y=Re(Re({},y),d.caption_between));var w=(s=f?.Caption)!==null&&s!==void 0?s:w4;return e.jsxs("div",{className:u.join(" "),style:y,children:[e.jsx(w,{id:p,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(d5,{id:m,"aria-labelledby":p,displayMonth:t.displayMonth})]},t.displayIndex)}function g5(t){var r=Ze(),s=r.classNames,a=r.styles;return e.jsx("div",{className:s.months,style:a.months,children:t.children})}function x5(t){var r,s,a=t.initialProps,i=Ze(),c=Zf(),d=ei(),f=v.useState(!1),g=f[0],p=f[1];v.useEffect(function(){i.initialFocus&&c.focusTarget&&(g||(c.focus(c.focusTarget),p(!0)))},[i.initialFocus,g,c.focus,c.focusTarget,c]);var m=[i.classNames.root,i.className];i.numberOfMonths>1&&m.push(i.classNames.multiple_months),i.showWeekNumber&&m.push(i.classNames.with_weeknumber);var u=Re(Re({},i.styles.root),i.style),y=Object.keys(a).filter(function(N){return N.startsWith("data-")}).reduce(function(N,C){var w;return Re(Re({},N),(w={},w[C]=a[C],w))},{}),b=(s=(r=a.components)===null||r===void 0?void 0:r.Months)!==null&&s!==void 0?s:g5;return e.jsx("div",Re({className:m.join(" "),style:u,dir:i.dir,id:i.id,nonce:a.nonce,title:a.title,lang:a.lang},y,{children:e.jsx(b,{children:d.displayMonths.map(function(N,C){return e.jsx(m5,{displayIndex:C,displayMonth:N},C)})})}))}function v5(t){var r=t.children,s=WR(t,["children"]);return e.jsx(i4,{initialProps:s,children:e.jsx(x4,{children:e.jsx(X4,{initialProps:s,children:e.jsx(_4,{initialProps:s,children:e.jsx(D4,{initialProps:s,children:e.jsx(L4,{children:e.jsx(Q4,{children:r})})})})})})})}function y5(t){return e.jsx(v5,Re({},t,{children:e.jsx(x5,{initialProps:t})}))}function Dn({className:t,classNames:r,showOutsideDays:s=!0,...a}){return e.jsx(y5,{showOutsideDays:s,className:Te("p-3",t),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:Te(Lu({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:Te("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",a.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:Te(Lu({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...r},components:{IconLeft:({className:i,...c})=>e.jsx(GC,{className:Te("size-4",i),...c}),IconRight:({className:i,...c})=>e.jsx(QC,{className:Te("size-4",i),...c})},...a})}const ps="http://127.0.0.1:8000/api",Vo=()=>localStorage.getItem("access_token"),j5=async t=>{const r=Vo(),s=await fetch(`${ps}/essais/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)});if(!s.ok){const a=await s.json();throw new Error(a.detail||"Erreur lors de la cration de l'essai")}return s.json()},Fu=async(t,r)=>{const s=Vo(),a=await fetch(`${ps}/essais/${t}/`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(r)});if(!a.ok){const i=await a.json();throw new Error(i.detail||"Erreur lors de la mise  jour de l'essai")}return a.json()},w5=async(t,r,s)=>{const a=Vo();if(s){const i=new FormData;r.resultats&&i.append("resultats",JSON.stringify(r.resultats)),r.operateur&&i.append("operateur",r.operateur),r.commentaires&&i.append("commentaires",r.commentaires),i.append("fichier",s);const c=await fetch(`${ps}/essais/${t}/update_resultats/`,{method:"POST",headers:{Authorization:`Bearer ${a}`},body:i});if(!c.ok){const d=await c.json();throw new Error(d.detail||"Erreur lors de la mise  jour des rsultats")}return c.json()}else{const i=await fetch(`${ps}/essais/${t}/update_resultats/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(r)});if(!i.ok){const c=await i.json();throw new Error(c.detail||"Erreur lors de la mise  jour des rsultats")}return i.json()}},b5=async(t,r)=>{const s=Vo(),a=await fetch(`${ps}/essais/${t}/demarrer/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(r)});if(!a.ok){const i=await a.json();throw new Error(i.detail||"Erreur lors du dmarrage de l'essai")}return a.json()},C5=async(t,r,s)=>{const a=Vo();if(s){const i=new FormData;r.date_fin&&i.append("date_fin",r.date_fin),r.resultats&&i.append("resultats",JSON.stringify(r.resultats)),r.commentaires&&i.append("commentaires",r.commentaires),r.statut_validation&&i.append("statut_validation",r.statut_validation),i.append("fichier",s);const c=await fetch(`${ps}/essais/${t}/terminer/`,{method:"POST",headers:{Authorization:`Bearer ${a}`},body:i});if(!c.ok){const d=await c.json();throw new Error(d.detail||"Erreur lors de la fin de l'essai")}return c.json()}else{const i=await fetch(`${ps}/essais/${t}/terminer/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(r)});if(!i.ok){const c=await i.json();throw new Error(c.detail||"Erreur lors de la fin de l'essai")}return i.json()}},Ls=async t=>{const r=Vo(),s=await fetch(`${ps}/echantillons/${t}/essais/`,{headers:{Authorization:`Bearer ${r}`}});if(!s.ok)throw new Error("Erreur lors de la rcupration des essais de l'chantillon");return s.json()},Gt=t=>{if(!t)return"-";try{const r=typeof t=="string"?new Date(t):t;return isNaN(r.getTime())?"-":r.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"-"}};function N5(){const{addNotification:t}=gs(),[r,s]=v.useState([]),[a,i]=v.useState(!0),[c,d]=v.useState(null),[f,g]=v.useState({}),[p,m]=v.useState([]),[u,y]=v.useState("normale"),[b,N]=v.useState({}),[C,w]=v.useState({}),[E,S]=v.useState({}),[k,R]=v.useState({}),[T,D]=v.useState({}),[P,I]=v.useState({}),V=async()=>{try{i(!0);const H=(await OR("stockage")).map(U=>({...U,id:U.id,code:U.code,clientCode:U.client_code||"",nature:U.nature,profondeurDebut:U.profondeur_debut.toString(),profondeurFin:U.profondeur_fin.toString(),sondage:U.sondage,nappe:U.nappe||"",qrCode:U.qr_code,photo:U.photo,dateReception:U.date_reception,statut:U.statut,priorite:U.priorite,chefProjet:U.chef_projet||"",essais:U.essais_types||[]}));s(H);const B={},F={},ee=new Date;ee.setHours(0,0,0,0);for(const U of H){const M=await Ls(U.id);console.log(` chantillon ${U.code}, essais:`,M),M.forEach(K=>{if(K.date_reception){console.log(` Essai ${K.type} a date_reception:`,K.date_reception);const re=new Date(K.date_reception);re.setHours(0,0,0,0);const se=`${U.code}_${K.type}`;F[se]=re,re<=ee?(B[se]=!0,console.log(` Essai ${K.type} marqu comme envoy`)):console.log(` Essai ${K.type} en attente (date future)`)}})}console.log(" Dates charges:",F),D(B)}catch(z){console.error("Erreur chargement chantillons:",z),te.error("Erreur lors du chargement des chantillons")}finally{i(!1)}};v.useEffect(()=>{V()},[]),v.useEffect(()=>{const z=setInterval(async()=>{const H=new Date;for(const B of r)if(B.essais.filter(ee=>{const U=f[ee],M=P[ee];return U&&U<=H&&!M}).length===B.essais.length&&B.essais.length>0)try{await ox(B.id,"essais"),te.success(`chantillon ${B.code} envoy automatiquement`),s(ee=>ee.filter(U=>U.id!==B.id)),c===B.code&&d(null)}catch(ee){console.error("Erreur envoi auto:",ee)}c||V()},3e4);return()=>clearInterval(z)},[c,r,f,P]);const Y=r.find(z=>z.code===c),J=async(z,H,B=!1)=>{if(console.log(" handleDateEnvoiEssaiChange:",z,H),g(F=>({...F,[z]:H})),H&&Y){const F=Nu(Ie(H,"yyyy-MM-dd"),[z],u);N(U=>({...U,[z]:F}));try{const M=(await Ls(Y.id)).find(K=>K.type===z);if(console.log(" Essai trouv:",M),M){const K=Ie(H,"yyyy-MM-dd");console.log(" Sauvegarde date:",K,"pour essai ID:",M.id),await Fu(M.id,{date_reception:K}),console.log(" Date sauvegarde avec succs")}}catch(U){console.error(" Erreur sauvegarde date:",U)}if(!P[z]&&!B){const U=new Date,M=new Date(U.getFullYear(),U.getMonth(),U.getDate());new Date(H.getFullYear(),H.getMonth(),H.getDate())<=M&&(console.log(" Envoi automatique de l'essai",z),te.info(`Envoi automatique de ${z} dans 2 secondes...`),setTimeout(async()=>{await ne(z)},2e3))}}},ue=async(z,H)=>{if(H>5){te.error("Maximum 5 jours de retard autoriss");return}if(S(B=>({...B,[z]:H})),I(B=>({...B,[z]:!0})),Y){const B=k[z];if(B){const F=new Date(B);F.setDate(F.getDate()+H),await J(z,F,!0)}try{const ee=(await Ls(Y.id)).find(U=>U.type===z);if(ee&&B){const U=new Date(B);U.setDate(U.getDate()+H),await Fu(ee.id,{date_reception:Ie(U,"yyyy-MM-dd")})}te.success(`Date ${z} mise  jour`)}catch(F){console.error("Erreur sauvegarde:",F),te.error("Erreur lors de la sauvegarde")}}},Q=z=>{y(z),Object.entries(f).forEach(([H,B])=>{if(B&&Y){const F=Nu(Ie(B,"yyyy-MM-dd"),[H],z);N(ee=>({...ee,[H]:F}))}})},ne=async(z,H=!1)=>{const B=f[z];if(b[z],!c||!B){te.error("Veuillez slectionner une date d'envoi");return}const F=r.find(se=>se.code===c);if(!F)return;const U=Ie(new Date,"yyyy-MM-dd");try{const se=await fetch(`http://127.0.0.1:8000/api/capacites/check/?type_essai=${z}&date=${U}`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}});if(se.ok&&!(await se.json()).disponible){te.error("Capacit atteinte",{description:`Le laboratoire a atteint sa capacit pour ${z} le ${Gt(U)}. Veuillez choisir une autre date.`});return}}catch(se){console.warn("Impossible de vrifier la capacit, envoi autoris:",se)}try{const he=(await Ls(F.id)).find(be=>be.type===z);if(he)await Fu(he.id,{date_reception:U}),H||te.success(`Essai ${z} envoy`,{description:`Date d'envoi: ${Gt(U)}`});else{te.error(`Essai ${z} non trouv`);return}u!==F.priorite&&await Q0(F.id,{priorite:u})}catch(se){console.error("Erreur lors de la planification:",se),te.error("Erreur lors de la planification de l'essai");return}const M=`${F.code}_${z}`,K={...T,[M]:!0};if(D(K),F.essais.every(se=>K[`${F.code}_${se}`]))try{await ox(F.id,"essais"),te.success(`chantillon ${c} envoy`,{description:"Tous les essais ont t planifis"}),t({type:"info",title:"Nouvel chantillon en attente",message:`L'chantillon ${c} a t envoy aux laboratoires pour les essais: ${F.essais.join(", ")}`,userRole:"operateur_route",module:"Stockage",actionRequired:!0}),t({type:"info",title:"Nouvel chantillon en attente",message:`L'chantillon ${c} a t envoy aux laboratoires pour les essais: ${F.essais.join(", ")}`,userRole:"operateur_mecanique",module:"Stockage",actionRequired:!0}),t({type:"success",title:"chantillon envoy aux labos",message:`L'chantillon ${c} (${F.essais.join(", ")}) a t envoy aux laboratoires`,userRole:"responsable_materiaux",module:"Stockage"}),s(se=>se.filter(he=>he.id!==F.id)),d(null),g({}),m([]),y("normale"),N({}),D({})}catch(se){console.error("Erreur changement statut:",se),te.error("Erreur lors du changement de statut")}else{const se=["AG","Proctor","CBR"].includes(z)?"operateur_route":"operateur_mecanique";t({type:"info",title:`Nouvel essai ${z} planifi`,message:`L'essai ${z} pour l'chantillon ${c} est planifi pour le ${Gt(U)}`,userRole:se,module:"Stockage",actionRequired:!0})}};return e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{children:"Module Stockage"}),e.jsx("p",{style:{color:"#A9A9A9"},children:"Gestion et planification des essais"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(Ce,{children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(Ee,{children:"chantillons en stockage"}),e.jsxs(He,{children:[r.length," chantillon(s) en attente d'envoi"]})]}),e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>window.location.reload(),children:[e.jsx(TN,{className:"h-4 w-4"}),"Actualiser"]})]})}),e.jsx(Se,{children:e.jsx("div",{className:"space-y-3",children:a?e.jsx("p",{style:{color:"#A9A9A9"},children:"Chargement..."}):r.length===0?e.jsx("p",{style:{color:"#A9A9A9"},children:"Aucun chantillon en stockage"}):r.map(z=>e.jsx("div",{className:`p-4 rounded-lg cursor-pointer transition-colors ${c===z.code?"ring-2":""}`,style:{backgroundColor:"#F5F5F5"},onClick:()=>{c!==z.code&&(d(z.code),m([]),N({}),S({}),I({}),(async()=>{const B=await Ls(z.id),F={},ee={};B.forEach(U=>{if(U.date_reception){const M=new Date(U.date_reception);F[U.type]=M,ee[U.type]=M,console.log(` Charg date pour ${U.type}:`,M)}}),g(F),R(ee),Object.entries(F).forEach(([U,M])=>{const K=Nu(Ie(M,"yyyy-MM-dd"),[U],u);N(re=>({...re,[U]:K}))})})())},children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{children:z.code}),z.priorite==="urgente"&&e.jsxs(Z,{style:{backgroundColor:"#DC3545",color:"#FFFFFF"},children:[e.jsx(av,{className:"h-3 w-3 mr-1"}),"Urgent"]})]}),e.jsxs("p",{className:"text-sm",style:{color:"#A9A9A9"},children:[z.nature," - ",z.profondeurDebut||z.profondeur_debut,"m  ",z.profondeurFin||z.profondeur_fin,"m"]}),e.jsx("div",{className:"flex gap-2 mt-2",children:z.essais.map(H=>e.jsx(Z,{variant:"outline",style:T[`${z.code}_${H}`]?{backgroundColor:"#28A745",color:"#FFFFFF",borderColor:"#28A745"}:{},children:H},H))}),e.jsxs("p",{className:"text-xs mt-2",style:{color:"#A9A9A9"},children:["Chef projet: ",z.chefProjet||z.chef_projet||"-"]}),C[z.code]&&e.jsx("div",{className:"mt-2 p-2 rounded",style:{backgroundColor:"#E3F2FD",color:"#003366"},children:e.jsxs("p",{className:"text-xs font-medium",children:[" ",C[z.code].message]})})]}),e.jsxs("div",{className:"text-xs text-right",style:{color:"#A9A9A9"},children:[e.jsx("p",{children:"Reu le"}),e.jsx("p",{children:Gt(z.dateReception||z.date_reception)})]})]})},z.id))})})]})}),e.jsx("div",{children:e.jsxs(Ce,{children:[e.jsxs(Ne,{children:[e.jsx(Ee,{children:"Planification"}),e.jsx(He,{children:c?`Envoi ${c}`:"Slectionnez un chantillon"})]}),e.jsxs(Se,{className:"space-y-4",children:[Y&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Priorit *"}),e.jsxs(ln,{value:u,onValueChange:z=>Q(z),children:[e.jsx(dn,{children:e.jsx(cn,{})}),e.jsxs(un,{children:[e.jsx(Be,{value:"normale",children:"Normale"}),e.jsx(Be,{value:"urgente",children:"Urgente"})]})]})]}),Y.essais.filter(z=>!T[`${Y.code}_${z}`]).map(z=>e.jsxs("div",{className:"space-y-3 p-4 rounded-lg border",style:{backgroundColor:["AG","Proctor","CBR"].includes(z)?"#F8F9FA":"#FFF3CD"},children:[e.jsx("h4",{className:"font-semibold text-sm",children:z}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(L,{children:["Date d'envoi ",z," *"]}),e.jsxs(_n,{children:[e.jsx(kn,{asChild:!0,children:e.jsxs(X,{variant:"outline",className:"w-full justify-start text-left",children:[e.jsx(Sn,{className:"mr-2 h-4 w-4"}),f[z]?Ie(f[z],"PPP",{locale:Qt}):e.jsx("span",{children:"Slectionner une date"})]})}),e.jsx(Fn,{className:"w-auto p-0",children:e.jsx(Dn,{mode:"single",selected:f[z],onSelect:H=>J(z,H),initialFocus:!0})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(L,{children:["Ajuster la date d'envoi ",z]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{const H=E[z]||0;ue(z,H-1)},className:"flex-1",children:" Acclrer"}),e.jsx("span",{className:"text-sm font-semibold px-2",children:E[z]===0||!E[z]?"Suggr":E[z]>0?`+${E[z]}j`:`${E[z]}j`}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{const H=E[z]||0;ue(z,H+1)},className:"flex-1",children:" Retarder"})]})]}),b[z]&&e.jsxs("div",{className:"p-2 rounded",style:{backgroundColor:["AG","Proctor","CBR"].includes(z)?"#E3F2FD":"#F8D7DA"},children:[e.jsxs(L,{className:"text-xs",children:["Date retour ",z," estime"]}),e.jsx("p",{className:"font-semibold text-sm",style:{color:["AG","Proctor","CBR"].includes(z)?"#003366":"#721C24"},children:Ie(new Date(b[z]),"PPP",{locale:Qt})})]}),(()=>{const H=f[z];if(!H)return null;const B=new Date;B.setHours(0,0,0,0);const F=new Date(H);F.setHours(0,0,0,0);const ee=F.getTime()===B.getTime(),U=F<B,M=E[z]||0;return M>0?null:M<0||ee||U?e.jsxs(X,{className:"w-full",onClick:()=>ne(z),style:{backgroundColor:"#28A745"},children:[e.jsx(Fr,{className:"h-4 w-4 mr-2"})," Envoyer maintenant ",z]}):null})()]},z))]}),!Y&&e.jsx("div",{className:"text-center py-8",style:{color:"#A9A9A9"},children:"Slectionnez un chantillon pour planifier l'envoi"})]})]})})]})]})}const Xt=Mv,E5=Ov,ij=v.forwardRef(({className:t,...r},s)=>e.jsx(yf,{ref:s,className:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",...r}));ij.displayName=yf.displayName;const It=v.forwardRef(({className:t,children:r,...s},a)=>e.jsxs(E5,{children:[e.jsx(ij,{}),e.jsxs(jf,{ref:a,className:`fixed left-[50%] top-[50%] z-50 grid translate-x-[-50%] translate-y-[-50%] gap-4 border bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg ${t||"w-full max-w-lg"}`,...s,children:[r,e.jsxs(Iv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 data-[state=open]:text-slate-500",children:[e.jsx(Do,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));It.displayName=jf.displayName;const Lt=({className:t,...r})=>e.jsx("div",{className:"flex flex-col space-y-1.5 text-center sm:text-left",...r});Lt.displayName="DialogHeader";const $t=v.forwardRef(({className:t,...r},s)=>e.jsx(wf,{ref:s,className:"text-lg font-semibold leading-none tracking-tight",...r}));$t.displayName=wf.displayName;const Gn=v.forwardRef(({className:t,...r},s)=>e.jsx(bf,{ref:s,className:"text-sm text-slate-500",...r}));Gn.displayName=bf.displayName;const dr=v.forwardRef(({className:t,...r},s)=>e.jsx("textarea",{className:"flex min-h-[80px] w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",ref:s,...r}));dr.displayName="Textarea";const Cl="http://127.0.0.1:8000/api",Nl=()=>({Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}),Bn={async getByEchantillon(t){try{const r=`${Cl}/echantillons/${t}/essais/`;console.log("Fetching essais from:",r);const s=await fetch(r,{headers:Nl()});if(!s.ok)throw new Error("Erreur API");const a=await s.json();return console.log("Essais reus:",a.length||a.results?.length||0),a.results||a}catch(r){return console.error("Erreur getByEchantillon:",r),[]}},async create(t){try{const r=await fetch(`${Cl}/essais/`,{method:"POST",headers:Nl(),body:JSON.stringify(t)});if(!r.ok)throw new Error("Erreur cration");return await r.json()}catch(r){return console.error("Erreur create:",r),null}},async update(t,r){try{const s=await fetch(`${Cl}/essais/${t}/`,{method:"PATCH",headers:Nl(),body:JSON.stringify(r)});if(!s.ok)throw new Error("Erreur mise  jour");return await s.json()}catch(s){return console.error("Erreur update:",s),null}},async getByStatus(t){try{const r=await fetch(`${Cl}/essais/?statut=${t}`,{headers:Nl()});if(!r.ok)throw new Error("Erreur API");const s=await r.json();return s.results||s}catch(r){return console.error("Erreur getByStatus:",r),[]}}};function S5(){const[t,r]=v.useState([]),[s,a]=v.useState(!0),[i,c]=v.useState(null),d=async()=>{a(!0);try{const f=await Yf();console.log("Tous les chantillons:",f.length);const g=[],p=new Set;for(const m of f){if(p.has(m.id))continue;p.add(m.id),console.log(`chantillon ${m.code} - Statut: ${m.statut}`);const u=await Bn.getByEchantillon(m.id);console.log(` TOUS LES ESSAIS pour ${m.code}:`),u.forEach(b=>{console.log(`   - ${b.type}: statut="${b.statut}", validation="${b.statut_validation||"null"}", date_rejet="${b.date_rejet||"null"}"`)});const y=u.filter(b=>b.statut==="termine"||b.statut_validation==="rejected");console.log(` ESSAIS  AFFICHER pour ${m.code}: ${y.length}/${u.length}`),y.forEach(b=>{console.log(`    ${b.type} (statut: ${b.statut}, validation: ${b.statut_validation||"pending"})`)}),y.length>0&&g.push({id:m.id,code:m.code,nature:m.nature,dateReception:m.date_reception,essais:y,totalEssais:(m.essais_types||[]).length,statut:m.statut})}console.log("chantillons avec essais termins:",g.length),g.sort((m,u)=>{const y=f.find(N=>N.id===m.id)?.updated_at||m.dateReception,b=f.find(N=>N.id===u.id)?.updated_at||u.dateReception;return new Date(y).getTime()-new Date(b).getTime()}),r(g)}catch(f){console.error("Erreur:",f),te.error("Erreur lors du chargement")}finally{a(!1)}};return v.useEffect(()=>{d()},[]),e.jsxs("div",{className:"p-8 bg-background",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{children:"Module Dcodification"}),e.jsx("p",{style:{color:"#A9A9A9"},children:"Validation des rsultats avant traitement"})]}),e.jsxs(Ce,{children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(Ee,{children:"chantillons prts pour dcodification"}),e.jsxs(He,{children:[t.length," chantillon(s) en attente"]})]}),e.jsx(X,{onClick:d,disabled:s,children:s?"Chargement...":"Actualiser"})]})}),e.jsx(Se,{children:e.jsx("div",{className:"space-y-4",children:s?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Chargement..."})]}):t.length===0?e.jsx("div",{className:"text-center py-12",style:{color:"#A9A9A9"},children:"Aucun chantillon en attente"}):t.map(f=>{const p=f.essais.filter(y=>y.statut_validation==="accepted").length===f.totalEssais,m=p?"Prt":"Au traitement",u=p?"#28A745":"#17A2B8";return e.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#F5F5F5"},children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{children:f.code}),e.jsxs(Z,{style:{backgroundColor:u,color:"#FFFFFF"},children:[e.jsx(_t,{className:"h-3 w-3 mr-1"}),m]})]}),e.jsxs("p",{className:"text-sm mb-3",style:{color:"#A9A9A9"},children:[f.nature," - Reu le ",f.dateReception]}),e.jsx("div",{className:"flex gap-2 mb-3 flex-wrap",children:Array.from(new Set(f.essais.map(y=>y.id))).map(y=>{const b=f.essais.find(k=>k.id===y);if(!b)return null;const N=b.statut_validation||"pending",C=N==="rejected",w=N==="accepted",S=b.date_rejet&&w;return e.jsxs(Z,{style:{backgroundColor:w?"#28A745":C?"#DC3545":"#FFC107",color:"#FFFFFF",padding:"6px 12px",fontSize:"13px"},children:[b.type," ",S?"repris":w?"":C?"REJET":""]},b.id)})}),e.jsxs("p",{className:"text-xs",style:{color:"#A9A9A9"},children:[f.essais.filter(y=>y.statut_validation==="accepted").length,"/",f.totalEssais," essais valids"]})]}),e.jsxs(X,{size:"sm",variant:"outline",onClick:()=>c(f),children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Voir dtails"]})]})},f.id)})})})]}),e.jsx(Xt,{open:!!i,onOpenChange:()=>c(null),children:e.jsxs(It,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Lt,{children:[e.jsxs($t,{children:["Dtails de l'chantillon ",i?.code]}),e.jsx(Gn,{children:"Vrification des rsultats"})]}),i&&e.jsx(_5,{echantillon:i,onUpdate:d,onClose:()=>c(null)})]})})]})}function _5({echantillon:t,onUpdate:r,onClose:s}){const[a,i]=v.useState(null),[c,d]=v.useState(t.statut==="traitement"),f=t.essais.find(u=>u.id===a);if(f)return e.jsx(k5,{essai:f,echantillon:t,onBack:()=>i(null),onUpdate:r},f.id);const g=t.essais.filter(u=>u.statut_validation==="accepted").length,p=g===t.totalEssais,m=t.statut==="traitement";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(L,{children:"Code chantillon"}),e.jsx("p",{children:t.code})]}),e.jsxs("div",{children:[e.jsx(L,{children:"Nature"}),e.jsx("p",{children:t.nature})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Essais termins"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.essais.map(u=>{const y=u.statut_validation==="accepted",b=u.statut_validation==="rejected",N=u.date_rejet;return e.jsxs(X,{variant:"outline",className:"h-24 flex flex-col justify-center p-4 relative",onClick:()=>i(u.id),style:{borderColor:y?"#28A745":b?"#DC3545":"#FFC107",backgroundColor:y?"#28A745":b?"#DC3545":"#FFC10720",color:b||y?"#FFFFFF":"inherit"},children:[N&&y&&e.jsx(Z,{className:"absolute top-1 right-1 text-xs",style:{backgroundColor:"#FD7E14",color:"#FFFFFF",fontSize:"9px",padding:"2px 6px"},children:"REPRIS"}),e.jsx("span",{className:"font-semibold",children:u.type}),e.jsx("span",{className:"text-xs",style:{color:b||y?"#FFFFFF":void 0},children:b?"Rejet ":y?"Accept ":"En attente "}),N&&y&&e.jsx("span",{className:"text-xs mt-1",style:{color:"#FFFFFF",fontSize:"10px"},children:"(Corrig aprs rejet)"})]},u.id)})}),e.jsxs("p",{className:"text-sm mt-4",style:{color:p?"#28A745":"#FD7E14"},children:[g,"/",t.totalEssais," essais accepts",!p&&" - Tous les essais doivent tre accepts pour envoyer au traitement"]})]}),e.jsx("div",{className:"flex justify-end gap-3 pt-4 border-t",children:c||m?e.jsx(Z,{style:{backgroundColor:"#FD7E14",color:"#FFFFFF",padding:"8px 16px"},children:"Dj envoy au traitement"}):e.jsxs(X,{onClick:async()=>{try{(await fetch(`http://127.0.0.1:8000/api/echantillons/${t.id}/`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify({statut:"traitement"})})).ok?(d(!0),te.success(`chantillon ${t.code} envoy au traitement`),await r(),s()):te.error("Erreur lors de l'envoi")}catch{te.error("Erreur lors de l'envoi")}},disabled:!p||c||m,style:{backgroundColor:!p||c||m?"#6C757D":"#28A745",color:"#FFFFFF",opacity:!p||c||m?.5:1},children:[e.jsx(_t,{className:"h-4 w-4 mr-2"}),"Envoyer au traitement"]})})]})}function k5({essai:t,onBack:r,onUpdate:s,echantillon:a}){const[i,c]=v.useState(t.commentaires_validation||""),[d,f]=v.useState(t.statut_validation||"pending"),[g,p]=v.useState(!1),[m,u]=v.useState(null);v.useEffect(()=>{(async()=>{try{const C=await fetch("http://127.0.0.1:8000/api/users/me/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}});if(C.ok){const w=await C.json();u(w.role)}}catch(C){console.error("Erreur lors de la rcupration du rle:",C)}})()},[]);const y=m==="receptionniste",b=async N=>{if(N==="rejected"){if(!i.trim()){te.error("Veuillez indiquer le motif du rejet");return}await Bn.update(t.id,{statut_validation:N,commentaires_validation:i,date_rejet:new Date().toISOString().split("T")[0]}),te.error(`Essai ${t.type} rejet - L'oprateur doit le reprendre`)}else await Bn.update(t.id,{statut_validation:N,commentaires_validation:i}),te.success("Essai accept");f(N),await s(),N==="accepted"&&a.essais.map(E=>E.id===t.id?{...E,statut_validation:N}:E).every(E=>E.statut_validation==="accepted")&&p(!0),r()};return e.jsxs(e.Fragment,{children:[e.jsx(Xt,{open:g,onOpenChange:p,children:e.jsxs(It,{children:[e.jsxs(Lt,{children:[e.jsx($t,{children:"Envoyer au traitement"}),e.jsxs(Gn,{children:["Tous les essais de l'chantillon ",a.code," ont t valids"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{children:"Voulez-vous envoyer cet chantillon au traitement maintenant ?"}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(X,{variant:"outline",onClick:()=>{p(!1),s(),r()},children:"Plus tard"}),e.jsxs(X,{onClick:async()=>{try{(await fetch(`http://127.0.0.1:8000/api/echantillons/${a.id}/`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify({statut:"traitement"})})).ok?(te.success(`chantillon ${a.code} envoy au traitement`),p(!1),await s(),r()):te.error("Erreur lors de l'envoi")}catch{te.error("Erreur lors de l'envoi")}},style:{backgroundColor:"#28A745",color:"#FFFFFF"},children:[e.jsx(_t,{className:"h-4 w-4 mr-2"}),"Envoyer maintenant"]})]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:r,children:" Retour"}),e.jsxs("h3",{className:"font-semibold",children:["Essai ",t.type]})]}),t.date_rejet&&e.jsxs("div",{className:"p-4 rounded-lg mb-4",style:{backgroundColor:"#FFF3CD",border:"1px solid #FFC107"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(uf,{className:"h-5 w-5",style:{color:"#856404"}}),e.jsx("span",{className:"font-semibold",style:{color:"#856404"},children:"Essai repris aprs rejet"})]}),e.jsxs("p",{className:"text-sm",style:{color:"#856404"},children:["Cet essai a t rejet le ",t.date_rejet," et a t repris par l'oprateur. Les valeurs ci-dessous sont les nouvelles valeurs corriges."]}),t.commentaires_validation&&e.jsxs("div",{className:"mt-2 pt-2 border-t",style:{borderColor:"#FFC107"},children:[e.jsx("p",{className:"text-xs font-semibold",style:{color:"#856404"},children:"Motif du rejet prcdent:"}),e.jsx("p",{className:"text-xs mt-1",style:{color:"#856404"},children:t.commentaires_validation})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Statut"}),e.jsx(Z,{style:{backgroundColor:"#28A745",color:"#FFFFFF"},children:"Termin"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Oprateur"}),e.jsx("p",{children:t.operateur})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Date dbut"}),e.jsx("p",{children:t.date_debut})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Date fin"}),e.jsx("p",{children:t.date_fin})]})]}),e.jsxs("div",{className:"space-y-4",children:[console.log("Essai fichier:",t.fichier),console.log("Essai complet:",t),e.jsx("h3",{className:"font-semibold",children:"Rsultats"}),t.type==="AG"&&t.resultats&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"% passant  2mm"}),e.jsx("p",{children:t.resultats.pourcent_inf_2mm||"-"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"% passant  80m"}),e.jsx("p",{children:t.resultats.pourcent_inf_80um||"-"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Coefficient d'uniformit (Cu)"}),e.jsx("p",{children:t.resultats.coefficient_uniformite||"-"})]})]}),t.type==="Proctor"&&t.resultats&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Type Proctor"}),e.jsx("p",{children:t.resultats.type_proctor||"-"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Densit sche optimale (g/cm)"}),e.jsx("p",{children:t.resultats.densite_opt||"-"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Teneur en eau optimale (%)"}),e.jsx("p",{children:t.resultats.teneur_eau_opt||"-"})]})]}),t.type==="CBR"&&t.resultats&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"CBR  95% OPM (%)"}),e.jsx("p",{children:t.resultats.cbr_95||"-"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"CBR  98% OPM (%)"}),e.jsx("p",{children:t.resultats.cbr_98||"-"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"CBR  100% OPM (%)"}),e.jsx("p",{children:t.resultats.cbr_100||"-"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Gonflement (%)"}),e.jsx("p",{children:t.resultats.gonflement||"-"})]})]}),t.type==="Oedometre"&&t.resultats&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Indice de compression (Cc)"}),e.jsx("p",{children:t.resultats.cc||"-"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Indice de gonflement (Cs)"}),e.jsx("p",{children:t.resultats.cs||"-"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Contrainte de prconsolidation (kPa)"}),e.jsx("p",{children:t.resultats.gp||"-"})]})]}),t.type==="Cisaillement"&&t.resultats&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Cohsion (kPa)"}),e.jsx("p",{children:t.resultats.cohesion||"-"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Angle de frottement  ()"}),e.jsx("p",{children:t.resultats.phi||"-"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Commentaires"}),e.jsx("p",{children:t.commentaires||"-"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Fichier joint"}),t.fichier?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-xs",style:{color:"#6C757D"},children:["Fichier: ",t.fichier]}),!y&&e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>{const N=t.fichier.startsWith("http")?t.fichier:`http://127.0.0.1:8000${t.fichier}`;window.open(N,"_blank"),te.success("Ouverture du fichier")},children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Tlcharger le fichier"]}),y&&e.jsx("p",{className:"text-xs",style:{color:"#856404",fontStyle:"italic"},children:"Accs restreint - Seul le responsable traitement peut tlcharger les fichiers"})]}):e.jsx("p",{className:"text-sm",style:{color:"#DC3545"},children:"Aucun fichier joint"})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsx("h3",{className:"font-semibold",children:"Validation"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Commentaire de validation"}),e.jsx(dr,{value:i,onChange:N=>c(N.target.value),placeholder:"Ajouter un commentaire..."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{onClick:()=>b("accepted"),style:{backgroundColor:"#28A745",color:"#FFFFFF"},children:[e.jsx(_t,{className:"h-4 w-4 mr-2"}),"Accepter"]}),e.jsxs(X,{onClick:()=>b("rejected"),style:{backgroundColor:"#DC3545",color:"#FFFFFF"},children:[e.jsx(zs,{className:"h-4 w-4 mr-2"}),"Rejeter et renvoyer"]})]})]})]})]})}function F5(){const{addNotification:t}=gs(),[r,s]=v.useState([]),[a,i]=v.useState(!0),[c,d]=v.useState("all"),[f,g]=v.useState(""),p=async()=>{try{i(!0);const u=await fetch("http://127.0.0.1:8000/api/echantillons/with_essais_route_envoyes/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}});if(!u.ok)throw new Error("Erreur lors du chargement");const y=await u.json();if(!y||!Array.isArray(y)){console.warn("Aucun chantillon reu de l'API"),s([]);return}const b=y.map(N=>({id:N.id,code:N.code,nature:N.nature,dateReception:N.date_reception,statut:N.statut,essaisRoute:N.essais_route_envoyes||[]}));b.sort((N,C)=>{const w=new Date(N.dateReception).getTime(),E=new Date(C.dateReception).getTime();return w-E}),s(b)}catch(u){console.error("Erreur chargement chantillons:",u),te.error("Erreur lors du chargement des chantillons")}finally{i(!1)}};v.useEffect(()=>{p()},[]);const m=r.filter(u=>{const y=c==="all"||u.essaisRoute.includes(c),b=f===""||u.code.toLowerCase().includes(f.toLowerCase());return y&&b});return e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{children:"Section Route"}),e.jsxs("p",{style:{color:"#A9A9A9"},children:["Essais de laboratoire - Route (",m.length," chantillon",m.length>1?"s":"",")"]}),e.jsx("p",{className:"text-xs mt-1",style:{color:"#6C757D"},children:"Les essais termins restent visibles en lecture seule"})]}),e.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(L,{htmlFor:"filter-code",children:"Filtrer par code chantillon"}),e.jsx(ge,{id:"filter-code",value:f,onChange:u=>g(u.target.value),placeholder:"Rechercher un code...",className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(L,{htmlFor:"filter-essai",children:"Filtrer par type d'essai"}),e.jsxs(ln,{value:c,onValueChange:d,children:[e.jsx(dn,{className:"mt-2",children:e.jsx(cn,{placeholder:"Tous les essais"})}),e.jsxs(un,{children:[e.jsx(Be,{value:"all",children:"Tous les essais"}),e.jsx(Be,{value:"AG",children:"Analyse granulomtrique par tamisage"}),e.jsx(Be,{value:"CBR",children:"CBR"}),e.jsx(Be,{value:"Proctor",children:"Proctor"})]})]})]})]}),a?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Chargement des chantillons..."})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-6",children:[m.map(u=>e.jsx(D5,{echantillon:u,onUpdate:p,echantillons:m},u.id)),m.length===0&&r.length>0&&e.jsx("div",{className:"text-center py-12",style:{color:"#A9A9A9"},children:"Aucun chantillon avec l'essai slectionn"}),r.length===0&&e.jsx("div",{className:"text-center py-12",style:{color:"#A9A9A9"},children:"Aucun chantillon avec essais route"})]})})]})}function D5({echantillon:t,onUpdate:r,echantillons:s}){const[a,i]=v.useState(null),[c,d]=v.useState(!1),[f,g]=v.useState({});v.useEffect(()=>{(async()=>{try{const N=await Ls(t.id),C={};N.forEach(w=>{C[w.type]={id:w.id,statut:w.statut,statut_validation:w.statut_validation,dateDebut:w.date_debut,dateFin:w.date_fin,operateur:w.operateur,commentaires_validation:w.commentaires_validation}}),g(C)}catch(N){console.error("Erreur chargement essais:",N)}})()},[t.id]);const p=async b=>{const N=s.findIndex(C=>C.id===t.id);if(N>0){const C=s.slice(0,N);for(const w of C)if(w.essaisRoute.includes(b))try{const k=(await(await fetch(`http://127.0.0.1:8000/api/essais/?echantillon=${w.id}&type=${b}`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json()).results?.[0];if(k&&!k.date_debut){te.error(`Ordre de traitement non respect pour ${b}`,{description:`Vous devez d'abord traiter l'essai ${b} de l'chantillon ${w.code} arriv avant.`,duration:5e3});return}}catch(E){console.error("Erreur vrification ordre:",E)}}if(i(b),d(!0),!f[b])try{await j5({echantillon:t.id,type:b,section:"route",duree_estimee:b==="AG"?5:b==="Proctor"?4:5,statut:"attente"})}catch(C){console.error("Erreur cration essai:",C)}},m=b=>{const N=f[b];if(N&&N.date_reception&&!N.dateFin){const C={AG:5,Proctor:4,CBR:5},w=new Date(N.date_reception),E=new Date(w);return E.setDate(E.getDate()+C[b]),{...N,dateFinEstimee:E.toISOString().split("T")[0]}}return N||{statut:"attente",dateDebut:null,dateFin:null,dateFinEstimee:null,operateur:null}},u=b=>{switch(b){case"attente":return"#FFC107";case"en_cours":return"#003366";case"pret_envoi":return"#FD7E14";case"termine":return"#28A745";default:return"#6C757D"}},y=(b,N)=>{switch(b){case"attente":return"En attente";case"en_cours":return"En cours";case"pret_envoi":return"Prt  envoyer";case"termine":return"Termin";case"stockage":return t.statut==="urgente"?"Urgent":"Normal";default:return t.statut==="urgente"?"Urgent":"Normal"}};return e.jsxs(e.Fragment,{children:[e.jsxs(Ce,{children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(Ee,{className:"text-xl",children:t.code}),e.jsxs(He,{children:[t.nature," - Reu le ",Gt(t.dateReception)]})]}),e.jsx(Z,{style:{backgroundColor:u(t.statut),color:"#FFFFFF"},children:y(t.statut)})]})}),e.jsx(Se,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{style:{borderBottom:"2px solid #E5E7EB"},children:[e.jsx("th",{className:"text-left p-3 font-semibold",children:"Type d'essai"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Statut"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Oprateur"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Dates"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Action"})]})}),e.jsx("tbody",{children:t.essaisRoute.map(b=>{const N=m(b),{statut:C,dateDebut:w,dateFin:E,dateFinEstimee:S,operateur:k,date_reception:R}=N,T=f[b]?.statut_validation==="rejected"&&C!=="termine",D=C==="termine";return e.jsxs("tr",{style:{borderBottom:"1px solid #E5E7EB"},children:[e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:b}),T&&e.jsx(Z,{style:{backgroundColor:"#DC3545",color:"#FFFFFF",fontSize:"10px"},children:"REJET"})]})}),e.jsx("td",{className:"p-3",children:e.jsx(Z,{style:{backgroundColor:D?"#28A745":T?"#DC3545":C==="en_cours"?"#003366":"#FFC107",color:"#FFFFFF"},children:D?"Termin":T?" refaire":"En cours"})}),e.jsx("td",{className:"p-3 text-sm",style:{color:"#6C757D"},children:k||"-"}),e.jsxs("td",{className:"p-3 text-xs",style:{color:"#6C757D"},children:[R&&e.jsxs("div",{children:["Rception: ",Gt(R)]}),w&&e.jsxs("div",{children:["Dbut: ",Gt(w)]}),E&&e.jsxs("div",{children:["Fin: ",Gt(E)]}),!E&&S&&e.jsxs("div",{style:{color:"#DC3545",fontWeight:500},children:["Fin estime: ",Gt(S)]}),!R&&!w&&!E&&"-"]}),e.jsx("td",{className:"p-3",children:e.jsx(X,{variant:"outline",size:"sm",onClick:()=>p(b),children:D?"Voir":"Ouvrir"})})]},b)})})]})})})]}),e.jsx(Xt,{open:c,onOpenChange:d,children:e.jsxs(It,{className:"max-h-[90vh] overflow-y-auto",style:{backgroundColor:"#f0f0f0",width:"700px",minWidth:"700px",maxWidth:"700px"},children:[e.jsxs(Lt,{children:[e.jsxs($t,{children:["Essai ",a," - ",t.code]}),e.jsx(Gn,{children:"Fiche dtaille de l'essai"})]}),a&&e.jsx(R5,{echantillon:t,essaiType:a,onClose:()=>{d(!1),i(null),r()}})]})})]})}function R5({echantillon:t,essaiType:r,onClose:s}){const a=new Date,[i,c]=v.useState(null),[d,f]=v.useState("attente"),[g,p]=v.useState(!1),[m,u]=v.useState(""),[y,b]=v.useState({dateDebut:a,dateFin:ft(a,5),operateur:"",commentaires:"",fichier:null,fichierFile:null}),[N,C]=v.useState(!1);if(v.useEffect(()=>{(async()=>{try{const P=(await Ls(t.id)).find(I=>I.type===r);if(P){c(P),f(P.statut||"attente"),p(P.statut_validation==="rejected"),u(P.commentaires_validation||""),C(P.statut==="termine");const I=r==="AG"?5:r==="Proctor"?4:5;b({dateDebut:P.date_debut?new Date(P.date_debut):a,dateFin:P.date_fin?new Date(P.date_fin):ft(a,I),operateur:P.operateur||"",commentaires:P.commentaires||"",fichier:P.fichier||null,...P.resultats||{}})}}catch(D){console.error("Erreur chargement essai:",D)}})()},[t.id,r]),!i)return e.jsx("div",{children:"Chargement..."});const w={id:i.id,type:r,echantillonCode:t.code,statut:i.statut||"attente",dateReception:t.dateReception,dureeEstimee:r==="AG"?5:r==="Proctor"?4:5,dateDebut:i.date_debut||null,dateFin:i.date_fin||null,operateur:i.operateur||"",commentaires:i.commentaires||"",resultats:i.resultats||{}},E=T=>{b({...y,...T})},S=(T=y)=>w.type==="AG"?{pourcent_inf_2mm:T.pourcent_inf_2mm||"",pourcent_inf_80um:T.pourcent_inf_80um||"",coefficient_uniformite:T.coefficient_uniformite||""}:w.type==="Proctor"?{densite_opt:T.densite_opt||"",teneur_eau_opt:T.teneur_eau_opt||"",type_proctor:T.type_proctor||"Normal"}:w.type==="CBR"?{cbr_95:T.cbr_95||"",cbr_98:T.cbr_98||"",cbr_100:T.cbr_100||"",gonflement:T.gonflement||""}:{},k=T=>{const D=T.target.files?.[0];D&&(b(P=>({...P,fichier:D.name,fichierFile:D})),te.success(`Fichier "${D.name}" slectionn`))};return RR(w.echantillonCode).every(T=>T.statut==="termine"),e.jsxs("div",{className:"space-y-2",children:[g&&e.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"#DC354520",borderLeft:"4px solid #DC3545"},children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx(Z,{style:{backgroundColor:"#DC3545",color:"#FFFFFF"},children:"ESSAI REJET"})}),e.jsx("p",{className:"text-sm font-semibold mb-1",children:"Raison du rejet :"}),e.jsx("p",{className:"text-sm",style:{color:"#DC3545"},children:m||"Aucun commentaire"}),e.jsx("p",{className:"text-xs mt-2",style:{color:"#6C757D"},children:"Veuillez corriger et renvoyer l'essai"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(L,{className:"text-xs",children:"Statut"}),e.jsxs("div",{children:[d==="attente"&&e.jsx(Z,{className:"text-xs",style:{backgroundColor:"#FFC107",color:"#FFFFFF"},children:"Attente"}),d==="en_cours"&&!g&&e.jsx(Z,{className:"text-xs",style:{backgroundColor:"#003366",color:"#FFFFFF"},children:"En cours"}),d==="en_cours"&&g&&e.jsx(Z,{className:"text-xs",style:{backgroundColor:"#DC3545",color:"#FFFFFF"},children:" refaire"}),d==="pret_envoi"&&e.jsx(Z,{className:"text-xs",style:{backgroundColor:"#FD7E14",color:"#FFFFFF"},children:"Prt"}),d==="termine"&&e.jsx(Z,{className:"text-xs",style:{backgroundColor:"#28A745",color:"#FFFFFF"},children:"Termin"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(L,{htmlFor:"operateur",className:"text-xs",children:"Oprateur"}),e.jsx(ge,{id:"operateur",className:"text-xs h-6",value:y.operateur,onChange:T=>E({operateur:T.target.value}),placeholder:"Nom",disabled:d==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"dateDebut",children:"Date dbut *"}),e.jsxs(_n,{children:[e.jsx(kn,{asChild:!0,children:e.jsxs(X,{variant:"outline",className:"w-full justify-start text-left",disabled:d==="termine",children:[e.jsx(Sn,{className:"mr-2 h-4 w-4"}),y.dateDebut?Ie(y.dateDebut,"PPP",{locale:Qt}):e.jsx("span",{children:"Slectionner"})]})}),e.jsx(Fn,{className:"w-auto p-0",children:e.jsx(Dn,{mode:"single",selected:y.dateDebut,onSelect:T=>b({...y,dateDebut:T}),initialFocus:!0,disabled:T=>T<new Date(new Date().setHours(0,0,0,0))})})]})]}),d!=="attente"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"dateFin",children:"Date fin estime *"}),e.jsxs(_n,{children:[e.jsx(kn,{asChild:!0,children:e.jsxs(X,{variant:"outline",className:"w-full justify-start text-left",disabled:d==="termine",children:[e.jsx(Sn,{className:"mr-2 h-4 w-4"}),y.dateFin?Ie(y.dateFin,"PPP",{locale:Qt}):e.jsx("span",{children:"Slectionner"})]})}),e.jsx(Fn,{className:"w-auto p-0",children:e.jsx(Dn,{mode:"single",selected:y.dateFin,onSelect:T=>b({...y,dateFin:T}),initialFocus:!0,disabled:T=>T<(y.dateDebut||a)})})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"font-semibold",children:"Rsultats"}),w.type==="AG"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"pourcent_inf_2mm",children:"% passant  2mm *"}),e.jsx(ge,{id:"pourcent_inf_2mm",type:"number",step:"0.1",value:y.pourcent_inf_2mm||"",onChange:T=>E({pourcent_inf_2mm:T.target.value}),placeholder:"Ex: 85.5",disabled:d==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"pourcent_inf_80um",children:"% passant  80m"}),e.jsx(ge,{id:"pourcent_inf_80um",type:"number",step:"0.1",value:y.pourcent_inf_80um||"",onChange:T=>E({pourcent_inf_80um:T.target.value}),placeholder:"Ex: 45.2",disabled:d==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"coefficient_uniformite",children:"Coefficient d'uniformit (Cu)"}),e.jsx(ge,{id:"coefficient_uniformite",type:"number",step:"0.01",value:y.coefficient_uniformite||"",onChange:T=>E({coefficient_uniformite:T.target.value}),placeholder:"Ex: 6.5",disabled:d==="termine"})]})]}),w.type==="Proctor"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"type_proctor",children:"Type Proctor"}),e.jsx(ge,{id:"type_proctor",value:y.type_proctor||"Normal",onChange:T=>E({type_proctor:T.target.value}),placeholder:"Normal ou Modifi",disabled:d==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"densite_opt",children:"Densit sche optimale (g/cm) *"}),e.jsx(ge,{id:"densite_opt",type:"number",step:"0.01",value:y.densite_opt||"",onChange:T=>E({densite_opt:T.target.value}),placeholder:"Ex: 1.95",disabled:d==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"teneur_eau_opt",children:"Teneur en eau optimale (%) *"}),e.jsx(ge,{id:"teneur_eau_opt",type:"number",step:"0.1",value:y.teneur_eau_opt||"",onChange:T=>E({teneur_eau_opt:T.target.value}),placeholder:"Ex: 12.5",disabled:d==="termine"})]})]}),w.type==="CBR"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"cbr_95",children:"CBR  95% OPM (%) *"}),e.jsx(ge,{id:"cbr_95",type:"number",value:y.cbr_95||"",onChange:T=>E({cbr_95:T.target.value}),placeholder:"Ex: 45",disabled:d==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"cbr_98",children:"CBR  98% OPM (%)"}),e.jsx(ge,{id:"cbr_98",type:"number",value:y.cbr_98||"",onChange:T=>E({cbr_98:T.target.value}),placeholder:"Ex: 65",disabled:d==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"cbr_100",children:"CBR  100% OPM (%)"}),e.jsx(ge,{id:"cbr_100",type:"number",value:y.cbr_100||"",onChange:T=>E({cbr_100:T.target.value}),placeholder:"Ex: 85",disabled:d==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"gonflement",children:"Gonflement (%)"}),e.jsx(ge,{id:"gonflement",type:"number",step:"0.01",value:y.gonflement||"",onChange:T=>E({gonflement:T.target.value}),placeholder:"Ex: 0.5",disabled:d==="termine"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"commentaires",children:"Commentaires et observations"}),e.jsx(dr,{id:"commentaires",value:y.commentaires,onChange:T=>E({commentaires:T.target.value}),placeholder:"Observations et remarques sur l'essai...",rows:3,disabled:d==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Fichier Excel *"}),e.jsx("input",{type:"file",id:"file-upload",onChange:k,style:{display:"none"},disabled:d==="termine"}),e.jsxs(X,{type:"button",variant:"outline",size:"sm",onClick:()=>document.getElementById("file-upload")?.click(),disabled:d==="termine",children:[e.jsx(Fo,{className:"h-4 w-4 mr-2"}),y.fichier?"Changer le fichier":"Slectionner un fichier"]}),y.fichier&&e.jsxs("p",{className:"text-xs mt-1",style:{color:"#28A745"},children:[" ",y.fichier]}),e.jsx("p",{className:"text-xs",style:{color:"#A9A9A9"},children:"Formats recommands: .xlsx, .xls"})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[d==="termine"&&e.jsx("div",{className:"w-full text-center py-3",children:e.jsx(Z,{style:{backgroundColor:"#28A745",color:"#FFFFFF",fontSize:"14px",padding:"8px 16px"},children:" Essai termin et envoy  la dcodification"})}),y.fichier&&d!=="termine"&&e.jsxs(X,{onClick:async()=>{const T=S();if(!Object.values(T).some(P=>P!=="")){te.error("Veuillez saisir les rsultats avant d'envoyer");return}try{const P=S();d==="attente"&&await b5(w.id,{date_debut:y.dateDebut?Ie(y.dateDebut,"yyyy-MM-dd"):Ie(a,"yyyy-MM-dd"),operateur:y.operateur}),console.log("Fichier  envoyer:",y.fichierFile),await C5(w.id,{date_fin:y.dateFin?Ie(y.dateFin,"yyyy-MM-dd"):Ie(a,"yyyy-MM-dd"),resultats:P,commentaires:y.commentaires,statut_validation:"pending"},y.fichierFile),await Q0(t.id,{statut:"decodification"}),te.success(` Essai ${w.type} ${g?"renvoy":"envoy"}  la dcodification`,{duration:3e3}),f("termine"),s(),setTimeout(()=>{window.location.reload()},2e3)}catch(P){console.error("Erreur:",P),te.error("Erreur lors de l'envoi")}},style:{backgroundColor:"#28A745"},children:[e.jsx(Fr,{className:"h-4 w-4 mr-2"}),"Envoyer pour dcodification"]}),N&&e.jsx("div",{className:"text-center py-2",children:e.jsx(Z,{style:{backgroundColor:"#28A745",color:"#FFFFFF"},children:" Envoy  la dcodification"})})]})]})}function P5(){const{addNotification:t}=gs(),[r,s]=v.useState([]),[a,i]=v.useState(!0),[c,d]=v.useState("all"),[f,g]=v.useState(""),p=async()=>{try{i(!0);const u=await fetch("http://127.0.0.1:8000/api/echantillons/with_essais_meca_envoyes/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}});if(!u.ok)throw new Error("Erreur lors du chargement");const y=await u.json();if(!y||!Array.isArray(y)){console.warn("Aucun chantillon reu de l'API"),s([]);return}const b=y.map(N=>({id:N.id,code:N.code,nature:N.nature,dateReception:N.date_reception,statut:N.statut,essaisRoute:N.essais_meca_envoyes||[]}));b.sort((N,C)=>{const w=new Date(N.dateReception).getTime(),E=new Date(C.dateReception).getTime();return w-E}),s(b)}catch(u){console.error("Erreur chargement chantillons:",u),te.error("Erreur lors du chargement des chantillons")}finally{i(!1)}};v.useEffect(()=>{p()},[]);const m=r.filter(u=>{const y=c==="all"||u.essaisRoute.includes(c),b=f===""||u.code.toLowerCase().includes(f.toLowerCase());return y&&b});return e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{children:"Section Mcanique des Sols"}),e.jsxs("p",{style:{color:"#A9A9A9"},children:["Essais de laboratoire - Mcanique (",m.length," chantillon",m.length>1?"s":""," affich",m.length>1?"s":"",")"]})]}),e.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(L,{htmlFor:"filter-code",children:"Filtrer par code chantillon"}),e.jsx(ge,{id:"filter-code",value:f,onChange:u=>g(u.target.value),placeholder:"Rechercher un code...",className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(L,{htmlFor:"filter-essai",children:"Filtrer par type d'essai"}),e.jsxs(ln,{value:c,onValueChange:d,children:[e.jsx(dn,{className:"mt-2",children:e.jsx(cn,{placeholder:"Tous les essais"})}),e.jsxs(un,{children:[e.jsx(Be,{value:"all",children:"Tous les essais"}),e.jsx(Be,{value:"Oedometre",children:"Essai domtrique"}),e.jsx(Be,{value:"Cisaillement",children:"Essai de cisaillement direct"})]})]})]})]}),a?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Chargement des chantillons..."})]}):e.jsxs("div",{className:"space-y-6",children:[m.map(u=>e.jsx(A5,{echantillon:u,onUpdate:p,echantillons:m},`${u.id}-${u.code}`)),m.length===0&&r.length>0&&e.jsx("div",{className:"text-center py-12",style:{color:"#A9A9A9"},children:"Aucun chantillon avec l'essai slectionn"}),r.length===0&&e.jsx("div",{className:"text-center py-12",style:{color:"#A9A9A9"},children:"Aucun chantillon avec essais mcaniques"})]})]})}function A5({echantillon:t,onUpdate:r,echantillons:s}){const[a,i]=v.useState(null),[c,d]=v.useState(!1),[f,g]=v.useState({}),[p,m]=v.useState(0);v.useEffect(()=>{let C=!0;return(async()=>{const E={},S=await Bn.getByEchantillon(t.id);for(const k of t.essaisRoute){const R=S.find(T=>T.type===k);R?E[k]={id:R.id,type:R.type,statut:R.statut||"attente",statut_validation:R.statut_validation,date_debut:R.date_debut,date_fin:R.date_fin,operateur:R.operateur,resultats:R.resultats,commentaires:R.commentaires,date_reception:R.date_reception}:E[k]={type:k,statut:"attente"}}C&&g(E)})(),()=>{C=!1}},[t.id,p]);const u=async C=>{const w=s.findIndex(E=>E.id===t.id);if(w>0){const E=s.slice(0,w);for(const S of E)if(S.essaisRoute.includes(C))try{const T=(await(await fetch(`http://127.0.0.1:8000/api/essais/?echantillon=${S.id}&type=${C}`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json()).results?.[0];if(T&&!T.date_debut){te.error(`Ordre de traitement non respect pour ${C}`,{description:`Vous devez d'abord traiter l'essai ${C} de l'chantillon ${S.code} arriv avant.`,duration:5e3});return}}catch(k){console.error("Erreur vrification ordre:",k)}}i(C),d(!0)},y=C=>{const w=f[C];return w?{statut:w.statut,dateDebut:w.date_debut,dateFin:w.date_fin,dateReception:w.date_reception,operateur:w.operateur}:{statut:"attente",dateDebut:null,dateFin:null,dateReception:null,operateur:null}},b=C=>{switch(C){case"attente":return"#FFC107";case"en_cours":return"#003366";case"pret_envoi":return"#FD7E14";case"termine":return"#28A745";default:return"#6C757D"}},N=(C,w)=>{switch(C){case"attente":return"En attente";case"en_cours":return"En cours";case"pret_envoi":return"Prt  envoyer";case"termine":return"Termin";case"stockage":return t.statut==="urgente"?"Urgent":"Normal";default:return t.statut==="urgente"?"Urgent":"Normal"}};return e.jsxs(e.Fragment,{children:[e.jsxs(Ce,{children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(Ee,{className:"text-xl",children:t.code}),e.jsxs(He,{children:[t.nature," - Reu le ",Gt(t.dateReception)]})]}),e.jsx(Z,{style:{backgroundColor:b(t.statut),color:"#FFFFFF"},children:N(t.statut)})]})}),e.jsx(Se,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{style:{borderBottom:"2px solid #E5E7EB"},children:[e.jsx("th",{className:"text-left p-3 font-semibold",children:"Type d'essai"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Statut"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Oprateur"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Dates"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Action"})]})}),e.jsx("tbody",{children:t.essaisRoute.map(C=>{const w=y(C),{statut:E,dateDebut:S,dateFin:k,dateReception:R,operateur:T}=w,P=f[C]?.statut_validation==="rejected",I=E==="termine"&&!P,V=R!=null;return e.jsxs("tr",{style:{borderBottom:"1px solid #E5E7EB"},children:[e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:C}),P&&e.jsx(Z,{style:{backgroundColor:"#DC3545",color:"#FFFFFF",fontSize:"10px"},children:"REJET"})]})}),e.jsx("td",{className:"p-3",children:e.jsx(Z,{style:{backgroundColor:P?"#DC3545":I?"#28A745":V?"#FFC107":"#17A2B8",color:"#FFFFFF"},children:P?" refaire":I?"Termin":V?"En cours":"Stockage"})}),e.jsx("td",{className:"p-3 text-sm",style:{color:"#6C757D"},children:T||"-"}),e.jsxs("td",{className:"p-3 text-xs",style:{color:"#6C757D"},children:[S&&e.jsxs("div",{children:["Dbut: ",Gt(S)]}),k&&e.jsxs("div",{children:["Fin: ",Gt(k)]}),!S&&!k&&"-"]}),e.jsx("td",{className:"p-3",children:e.jsx(X,{variant:"outline",size:"sm",onClick:()=>u(C),children:"Ouvrir"})})]},C)})})]})})})]}),e.jsx(Xt,{open:c,onOpenChange:d,children:e.jsxs(It,{className:"max-h-[90vh] overflow-y-auto",style:{backgroundColor:"#f0f0f0",width:"700px",minWidth:"700px",maxWidth:"700px"},children:[e.jsxs(Lt,{children:[e.jsxs($t,{children:["Essai ",a," - ",t.code]}),e.jsx(Gn,{children:"Fiche dtaille de l'essai"})]}),a&&e.jsx(T5,{echantillon:t,essaiType:a,onClose:()=>{d(!1),i(null),m(C=>C+1)}})]})})]})}function T5({echantillon:t,essaiType:r,onClose:s}){const[a,i]=v.useState(null),[c,d]=v.useState(!0),f=new Date,g=(E,S)=>ft(E,S),[p,m]=v.useState({dateDebut:f,dateFin:g(f,r==="Oedometre"?18:8),operateur:"",commentaires:"",fichier:null,fichierFile:null,cc:"",cs:"",gp:"",cohesion:"",phi:""});if(v.useEffect(()=>{(async()=>{const k=(await Bn.getByEchantillon(t.id)).find(R=>R.type===r);if(k)i(k),m({dateDebut:k.date_debut?new Date(k.date_debut):f,dateFin:k.date_fin?new Date(k.date_fin):g(f,r==="Oedometre"?18:8),operateur:k.operateur||"",commentaires:k.commentaires||"",fichier:null,...k.resultats||{}});else{const R=await Bn.create({echantillon:t.id,type:r,section:"mecanique",statut:"attente",duree_estimee:r==="Oedometre"?18:8});i(R)}d(!1)})()},[t.id,r]),c||!a)return e.jsx("div",{className:"text-center py-8",children:"Chargement..."});const u={id:a.id,type:r,echantillonCode:t.code,statut:a.statut||"attente",dateReception:t.dateReception,dateDebut:a.date_debut||null,dateFin:a.date_fin||null,operateur:a.operateur||"",commentaires:a.commentaires||"",resultats:a.resultats||{}},y=async E=>{const S={...p,...E};m(S),await Bn.update(u.id,{operateur:S.operateur,commentaires:S.commentaires,resultats:b(S)})},b=(E=p)=>u.type==="Oedometre"?{cc:E.cc||"",cs:E.cs||"",gp:E.gp||""}:u.type==="Cisaillement"?{cohesion:E.cohesion||"",phi:E.phi||""}:{},N=async E=>{const S=E.target.files?.[0];S&&(m(k=>({...k,fichier:S.name,fichierFile:S})),te.success(`Fichier "${S.name}" slectionn`))},C=a.statut_validation==="rejected",w=a.commentaires_validation;return e.jsxs("div",{className:"space-y-2",children:[C&&e.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"#DC354520",borderLeft:"4px solid #DC3545"},children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx(Z,{style:{backgroundColor:"#DC3545",color:"#FFFFFF"},children:"ESSAI REJET"})}),e.jsx("p",{className:"text-sm font-semibold mb-1",children:"Raison du rejet :"}),e.jsx("p",{className:"text-sm",style:{color:"#DC3545"},children:w||"Aucun commentaire"}),e.jsx("p",{className:"text-xs mt-2",style:{color:"#6C757D"},children:"Veuillez corriger et renvoyer l'essai"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(L,{className:"text-xs",children:"Statut"}),e.jsxs("div",{children:[u.statut==="attente"&&e.jsx(Z,{className:"text-xs",style:{backgroundColor:"#FFC107",color:"#FFFFFF"},children:"En attente"}),u.statut==="en_cours"&&!C&&e.jsx(Z,{className:"text-xs",style:{backgroundColor:"#003366",color:"#FFFFFF"},children:"En cours"}),u.statut==="en_cours"&&C&&e.jsx(Z,{className:"text-xs",style:{backgroundColor:"#DC3545",color:"#FFFFFF"},children:" refaire"}),u.statut==="pret_envoi"&&e.jsx(Z,{className:"text-xs",style:{backgroundColor:"#FD7E14",color:"#FFFFFF"},children:"Prt"}),u.statut==="termine"&&e.jsx(Z,{className:"text-xs",style:{backgroundColor:"#28A745",color:"#FFFFFF"},children:"Termin"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(L,{htmlFor:"operateur",className:"text-xs",children:"Oprateur"}),e.jsx(ge,{id:"operateur",className:"text-xs h-6",value:p.operateur,onChange:E=>y({operateur:E.target.value}),placeholder:"Nom",disabled:u.statut==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"dateDebut",children:"Date dbut *"}),e.jsxs(_n,{children:[e.jsx(kn,{asChild:!0,children:e.jsxs(X,{variant:"outline",className:"w-full justify-start text-left",disabled:u.statut==="termine",children:[e.jsx(Sn,{className:"mr-2 h-4 w-4"}),p.dateDebut?Ie(p.dateDebut,"PPP",{locale:Qt}):e.jsx("span",{children:"Slectionner"})]})}),e.jsx(Fn,{className:"w-auto p-0",children:e.jsx(Dn,{mode:"single",selected:p.dateDebut,onSelect:E=>m({...p,dateDebut:E}),initialFocus:!0,disabled:E=>E<new Date(new Date().setHours(0,0,0,0))})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"dateFin",children:"Date fin estime"}),e.jsxs(_n,{children:[e.jsx(kn,{asChild:!0,children:e.jsxs(X,{variant:"outline",className:"w-full justify-start text-left",disabled:u.statut==="termine",children:[e.jsx(Sn,{className:"mr-2 h-4 w-4"}),p.dateFin?Ie(p.dateFin,"PPP",{locale:Qt}):e.jsx("span",{children:"Slectionner"})]})}),e.jsx(Fn,{className:"w-auto p-0",children:e.jsx(Dn,{mode:"single",selected:p.dateFin,onSelect:E=>m({...p,dateFin:E}),initialFocus:!0,disabled:E=>E<(p.dateDebut||f)})})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"Rsultats"}),u.type==="Oedometre"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"cc",children:"Indice de compression (Cc)"}),e.jsx(ge,{id:"cc",type:"number",step:"0.001",value:p.cc||"",onChange:E=>y({cc:E.target.value}),placeholder:"Ex: 0.245",disabled:u.statut==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"cs",children:"Indice de gonflement (Cs)"}),e.jsx(ge,{id:"cs",type:"number",step:"0.001",value:p.cs||"",onChange:E=>y({cs:E.target.value}),placeholder:"Ex: 0.045",disabled:u.statut==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"gp",children:"Contrainte de prconsolidation (kPa)"}),e.jsx(ge,{id:"gp",type:"number",value:p.gp||"",onChange:E=>y({gp:E.target.value}),placeholder:"Ex: 150",disabled:u.statut==="termine"})]})]}),u.type==="Cisaillement"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"cohesion",children:"Cohsion (kPa)"}),e.jsx(ge,{id:"cohesion",type:"number",value:p.cohesion||"",onChange:E=>y({cohesion:E.target.value}),placeholder:"Ex: 25",disabled:u.statut==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"phi",children:"Angle de frottement  ()"}),e.jsx(ge,{id:"phi",type:"number",step:"0.1",value:p.phi||"",onChange:E=>y({phi:E.target.value}),placeholder:"Ex: 28.5",disabled:u.statut==="termine"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"commentaires",children:"Commentaires"}),e.jsx(dr,{id:"commentaires",value:p.commentaires,onChange:E=>y({commentaires:E.target.value}),placeholder:"Observations et remarques",rows:3,disabled:u.statut==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Fichier Excel *"}),e.jsx("input",{type:"file",id:"file-upload",onChange:N,style:{display:"none"},disabled:u.statut==="termine"}),e.jsxs(X,{type:"button",variant:"outline",size:"sm",onClick:()=>document.getElementById("file-upload")?.click(),disabled:u.statut==="termine",children:[e.jsx(Fo,{className:"h-4 w-4 mr-2"}),p.fichier?"Changer le fichier":"Slectionner un fichier"]}),p.fichier&&e.jsxs("p",{className:"text-xs mt-1",style:{color:"#28A745"},children:[" ",p.fichier]}),e.jsx("p",{className:"text-xs",style:{color:"#A9A9A9"},children:"Formats recommands: .xlsx, .xls"})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[(u.statut==="attente"||u.statut==="en_cours")&&(()=>{const E=b();return Object.values(E).some(R=>R!=="")&&p.fichier?e.jsx(X,{onClick:async()=>{const R=b();u.statut==="attente"&&await Bn.update(u.id,{statut:"en_cours",date_debut:Ie(p.dateDebut,"yyyy-MM-dd"),operateur:p.operateur}),p.fichierFile&&await w5(u.id,{resultats:R,commentaires:p.commentaires,operateur:p.operateur},p.fichierFile),await Bn.update(u.id,{statut:"termine",statut_validation:"pending",date_fin:Ie(p.dateFin||new Date,"yyyy-MM-dd"),resultats:R,commentaires:p.commentaires,operateur:p.operateur}),await fetch(`http://127.0.0.1:8000/api/echantillons/${t.id}/`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify({statut:"decodification"})}),te.success(`Essai ${u.type} ${C?"renvoy":"envoy"}  la dcodification`),s()},style:{backgroundColor:"#28A745"},children:C?"Renvoyer  la dcodification":"Envoyer  la dcodification"}):null})(),u.statut==="termine"&&!C&&e.jsx("div",{className:"text-center py-2",children:e.jsx(Z,{style:{backgroundColor:"#28A745",color:"#FFFFFF"},children:" Envoy  la dcodification"})})]})]})}function M5(){const{addNotification:t}=gs(),[r,s]=v.useState([]),a=async()=>{try{const i=await Yf(),c=[];for(const d of i){const g=(await Bn.getByEchantillon(d.id)).filter(p=>p.date_rejet&&(p.type==="AG"||p.type==="Proctor"||p.type==="CBR"));for(const p of g){const m=p.type==="AG"?5:p.type==="Proctor"?4:p.type==="CBR"?5:p.type==="Oedometre"?18:8;c.push({id:p.id,type:p.type,echantillonId:d.id,echantillonCode:d.code,statut:p.statut,dateReception:p.date_reception,dateDebut:p.date_debut,dateFin:p.date_fin,dateRejet:p.date_rejet,operateur:p.operateur,dureeEstimee:m,commentaires:p.commentaires,resultats:p.resultats||{},commentairesValidation:p.commentaires_validation})}}s(c)}catch(i){console.error("Erreur chargement essais rejets:",i),te.error("Erreur lors du chargement")}};return v.useEffect(()=>{a()},[]),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{children:"Essais Rejets - Traabilit Indlbile"}),e.jsx("p",{style:{color:"#A9A9A9"},children:"Historique permanent de tous les essais ayant t rejets - Traabilit complte"}),e.jsx("div",{className:"mt-2 p-3 rounded-lg",style:{backgroundColor:"#FFF3CD",border:"1px solid #FFEAA7"},children:e.jsx("p",{className:"text-sm font-semibold",style:{color:"#856404"},children:" Cette interface maintient la trace indlbile de tous les essais rejets, mme aprs correction et acceptation."})})]}),e.jsxs("div",{className:"space-y-8",children:[r.filter(i=>i.type==="AG").length>0&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Analyse granulomtrique par tamisage (",r.filter(i=>i.type==="AG").length,")"]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:r.filter(i=>i.type==="AG").map(i=>e.jsx(Du,{essai:i,onUpdate:a},i.id))})]}),r.filter(i=>i.type==="CBR").length>0&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["CBR (",r.filter(i=>i.type==="CBR").length,")"]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:r.filter(i=>i.type==="CBR").map(i=>e.jsx(Du,{essai:i,onUpdate:a},i.id))})]}),r.filter(i=>i.type==="Proctor").length>0&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Proctor (",r.filter(i=>i.type==="Proctor").length,")"]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:r.filter(i=>i.type==="Proctor").map(i=>e.jsx(Du,{essai:i,onUpdate:a},i.id))})]}),r.length===0&&e.jsx("div",{className:"text-center py-12",style:{color:"#A9A9A9"},children:"Aucun essai rejet  afficher"})]})]})}function Du({essai:t,onUpdate:r}){const[s,a]=v.useState(!1),i=()=>{a(!0)};return e.jsxs(e.Fragment,{children:[e.jsxs(Ce,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:i,children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(Ee,{className:"text-base",children:t.type}),e.jsxs(He,{children:["Code: ",t.echantillonCode]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs(Z,{style:{backgroundColor:"#DC3545",color:"#FFFFFF"},children:["Rejet le ",t.dateRejet]}),t.statut==="attente"&&t.statut_validation==="rejected"&&e.jsx(Z,{style:{backgroundColor:"#FFC107",color:"#FFFFFF"},children:"En attente"}),t.statut==="en_cours"&&e.jsx(Z,{style:{backgroundColor:"#003366",color:"#FFFFFF"},children:"En cours"}),t.statut==="termine"&&t.statut_validation==="accepted"&&e.jsx(Z,{style:{backgroundColor:"#28A745",color:"#FFFFFF"},children:"Accept"}),t.statut==="termine"&&t.statut_validation!=="accepted"&&e.jsx(Z,{style:{backgroundColor:"#FD7E14",color:"#FFFFFF"},children:"Termin"})]})]})}),e.jsx(Se,{children:e.jsxs("div",{className:"space-y-2 text-sm",children:[t.dateReception&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#A9A9A9"},children:"Rception:"}),e.jsx("span",{children:t.dateReception})]}),t.dateDebut&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#A9A9A9"},children:"Dbut:"}),e.jsx("span",{children:t.dateDebut})]}),t.dateFin&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#A9A9A9"},children:"Fin:"}),e.jsx("span",{children:t.dateFin})]}),t.operateur&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#A9A9A9"},children:"Oprateur:"}),e.jsx("span",{children:t.operateur})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#A9A9A9"},children:"Dure estime:"}),e.jsxs("span",{children:[t.dureeEstimee," jours"]})]}),t.commentairesValidation&&e.jsxs("div",{className:"mt-2 p-2 rounded",style:{backgroundColor:"#FFF5F5",border:"1px solid #FED7D7"},children:[e.jsx("span",{className:"text-xs font-semibold",style:{color:"#DC3545"},children:"Motif de rejet:"}),e.jsx("p",{className:"text-xs mt-1",style:{color:"#DC3545"},children:t.commentairesValidation})]})]})})]}),e.jsx(Xt,{open:s,onOpenChange:a,children:e.jsxs(It,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Lt,{children:[e.jsxs($t,{children:["Essai Rejet ",t.type," - ",t.echantillonCode]}),e.jsx(Gn,{children:"Modification des valeurs et re-tlchargement des documents"})]}),e.jsx(O5,{essai:t,onClose:()=>{a(!1),r()}})]})})]})}function O5({essai:t,onClose:r}){const s=new Date,a=(u,y)=>ft(u,y),[i,c]=v.useState({dateReception:t.dateReception?new Date(t.dateReception):s,dateDebut:t.dateDebut?new Date(t.dateDebut):s,dateFin:t.dateFin?new Date(t.dateFin):a(s,t.dureeEstimee),dateRejet:t.dateRejet?new Date(t.dateRejet):s,operateur:t.operateur||"Jean Dupont",commentaires:t.commentaires||"Essai corrig suite au rejet lors de la dcodification.",pourcent_inf_2mm:t.resultats?.pourcent_inf_2mm||"",pourcent_inf_80um:t.resultats?.pourcent_inf_80um||"",coefficient_uniformite:t.resultats?.coefficient_uniformite||"",type_proctor:t.resultats?.type_proctor||"Normal",densite_opt:t.resultats?.densite_opt||"",teneur_eau_opt:t.resultats?.teneur_eau_opt||"",cbr_95:t.resultats?.cbr_95||"",cbr_98:t.resultats?.cbr_98||"",cbr_100:t.resultats?.cbr_100||"",gonflement:t.resultats?.gonflement||""}),[d,f]=v.useState(!1);v.useEffect(()=>{if(!t.dateReception){const u=Ie(s,"yyyy-MM-dd");updateEssai(t.id,{dateReception:u})}},[t.dateReception,t.id,s]),v.useEffect(()=>{if(i.dateDebut&&t.statut==="attente"){const u=a(i.dateDebut,t.dureeEstimee);c(y=>({...y,dateFin:u}))}},[i.dateDebut,t.dureeEstimee,t.statut]);const g=async()=>{if(!i.dateDebut){te.error("Veuillez saisir la date de dbut");return}try{(await fetch(`http://127.0.0.1:8000/api/essais/${t.id}/`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify({statut:"en_cours",date_debut:Ie(i.dateDebut,"yyyy-MM-dd"),date_fin:Ie(i.dateFin,"yyyy-MM-dd"),operateur:i.operateur,resultats:m(),commentaires:i.commentaires,date_rejet:null})})).ok?(te.success("Essai corrig et renvoy  la dcodification"),r()):te.error("Erreur lors de la correction")}catch{te.error("Erreur de connexion")}},p=async()=>{if(!i.dateFin){te.error("Veuillez saisir la date de fin");return}try{(await fetch(`http://127.0.0.1:8000/api/essais/${t.id}/`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify({statut:"termine",date_fin:Ie(i.dateFin,"yyyy-MM-dd"),resultats:m(),commentaires:i.commentaires,statut_validation:null,commentaires_validation:null})})).ok?(te.success("Correction termine - chantillon renvoy  la dcodification"),r()):te.error("Erreur lors de la correction")}catch{te.error("Erreur de connexion")}},m=()=>t.type==="AG"?{pourcent_inf_2mm:i.pourcent_inf_2mm||"",pourcent_inf_80um:i.pourcent_inf_80um||"",coefficient_uniformite:i.coefficient_uniformite||""}:t.type==="Proctor"?{densite_opt:i.densite_opt||"",teneur_eau_opt:i.teneur_eau_opt||"",type_proctor:i.type_proctor||"Normal"}:t.type==="CBR"?{cbr_95:i.cbr_95||"",cbr_98:i.cbr_98||"",cbr_100:i.cbr_100||"",gonflement:i.gonflement||""}:{};return e.jsxs("div",{className:"space-y-6",children:[t.commentairesValidation&&e.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#FFF5F5",border:"1px solid #FED7D7"},children:[e.jsx("h3",{className:"font-semibold text-sm",style:{color:"#DC3545"},children:"Motif de rejet"}),e.jsx("p",{className:"text-sm mt-1",style:{color:"#DC3545"},children:t.commentairesValidation})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"dateReception",children:"Date rception *"}),e.jsxs(_n,{children:[e.jsx(kn,{asChild:!0,children:e.jsxs(X,{variant:"outline",className:"w-full justify-start text-left",disabled:t.statut==="termine",children:[e.jsx(Sn,{className:"mr-2 h-4 w-4"}),i.dateReception?Ie(i.dateReception,"PPP",{locale:Qt}):e.jsx("span",{children:"Slectionner"})]})}),e.jsx(Fn,{className:"w-auto p-0",children:e.jsx(Dn,{mode:"single",selected:i.dateReception,onSelect:u=>u&&c({...i,dateReception:u}),initialFocus:!0,disabled:u=>u>s})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Date rejet"}),e.jsx(ge,{value:t.dateRejet||Ie(s,"yyyy-MM-dd"),disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Traabilit (Historique indlbile)"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs(Z,{style:{backgroundColor:"#DC3545",color:"#FFFFFF"},children:["REJET LE ",t.dateRejet," - TRACE PERMANENTE"]}),e.jsxs("div",{children:[t.statut==="attente"&&t.statut_validation==="rejected"&&e.jsx(Z,{style:{backgroundColor:"#FFC107",color:"#FFFFFF"},children:"Statut actuel: En attente de correction"}),t.statut==="en_cours"&&e.jsx(Z,{style:{backgroundColor:"#003366",color:"#FFFFFF"},children:"Statut actuel: Correction en cours"}),t.statut==="termine"&&t.statut_validation==="accepted"&&e.jsx(Z,{style:{backgroundColor:"#28A745",color:"#FFFFFF"},children:"Statut actuel: Corrig et accept"}),t.statut==="termine"&&t.statut_validation!=="accepted"&&e.jsx(Z,{style:{backgroundColor:"#FD7E14",color:"#FFFFFF"},children:"Statut actuel: Corrig, en attente validation"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"operateur",children:"Oprateur *"}),e.jsx(ge,{id:"operateur",value:i.operateur,onChange:u=>c({...i,operateur:u.target.value}),placeholder:"Nom de l'oprateur",disabled:t.statut==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Dure estime"}),e.jsx(ge,{value:`${t.dureeEstimee} jours`,disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"dateDebut",children:"Date dbut *"}),e.jsxs(_n,{children:[e.jsx(kn,{asChild:!0,children:e.jsxs(X,{variant:"outline",className:"w-full justify-start text-left",disabled:t.statut==="termine",children:[e.jsx(Sn,{className:"mr-2 h-4 w-4"}),i.dateDebut?Ie(i.dateDebut,"PPP",{locale:Qt}):e.jsx("span",{children:"Slectionner"})]})}),e.jsx(Fn,{className:"w-auto p-0",children:e.jsx(Dn,{mode:"single",selected:i.dateDebut,onSelect:u=>u&&c({...i,dateDebut:u}),initialFocus:!0,disabled:u=>u<new Date(new Date().setHours(0,0,0,0))})})]})]}),t.statut!=="attente"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"dateFin",children:"Date fin estime *"}),e.jsxs(_n,{children:[e.jsx(kn,{asChild:!0,children:e.jsxs(X,{variant:"outline",className:"w-full justify-start text-left",disabled:t.statut==="termine",children:[e.jsx(Sn,{className:"mr-2 h-4 w-4"}),i.dateFin?Ie(i.dateFin,"PPP",{locale:Qt}):e.jsx("span",{children:"Slectionner"})]})}),e.jsx(Fn,{className:"w-auto p-0",children:e.jsx(Dn,{mode:"single",selected:i.dateFin,onSelect:u=>u&&c({...i,dateFin:u}),initialFocus:!0,disabled:u=>u<(i.dateDebut||s)})})]})]}),t.statut==="attente"&&i.dateDebut&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Date fin estime (calcule)"}),e.jsx(ge,{value:Ie(i.dateFin||a(i.dateDebut,t.dureeEstimee),"PPP",{locale:Qt}),disabled:!0}),e.jsxs("p",{className:"text-xs",style:{color:"#A9A9A9"},children:["Calcule automatiquement: dbut + ",t.dureeEstimee," jours"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"Rsultats (Modification autorise)"}),t.type==="AG"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"pourcent_inf_2mm",children:"% passant  2mm *"}),e.jsx(ge,{id:"pourcent_inf_2mm",type:"number",step:"0.1",value:i.pourcent_inf_2mm||"",onChange:u=>c({...i,pourcent_inf_2mm:u.target.value}),placeholder:"Ex: 85.5",disabled:t.statut==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"pourcent_inf_80um",children:"% passant  80m"}),e.jsx(ge,{id:"pourcent_inf_80um",type:"number",step:"0.1",value:i.pourcent_inf_80um||"",onChange:u=>c({...i,pourcent_inf_80um:u.target.value}),placeholder:"Ex: 45.2",disabled:t.statut==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"coefficient_uniformite",children:"Coefficient d'uniformit (Cu)"}),e.jsx(ge,{id:"coefficient_uniformite",type:"number",step:"0.01",value:i.coefficient_uniformite||"",onChange:u=>c({...i,coefficient_uniformite:u.target.value}),placeholder:"Ex: 6.5",disabled:t.statut==="termine"})]})]}),t.type==="Proctor"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"type_proctor",children:"Type Proctor"}),e.jsx(ge,{id:"type_proctor",value:i.type_proctor||"Normal",onChange:u=>c({...i,type_proctor:u.target.value}),placeholder:"Normal ou Modifi",disabled:t.statut==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"densite_opt",children:"Densit sche optimale (g/cm) *"}),e.jsx(ge,{id:"densite_opt",type:"number",step:"0.01",value:i.densite_opt||"",onChange:u=>c({...i,densite_opt:u.target.value}),placeholder:"Ex: 1.95",disabled:t.statut==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"teneur_eau_opt",children:"Teneur en eau optimale (%) *"}),e.jsx(ge,{id:"teneur_eau_opt",type:"number",step:"0.1",value:i.teneur_eau_opt||"",onChange:u=>c({...i,teneur_eau_opt:u.target.value}),placeholder:"Ex: 12.5",disabled:t.statut==="termine"})]})]}),t.type==="CBR"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"cbr_95",children:"CBR  95% OPM (%) *"}),e.jsx(ge,{id:"cbr_95",type:"number",value:i.cbr_95||"",onChange:u=>c({...i,cbr_95:u.target.value}),placeholder:"Ex: 45",disabled:t.statut==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"cbr_98",children:"CBR  98% OPM (%)"}),e.jsx(ge,{id:"cbr_98",type:"number",value:i.cbr_98||"",onChange:u=>c({...i,cbr_98:u.target.value}),placeholder:"Ex: 65",disabled:t.statut==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"cbr_100",children:"CBR  100% OPM (%)"}),e.jsx(ge,{id:"cbr_100",type:"number",value:i.cbr_100||"",onChange:u=>c({...i,cbr_100:u.target.value}),placeholder:"Ex: 85",disabled:t.statut==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"gonflement",children:"Gonflement (%)"}),e.jsx(ge,{id:"gonflement",type:"number",step:"0.01",value:i.gonflement||"",onChange:u=>c({...i,gonflement:u.target.value}),placeholder:"Ex: 0.5",disabled:t.statut==="termine"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"commentaires",children:"Commentaires et observations"}),e.jsx(dr,{id:"commentaires",value:i.commentaires,onChange:u=>c({...i,commentaires:u.target.value}),placeholder:"Observations et remarques sur l'essai...",rows:3,disabled:t.statut==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Nouveau fichier (Word/Excel)"}),e.jsxs("div",{children:[e.jsx("input",{type:"file",id:"new-file-upload",accept:".docx,.xlsx,.pdf",onChange:u=>{u.target.files?.[0]&&(f(!0),te.success("Nouveau fichier slectionn"))},style:{display:"none"},disabled:t.statut==="termine"}),e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>document.getElementById("new-file-upload")?.click(),disabled:t.statut==="termine",children:[e.jsx(Fo,{className:"h-4 w-4 mr-2"}),"Charger un nouveau fichier"]})]}),e.jsx("p",{className:"text-xs",style:{color:"#A9A9A9"},children:"Formats accepts: .docx, .xlsx - Remplace le fichier prcdent"})]})]}),t.statut!=="attente"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"Rsultats (Modification autorise)"}),t.type==="AG"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"pourcent_inf_2mm",children:"% passant  2mm *"}),e.jsx(ge,{id:"pourcent_inf_2mm",type:"number",step:"0.1",value:i.pourcent_inf_2mm||"",onChange:u=>c({...i,pourcent_inf_2mm:u.target.value}),placeholder:"Ex: 85.5",disabled:t.statut==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"pourcent_inf_80um",children:"% passant  80m"}),e.jsx(ge,{id:"pourcent_inf_80um",type:"number",step:"0.1",value:i.pourcent_inf_80um||"",onChange:u=>c({...i,pourcent_inf_80um:u.target.value}),placeholder:"Ex: 45.2",disabled:t.statut==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"coefficient_uniformite",children:"Coefficient d'uniformit (Cu)"}),e.jsx(ge,{id:"coefficient_uniformite",type:"number",step:"0.01",value:i.coefficient_uniformite||"",onChange:u=>c({...i,coefficient_uniformite:u.target.value}),placeholder:"Ex: 6.5",disabled:t.statut==="termine"})]})]}),t.type==="Proctor"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"type_proctor",children:"Type Proctor"}),e.jsx(ge,{id:"type_proctor",value:i.type_proctor||"Normal",onChange:u=>c({...i,type_proctor:u.target.value}),placeholder:"Normal ou Modifi",disabled:t.statut==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"densite_opt",children:"Densit sche optimale (g/cm) *"}),e.jsx(ge,{id:"densite_opt",type:"number",step:"0.01",value:i.densite_opt||"",onChange:u=>c({...i,densite_opt:u.target.value}),placeholder:"Ex: 1.95",disabled:t.statut==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"teneur_eau_opt",children:"Teneur en eau optimale (%) *"}),e.jsx(ge,{id:"teneur_eau_opt",type:"number",step:"0.1",value:i.teneur_eau_opt||"",onChange:u=>c({...i,teneur_eau_opt:u.target.value}),placeholder:"Ex: 12.5",disabled:t.statut==="termine"})]})]}),t.type==="CBR"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"cbr_95",children:"CBR  95% OPM (%) *"}),e.jsx(ge,{id:"cbr_95",type:"number",value:i.cbr_95||"",onChange:u=>c({...i,cbr_95:u.target.value}),placeholder:"Ex: 45",disabled:t.statut==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"cbr_98",children:"CBR  98% OPM (%)"}),e.jsx(ge,{id:"cbr_98",type:"number",value:i.cbr_98||"",onChange:u=>c({...i,cbr_98:u.target.value}),placeholder:"Ex: 65",disabled:t.statut==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"cbr_100",children:"CBR  100% OPM (%)"}),e.jsx(ge,{id:"cbr_100",type:"number",value:i.cbr_100||"",onChange:u=>c({...i,cbr_100:u.target.value}),placeholder:"Ex: 85",disabled:t.statut==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"gonflement",children:"Gonflement (%)"}),e.jsx(ge,{id:"gonflement",type:"number",step:"0.01",value:i.gonflement||"",onChange:u=>c({...i,gonflement:u.target.value}),placeholder:"Ex: 0.5",disabled:t.statut==="termine"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"commentaires",children:"Commentaires et observations"}),e.jsx(dr,{id:"commentaires",value:i.commentaires,onChange:u=>c({...i,commentaires:u.target.value}),placeholder:"Observations et remarques sur l'essai...",rows:3,disabled:t.statut==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Re-tlchargement des fichiers (Word/Excel)"}),e.jsxs(X,{variant:"outline",size:"sm",disabled:t.statut==="termine",children:[e.jsx(Fo,{className:"h-4 w-4 mr-2"}),"Importer un nouveau fichier"]}),e.jsx("p",{className:"text-xs",style:{color:"#A9A9A9"},children:"Formats accepts: .docx, .xlsx - Remplace les fichiers prcdents"}),t.fichiers&&t.fichiers.length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-xs font-semibold",children:"Fichiers actuels:"}),t.fichiers.map((u,y)=>e.jsxs(Z,{variant:"outline",className:"mr-2",children:[e.jsx(Je,{className:"h-3 w-3 mr-1"}),u]},y))]})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[t.statut==="attente"&&d&&e.jsxs(X,{onClick:g,disabled:!i.operateur||!i.dateDebut,style:{backgroundColor:"#003366"},children:[e.jsx(Fr,{className:"h-4 w-4 mr-2"}),"Envoyer  la dcodification"]}),t.statut==="en_cours"&&i.dateFin&&e.jsxs(X,{onClick:p,style:{backgroundColor:"#28A745"},children:[e.jsx(_t,{className:"h-4 w-4 mr-2"}),"Terminer et corriger"]}),t.statut==="termine"&&e.jsxs(X,{onClick:p,style:{backgroundColor:"#28A745"},children:[e.jsx(Fr,{className:"h-4 w-4 mr-2"}),"Renvoyer  la dcodification"]})]})]})}function I5(){const{addNotification:t}=gs(),[r,s]=v.useState([]),a=async()=>{try{const i=await Yf(),c=[];for(const d of i){const g=(await Bn.getByEchantillon(d.id)).filter(p=>p.date_rejet&&(p.type==="Oedometre"||p.type==="Cisaillement"));for(const p of g)c.push({id:p.id,type:p.type,echantillonId:d.id,echantillonCode:d.code,statut:p.statut,statut_validation:p.statut_validation,dateReception:p.date_reception,dateDebut:p.date_debut,dateFin:p.date_fin,dateRejet:p.date_rejet,operateur:p.operateur,dureeEstimee:p.type==="Oedometre"?18:8,commentaires:p.commentaires,resultats:p.resultats||{},commentairesValidation:p.commentaires_validation})}s(c)}catch(i){console.error("Erreur chargement essais rejets:",i),te.error("Erreur lors du chargement")}};return v.useEffect(()=>{a()},[]),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{children:"Essais Rejets - Mcanique - Traabilit Indlbile"}),e.jsx("p",{style:{color:"#A9A9A9"},children:"Historique permanent de tous les essais mcaniques ayant t rejets - Traabilit complte"}),e.jsx("div",{className:"mt-2 p-3 rounded-lg",style:{backgroundColor:"#FFF3CD",border:"1px solid #FFEAA7"},children:e.jsx("p",{className:"text-sm font-semibold",style:{color:"#856404"},children:" Cette interface maintient la trace indlbile de tous les essais rejets, mme aprs correction et acceptation."})})]}),e.jsxs("div",{className:"space-y-8",children:[r.filter(i=>i.type==="Oedometre").length>0&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Essai domtrique (",r.filter(i=>i.type==="Oedometre").length,")"]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:r.filter(i=>i.type==="Oedometre").map(i=>e.jsx(dx,{essai:i,onUpdate:a},i.id))})]}),r.filter(i=>i.type==="Cisaillement").length>0&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Essai de cisaillement direct (",r.filter(i=>i.type==="Cisaillement").length,")"]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:r.filter(i=>i.type==="Cisaillement").map(i=>e.jsx(dx,{essai:i,onUpdate:a},i.id))})]}),r.length===0&&e.jsx("div",{className:"text-center py-12",style:{color:"#A9A9A9"},children:"Aucun essai mcanique rejet  afficher"})]})]})}function dx({essai:t,onUpdate:r}){const[s,a]=v.useState(!1),i=()=>{a(!0)};return e.jsxs(e.Fragment,{children:[e.jsxs(Ce,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:i,children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(Ee,{className:"text-base",children:t.type}),e.jsxs(He,{children:["Code: ",t.echantillonCode]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs(Z,{style:{backgroundColor:"#DC3545",color:"#FFFFFF"},children:["Rejet le ",t.dateRejet]}),t.statut==="attente"&&e.jsx(Z,{style:{backgroundColor:"#FFC107",color:"#FFFFFF"},children:"En attente"}),t.statut==="en_cours"&&e.jsx(Z,{style:{backgroundColor:"#003366",color:"#FFFFFF"},children:"En cours"}),t.statut==="termine"&&t.statut_validation==="accepted"&&e.jsx(Z,{style:{backgroundColor:"#28A745",color:"#FFFFFF"},children:"Accept"}),t.statut==="termine"&&t.statut_validation!=="accepted"&&e.jsx(Z,{style:{backgroundColor:"#FD7E14",color:"#FFFFFF"},children:"Termin"})]})]})}),e.jsx(Se,{children:e.jsxs("div",{className:"space-y-2 text-sm",children:[t.dateReception&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#A9A9A9"},children:"Rception:"}),e.jsx("span",{children:t.dateReception})]}),t.dateDebut&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#A9A9A9"},children:"Dbut:"}),e.jsx("span",{children:t.dateDebut})]}),t.dateFin&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#A9A9A9"},children:"Fin:"}),e.jsx("span",{children:t.dateFin})]}),t.operateur&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#A9A9A9"},children:"Oprateur:"}),e.jsx("span",{children:t.operateur})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{color:"#A9A9A9"},children:"Dure estime:"}),e.jsxs("span",{children:[t.dureeEstimee," jours"]})]}),t.commentairesValidation&&e.jsxs("div",{className:"mt-2 p-2 rounded",style:{backgroundColor:"#FFF5F5",border:"1px solid #FED7D7"},children:[e.jsx("span",{className:"text-xs font-semibold",style:{color:"#DC3545"},children:"Motif de rejet:"}),e.jsx("p",{className:"text-xs mt-1",style:{color:"#DC3545"},children:t.commentairesValidation})]})]})})]}),e.jsx(Xt,{open:s,onOpenChange:a,children:e.jsxs(It,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Lt,{children:[e.jsxs($t,{children:["Essai Rejet ",t.type," - ",t.echantillonCode]}),e.jsx(Gn,{children:"Modification des valeurs et re-tlchargement des documents"})]}),e.jsx(L5,{essai:t,onClose:()=>{a(!1),r()}})]})})]})}function L5({essai:t,onClose:r}){const s=new Date,a=(m,u)=>ft(m,u),[i,c]=v.useState({dateReception:t.dateReception?new Date(t.dateReception):s,dateDebut:t.dateDebut?new Date(t.dateDebut):s,dateFin:t.dateFin?new Date(t.dateFin):a(s,t.dureeEstimee),dateRejet:t.dateRejet?new Date(t.dateRejet):s,operateur:t.operateur||"Jean Dupont",commentaires:t.commentaires||"Essai corrig suite au rejet lors de la dcodification.",cc:t.resultats?.cc||"",cs:t.resultats?.cs||"",gp:t.resultats?.gp||"",cohesion:t.resultats?.cohesion||"",phi:t.resultats?.phi||""}),[d,f]=v.useState(!1),g=async()=>{if(!i.operateur||!i.dateDebut){te.error("Veuillez saisir l'oprateur et la date de dbut");return}try{(await fetch(`http://127.0.0.1:8000/api/essais/${t.id}/`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify({statut:"en_cours",date_debut:Ie(i.dateDebut,"yyyy-MM-dd"),date_fin:Ie(i.dateFin,"yyyy-MM-dd"),operateur:i.operateur,resultats:p(),commentaires:i.commentaires,date_rejet:null})})).ok?(te.success("Essai corrig et renvoy  la dcodification"),r()):te.error("Erreur lors de la correction")}catch{te.error("Erreur de connexion")}},p=()=>t.type==="Oedometre"?{cc:i.cc||"",cs:i.cs||"",gp:i.gp||""}:t.type==="Cisaillement"?{cohesion:i.cohesion||"",phi:i.phi||""}:{};return e.jsxs("div",{className:"space-y-6",children:[t.commentairesValidation&&e.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#FFF5F5",border:"1px solid #FED7D7"},children:[e.jsx("h3",{className:"font-semibold text-sm",style:{color:"#DC3545"},children:"Motif de rejet"}),e.jsx("p",{className:"text-sm mt-1",style:{color:"#DC3545"},children:t.commentairesValidation})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"dateReception",children:"Date rception *"}),e.jsxs(_n,{children:[e.jsx(kn,{asChild:!0,children:e.jsxs(X,{variant:"outline",className:"w-full justify-start text-left",disabled:t.statut==="termine",children:[e.jsx(Sn,{className:"mr-2 h-4 w-4"}),i.dateReception?Ie(i.dateReception,"PPP",{locale:Qt}):e.jsx("span",{children:"Slectionner"})]})}),e.jsx(Fn,{className:"w-auto p-0",children:e.jsx(Dn,{mode:"single",selected:i.dateReception,onSelect:m=>m&&c({...i,dateReception:m}),initialFocus:!0,disabled:m=>m>s})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Date rejet"}),e.jsx(ge,{value:t.dateRejet||Ie(s,"yyyy-MM-dd"),disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Traabilit (Historique indlbile)"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs(Z,{style:{backgroundColor:"#DC3545",color:"#FFFFFF"},children:["REJET LE ",t.dateRejet," - TRACE PERMANENTE"]}),e.jsxs("div",{children:[t.statut==="attente"&&t.statut_validation==="rejected"&&e.jsx(Z,{style:{backgroundColor:"#FFC107",color:"#FFFFFF"},children:"Statut actuel: En attente de correction"}),t.statut==="en_cours"&&e.jsx(Z,{style:{backgroundColor:"#003366",color:"#FFFFFF"},children:"Statut actuel: Correction en cours"}),t.statut==="termine"&&t.statut_validation==="accepted"&&e.jsx(Z,{style:{backgroundColor:"#28A745",color:"#FFFFFF"},children:"Statut actuel: Corrig et accept"}),t.statut==="termine"&&t.statut_validation!=="accepted"&&e.jsx(Z,{style:{backgroundColor:"#FD7E14",color:"#FFFFFF"},children:"Statut actuel: Corrig, en attente validation"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"operateur",children:"Oprateur *"}),e.jsx(ge,{id:"operateur",value:i.operateur,onChange:m=>c({...i,operateur:m.target.value}),placeholder:"Nom de l'oprateur",disabled:t.statut==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Dure estime"}),e.jsx(ge,{value:`${t.dureeEstimee} jours`,disabled:!0})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"Rsultats (Modification autorise)"}),t.type==="Oedometre"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"cc",children:"Indice de compression (Cc)"}),e.jsx(ge,{id:"cc",type:"number",step:"0.001",value:i.cc||"",onChange:m=>c({...i,cc:m.target.value}),placeholder:"Ex: 0.245",disabled:t.statut==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"cs",children:"Indice de gonflement (Cs)"}),e.jsx(ge,{id:"cs",type:"number",step:"0.001",value:i.cs||"",onChange:m=>c({...i,cs:m.target.value}),placeholder:"Ex: 0.045",disabled:t.statut==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"gp",children:"Contrainte de prconsolidation (kPa)"}),e.jsx(ge,{id:"gp",type:"number",value:i.gp||"",onChange:m=>c({...i,gp:m.target.value}),placeholder:"Ex: 150",disabled:t.statut==="termine"})]})]}),t.type==="Cisaillement"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"cohesion",children:"Cohsion (kPa)"}),e.jsx(ge,{id:"cohesion",type:"number",value:i.cohesion||"",onChange:m=>c({...i,cohesion:m.target.value}),placeholder:"Ex: 25",disabled:t.statut==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"phi",children:"Angle de frottement  ()"}),e.jsx(ge,{id:"phi",type:"number",step:"0.1",value:i.phi||"",onChange:m=>c({...i,phi:m.target.value}),placeholder:"Ex: 28.5",disabled:t.statut==="termine"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"commentaires",children:"Commentaires et observations"}),e.jsx(dr,{id:"commentaires",value:i.commentaires,onChange:m=>c({...i,commentaires:m.target.value}),placeholder:"Observations et remarques sur l'essai...",rows:3,disabled:t.statut==="termine"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Nouveau fichier PDF"}),e.jsxs("div",{children:[e.jsx("input",{type:"file",id:"new-file-upload",accept:".pdf",onChange:m=>{m.target.files?.[0]&&(f(!0),te.success("Nouveau fichier PDF slectionn"))},style:{display:"none"},disabled:t.statut==="termine"}),e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>document.getElementById("new-file-upload")?.click(),disabled:t.statut==="termine",children:[e.jsx(Fo,{className:"h-4 w-4 mr-2"}),"Charger un nouveau fichier PDF"]})]}),e.jsx("p",{className:"text-xs",style:{color:"#A9A9A9"},children:"Format accept: .pdf uniquement - Remplace le fichier prcdent"})]})]}),e.jsx("div",{className:"flex gap-3 justify-end pt-4",children:t.statut==="attente"&&d&&e.jsxs(X,{onClick:g,disabled:!i.operateur||!i.dateDebut,style:{backgroundColor:"#003366"},children:[e.jsx(Fr,{className:"h-4 w-4 mr-2"}),"Envoyer  la dcodification"]})})]})}const Nn="http://127.0.0.1:8000/api",En=()=>({Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}),ht={async getByEtape(t){try{const r=await fetch(`${Nn}/workflows/par_etape/?etape=${t}`,{headers:En()});if(!r.ok)throw new Error("Erreur API");const s=await r.json();return s.results||s}catch(r){return console.error("Erreur getByEtape:",r),[]}},async create(t){try{const r=await fetch(`${Nn}/workflows/`,{method:"POST",headers:En(),body:JSON.stringify(t)});if(!r.ok)throw new Error("Erreur cration");return await r.json()}catch(r){return console.error("Erreur create:",r),null}},async validerChefProjet(t,r){try{return(await fetch(`${Nn}/workflows/${t}/valider_chef_projet/`,{method:"POST",headers:En(),body:JSON.stringify({action:"accepter",comment:r})})).ok}catch(s){return console.error("Erreur validerChefProjet:",s),!1}},async rejeterChefProjet(t,r){try{return(await fetch(`${Nn}/workflows/${t}/valider_chef_projet/`,{method:"POST",headers:En(),body:JSON.stringify({action:"rejeter",comment:r})})).ok}catch(s){return console.error("Erreur rejeterChefProjet:",s),!1}},async validerChefService(t,r){try{return(await fetch(`${Nn}/workflows/${t}/valider_chef_service/`,{method:"POST",headers:En(),body:JSON.stringify({action:"accepter",comment:r})})).ok}catch(s){return console.error("Erreur validerChefService:",s),!1}},async rejeterChefService(t,r){try{return(await fetch(`${Nn}/workflows/${t}/valider_chef_service/`,{method:"POST",headers:En(),body:JSON.stringify({action:"rejeter",comment:r})})).ok}catch(s){return console.error("Erreur rejeterChefService:",s),!1}},async validerDirecteurTechnique(t,r){try{return(await fetch(`${Nn}/workflows/${t}/valider_directeur_technique/`,{method:"POST",headers:En(),body:JSON.stringify({action:"accepter",comment:r})})).ok}catch(s){return console.error("Erreur validerDirecteurTechnique:",s),!1}},async rejeterDirecteurTechnique(t,r){try{return(await fetch(`${Nn}/workflows/${t}/valider_directeur_technique/`,{method:"POST",headers:En(),body:JSON.stringify({action:"rejeter",comment:r})})).ok}catch(s){return console.error("Erreur rejeterDirecteurTechnique:",s),!1}},async aviserDirecteurSNERTP(t,r,s){try{return(await fetch(`${Nn}/workflows/${t}/aviser_directeur_snertp/`,{method:"POST",headers:En(),body:JSON.stringify({observations:r,signature:s})})).ok}catch(a){return console.error("Erreur aviserDirecteurSNERTP:",a),!1}},async rejeterDirecteurSNERTP(t,r){try{return(await fetch(`${Nn}/workflows/${t}/aviser_directeur_snertp/`,{method:"POST",headers:En(),body:JSON.stringify({action:"rejeter",observations:r})})).ok}catch(s){return console.error("Erreur rejeterDirecteurSNERTP:",s),!1}},async envoyerClient(t,r){try{return(await fetch(`${Nn}/workflows/${t}/envoyer_client/`,{method:"POST",headers:En(),body:JSON.stringify({email_client:r})})).ok}catch(s){return console.error("Erreur envoyerClient:",s),!1}},async getByCode(t){try{const r=await fetch(`${Nn}/workflows/?code_echantillon=${t}`,{headers:En()});if(!r.ok)throw new Error("Erreur API");return(await r.json()).results?.[0]||null}catch(r){return console.error("Erreur getByCode:",r),null}}};function $5({echantillon:t,onBack:r}){const[s,a]=v.useState(null),[i,c]=v.useState("essais"),[d,f]=v.useState([]),[g,p]=v.useState([]),[m,u]=v.useState(!1);v.useEffect(()=>{i==="echantillons"?y():i==="fichiers"&&b()},[i]);const y=async()=>{u(!0);try{const E=await(await fetch(`http://127.0.0.1:8000/api/echantillons/?client_nom=${encodeURIComponent(t.clientNom)}`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json(),S=await Promise.all(E.results.map(async k=>{const T=await(await fetch(`http://127.0.0.1:8000/api/essais/?echantillon=${k.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}})).json();return{id:k.id,code:k.code,nature:k.nature,statut:k.statut,date_reception:k.date_reception,profondeur_debut:k.profondeur_debut,profondeur_fin:k.profondeur_fin,essais_count:T.results?.length||0}}));f(S)}catch(w){console.error("Erreur chargement chantillons:",w),te.error("Erreur lors du chargement des chantillons")}finally{u(!1)}},b=async()=>{u(!0);try{const E=await(await fetch(`http://127.0.0.1:8000/api/echantillons/?client_nom=${encodeURIComponent(t.clientNom)}`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}})).json(),S=[];for(const k of E.results){const R=await ht.getByCode(k.code);R&&R.date_envoi_chef_projet&&R.id&&S.push({id:R.id,code_echantillon:R.code_echantillon,file_name:R.file_name||"",date_envoi_chef_projet:R.date_envoi_chef_projet,etape_actuelle:R.etape_actuelle,observations_traitement:R.observations_traitement||""})}p(S.sort((k,R)=>new Date(R.date_envoi_chef_projet).getTime()-new Date(k.date_envoi_chef_projet).getTime()))}catch(w){console.error("Erreur chargement workflows:",w),te.error("Erreur lors du chargement des fichiers")}finally{u(!1)}},N=w=>{const S={attente:{bg:"#FFC107",text:"#000",label:"En attente"},stockage:{bg:"#17A2B8",text:"#FFF",label:"En stockage"},essais:{bg:"#007BFF",text:"#FFF",label:"En essais"},decodification:{bg:"#6F42C1",text:"#FFF",label:"Dcodification"},traitement:{bg:"#FD7E14",text:"#FFF",label:"Traitement"},validation:{bg:"#20C997",text:"#FFF",label:"Validation"},valide:{bg:"#28A745",text:"#FFF",label:"Valid"},rejete:{bg:"#DC3545",text:"#FFF",label:"Rejet"}}[w]||{bg:"#6C757D",text:"#FFF",label:w};return e.jsx(Z,{style:{backgroundColor:S.bg,color:S.text},children:S.label})},C=w=>{const S={chef_projet:{bg:"#007BFF",text:"#FFF",label:"Chef Projet"},chef_service:{bg:"#17A2B8",text:"#FFF",label:"Chef Service"},directeur_technique:{bg:"#6F42C1",text:"#FFF",label:"Dir. Technique"},directeur_snertp:{bg:"#FD7E14",text:"#FFF",label:"Dir. SNERTP"},marketing:{bg:"#20C997",text:"#FFF",label:"Marketing"},client:{bg:"#28A745",text:"#FFF",label:"Envoy Client"}}[w]||{bg:"#6C757D",text:"#FFF",label:w};return e.jsx(Z,{style:{backgroundColor:S.bg,color:S.text},children:S.label})};return s?e.jsx(B5,{essai:s,onBack:()=>a(null)}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:r,children:" Retour"}),e.jsxs("h3",{className:"font-semibold",children:["Client: ",t.clientNom]})]}),e.jsxs("div",{className:"flex gap-2 border-b pb-2",children:[e.jsxs(X,{variant:i==="essais"?"default":"outline",size:"sm",onClick:()=>c("essais"),children:[e.jsx(sv,{className:"h-4 w-4 mr-2"}),"Essais en traitement"]}),e.jsxs(X,{variant:i==="echantillons"?"default":"outline",size:"sm",onClick:()=>c("echantillons"),children:[e.jsx(Pl,{className:"h-4 w-4 mr-2"}),"Tous les chantillons"]}),e.jsxs(X,{variant:i==="fichiers"?"default":"outline",size:"sm",onClick:()=>c("fichiers"),children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Fichiers envoys"]})]}),i==="essais"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Code chantillon"}),e.jsx("p",{children:t.code})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Chef de projet"}),e.jsx("p",{children:t.chefProjet})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold mb-4",children:["Essais accepts (",t.essais.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.essais.map(w=>{const E=w.dateRejet&&w.dateRejet!==null&&w.dateRejet!=="-";return e.jsxs("div",{className:"relative",children:[e.jsxs(X,{variant:"outline",className:"h-20 flex flex-col justify-center p-4 w-full",onClick:()=>a(w),style:{borderColor:"#28A745",backgroundColor:"#28A74520"},children:[e.jsx("span",{className:"font-semibold",children:w.essaiType}),e.jsx("span",{className:"text-xs text-green-600",children:"Accept "})]}),E&&e.jsx("div",{className:"absolute top-2 right-2",style:{backgroundColor:"#FD7E14",color:"#FFFFFF",fontSize:"9px",padding:"2px 6px",borderRadius:"4px",fontWeight:"bold"},children:"REPRIS"})]},w.essaiType)})})]})]}),i==="echantillons"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-semibold",children:["Tous les chantillons de ",t.clientNom]}),m?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Chargement..."})]}):d.length===0?e.jsx("p",{className:"text-center py-8 text-gray-500",children:"Aucun chantillon trouv"}):e.jsx("div",{className:"space-y-3",children:d.map(w=>e.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"#F5F5F5"},children:e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"font-semibold",children:w.code}),N(w.statut)]}),e.jsxs("div",{className:"text-sm space-y-1",style:{color:"#6C757D"},children:[e.jsxs("p",{children:["Nature: ",w.nature]}),e.jsxs("p",{children:["Profondeur: ",w.profondeur_debut,"m - ",w.profondeur_fin,"m"]}),e.jsxs("p",{children:["Date rception: ",Gt(w.date_reception)]}),e.jsxs("p",{children:["Essais: ",w.essais_count]})]})]})})},w.id))})]}),i==="fichiers"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"Fichiers de traitement envoys"}),m?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Chargement..."})]}):g.length===0?e.jsx("p",{className:"text-center py-8 text-gray-500",children:"Aucun fichier envoy"}):e.jsx("div",{className:"space-y-3",children:g.map(w=>e.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"#F5F5F5"},children:e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Je,{className:"h-5 w-5",style:{color:"#003366"}}),e.jsx("span",{className:"font-semibold",children:w.file_name})]}),e.jsxs("div",{className:"text-sm space-y-1",style:{color:"#6C757D"},children:[e.jsxs("p",{children:["chantillon: ",w.code_echantillon]}),e.jsxs("p",{children:["Date d'envoi: ",new Date(w.date_envoi_chef_projet).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-xs",children:"tape actuelle:"}),C(w.etape_actuelle)]}),w.observations_traitement&&e.jsxs("div",{className:"mt-2 pt-2 border-t",children:[e.jsx("p",{className:"text-xs font-semibold",children:"Observations:"}),e.jsx("p",{className:"text-xs mt-1",children:w.observations_traitement})]})]})]})})},w.id))})]})]})}function B5({essai:t,onBack:r}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:r,children:" Retour"}),e.jsxs("h3",{className:"font-semibold",children:["Essai ",t.essaiType," - ",t.echantillonCode]})]}),t.dateRejet&&e.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#FFF3CD",border:"1px solid #FFC107"},children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx(Z,{style:{backgroundColor:"#FD7E14",color:"#FFFFFF"},children:"ESSAI REPRIS"})}),e.jsxs("p",{className:"text-sm",style:{color:"#856404"},children:["Cet essai a t rejet le ",t.dateRejet," puis repris et corrig par l'oprateur."]}),t.validationComment&&t.validationComment!=="-"&&e.jsxs("div",{className:"mt-2 pt-2 border-t",style:{borderColor:"#FFC107"},children:[e.jsx("p",{className:"text-xs font-semibold",style:{color:"#856404"},children:"Motif du rejet:"}),e.jsx("p",{className:"text-xs mt-1",style:{color:"#856404"},children:t.validationComment})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Code chantillon"}),e.jsx("p",{children:t.echantillonCode})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Type d'essai"}),e.jsx(Z,{style:{backgroundColor:"#28A745",color:"#FFFFFF"},children:t.essaiType})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Date rception"}),e.jsx("p",{children:t.dateReception})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Oprateur"}),e.jsx("p",{children:t.operateur})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Date dbut"}),e.jsx("p",{children:t.dateDebut})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Date fin"}),e.jsx("p",{children:t.dateFin})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"Rsultats"}),t.essaiType==="AG"&&t.resultats&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"% passant  2mm"}),e.jsx("p",{children:t.resultats.pourcent_inf_2mm})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"% passant  80m"}),e.jsx("p",{children:t.resultats.pourcent_inf_80um})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Coefficient d'uniformit (Cu)"}),e.jsx("p",{children:t.resultats.coefficient_uniformite})]})]}),t.essaiType==="Proctor"&&t.resultats&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Type Proctor"}),e.jsx("p",{children:t.resultats.type_proctor})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Densit sche optimale (g/cm)"}),e.jsx("p",{children:t.resultats.densite_opt})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Teneur en eau optimale (%)"}),e.jsx("p",{children:t.resultats.teneur_eau_opt})]})]}),t.essaiType==="CBR"&&t.resultats&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"CBR  95% OPM (%)"}),e.jsx("p",{children:t.resultats.cbr_95})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"CBR  98% OPM (%)"}),e.jsx("p",{children:t.resultats.cbr_98})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"CBR  100% OPM (%)"}),e.jsx("p",{children:t.resultats.cbr_100})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Gonflement (%)"}),e.jsx("p",{children:t.resultats.gonflement})]})]}),t.essaiType==="Oedometre"&&t.resultats&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Indice de compression (Cc)"}),e.jsx("p",{children:t.resultats.cc})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Indice de gonflement (Cs)"}),e.jsx("p",{children:t.resultats.cs})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Contrainte de prconsolidation (kPa)"}),e.jsx("p",{children:t.resultats.gp})]})]}),t.essaiType==="Cisaillement"&&t.resultats&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Cohsion (kPa)"}),e.jsx("p",{children:t.resultats.cohesion})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Angle de frottement  ()"}),e.jsx("p",{children:t.resultats.phi})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Commentaires"}),e.jsx("p",{children:t.commentaires})]}),t.fichier&&t.fichier!=="-"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Fichier de l'essai"}),e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>{const s=t.fichier.startsWith("http")?t.fichier:`http://127.0.0.1:8000${t.fichier}`;window.open(s,"_blank"),te.success(`Consultation de ${t.fichier}`)},children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Tlcharger le fichier"]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsx("h3",{className:"font-semibold",children:"Validation"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Date de validation"}),e.jsx("p",{children:t.validationDate?typeof t.validationDate=="string"&&t.validationDate.includes("T")?new Date(t.validationDate).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):t.validationDate:"-"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Commentaire de validation"}),e.jsx("p",{children:t.validationComment})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Statut"}),e.jsx(Z,{style:{backgroundColor:"#28A745",color:"#FFFFFF"},children:"Accept "})]})]})]})}function z5({client:t,onSelect:r}){const[s,a]=ce.useState(!1),[i,c]=ce.useState(!1),[d,f]=ce.useState(new Set);return ce.useEffect(()=>{(async()=>{const p=new Set;for(const m of t.echantillons){const u=await ht.getByCode(m.code);u&&(u.statut_display==="Rejet"&&(c(!0),p.add(m.code)),u.etape_actuelle!=="traitement"&&a(!0))}f(p)})()},[t.echantillons]),e.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#F5F5F5"},children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"font-semibold text-lg",children:t.clientNom}),i&&e.jsxs(e.Fragment,{children:[e.jsx(Z,{style:{backgroundColor:"#DC3545",color:"#FFFFFF"},children:"Rejet"}),e.jsx(Z,{style:{backgroundColor:"#FF6B35",color:"#FFFFFF"},children:"PRIORIT"})]}),e.jsxs(Z,{variant:"outline",style:{borderColor:"#28A745",color:"#28A745"},children:[t.echantillons.length," chantillon(s)"]})]}),e.jsxs("div",{className:"text-sm space-y-1 mb-3",style:{color:"#6C757D"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{children:["Chef de projet: ",t.chefProjet]}),i&&e.jsx(Z,{style:{backgroundColor:"#DC3545",color:"#FFFFFF",fontSize:"11px"},children:"REJET"})]}),i?e.jsx(Z,{style:{backgroundColor:"#DC3545",color:"#FFFFFF"},children:"Rejet"}):s?e.jsx(Z,{style:{backgroundColor:"#003366",color:"#FFFFFF"},children:"Envoy au chef projet"}):e.jsxs("p",{children:[t.totalEssais," essai(s) accept(s)"]})]}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:t.echantillons.map(g=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Z,{style:{backgroundColor:"#6C757D",color:"#FFFFFF"},children:g.code}),d.has(g.code)&&e.jsx(Z,{style:{backgroundColor:"#DC3545",color:"#FFFFFF",fontSize:"10px"},children:"Rejet"})]},g.code))})]}),e.jsxs(X,{size:"sm",variant:"outline",onClick:()=>r(t),children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Voir dtails"]})]})})}function W5({client:t,onSelect:r}){return e.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#FFF3CD",borderLeft:"4px solid #DC3545"},children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"font-semibold text-lg",children:t.clientNom}),e.jsx(Z,{style:{backgroundColor:"#DC3545",color:"#FFFFFF"},children:"Rejet"})]}),e.jsxs("div",{className:"text-sm space-y-1 mb-3",style:{color:"#6C757D"},children:[e.jsxs("p",{children:["Chef de projet: ",t.chefProjet]}),e.jsxs("p",{children:[t.echantillons.length," chantillon(s) rejet(s)"]})]}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:t.echantillons.map(s=>e.jsx(Z,{style:{backgroundColor:"#6C757D",color:"#FFFFFF"},children:s.code},s.code))})]}),e.jsxs(X,{size:"sm",variant:"outline",onClick:()=>r(t),children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Voir dtails"]})]})})}function V5(){const[t,r]=v.useState([]),[s,a]=v.useState([]),[i,c]=v.useState(!0),[d,f]=v.useState(null),g=async()=>{c(!0);try{const m=await(await fetch("http://127.0.0.1:8000/api/echantillons/traitement_groupes_par_client/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json();r(m),a([])}catch(p){console.error("Erreur chargement:",p),te.error("Erreur lors du chargement")}finally{c(!1)}};return v.useEffect(()=>{g()},[]),e.jsxs("div",{className:"p-8 bg-background",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{children:"Module Traitement"}),e.jsx("p",{style:{color:"#A9A9A9"},children:"Essais accepts en traitement - Regroups par client"})]}),e.jsxs(Ce,{children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(Ee,{children:"Clients en traitement"}),e.jsxs(He,{children:[t.length," client(s) avec chantillons en traitement"]})]}),e.jsx(X,{onClick:g,disabled:i,children:i?"Chargement...":"Actualiser"})]})}),e.jsx(Se,{children:e.jsx("div",{className:"space-y-4",children:i?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Chargement..."})]}):t.length===0?e.jsx("div",{className:"text-center py-12",style:{color:"#A9A9A9"},children:"Aucun client en traitement"}):t.map((p,m)=>e.jsx(z5,{client:p,onSelect:f},`${p.clientNom}_${m}`))})})]}),s.length>0&&e.jsxs(Ce,{className:"mt-6",children:[e.jsxs(Ne,{children:[e.jsx(Ee,{children:"Traitements rejets"}),e.jsxs(He,{children:[s.length," client(s) avec traitements rejets"]})]}),e.jsx(Se,{children:e.jsx("div",{className:"space-y-4",children:s.map((p,m)=>e.jsx(W5,{client:p,onSelect:f},`${p.clientNom}_rejete_${m}`))})})]}),e.jsx(Xt,{open:!!d,onOpenChange:()=>f(null),children:e.jsxs(It,{style:{width:"900px",maxWidth:"95vw"},className:"max-h-[90vh] overflow-y-auto",children:[e.jsxs(Lt,{children:[e.jsxs($t,{children:["Traitement - ",d?.clientNom]}),e.jsxs(Gn,{children:[d?.echantillons.length," chantillon(s) avec ",d?.totalEssais," essai(s) accept(s)"]})]}),d&&e.jsx(H5,{client:d,onClose:()=>f(null),onSent:g})]})})]})}function H5({client:t,onClose:r,onSent:s}){const[a,i]=v.useState(null),[c,d]=v.useState(""),[f,g]=v.useState(!1),[p,m]=v.useState(null),[u,y]=v.useState(!0);v.useEffect(()=>{(async()=>{try{for(const w of t.echantillons){const E=await ht.getByCode(w.code);if(E&&E.etape_actuelle!=="traitement"){g(!0);break}}}catch(w){console.error("Erreur vrification workflow:",w)}finally{y(!1)}})()},[t.echantillons]);const b=C=>{const w=C.target.files?.[0];w&&(i(w),te.success(`Fichier "${w.name}" charg`))},N=async()=>{if(!a){te.error("Veuillez charger un fichier avant d'envoyer");return}try{const C=new FileReader;C.onload=async w=>{const E=w.target?.result;for(const S of t.echantillons){const D=(await(await fetch(`http://127.0.0.1:8000/api/echantillons/?code=${S.code}`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}})).json()).results[0]?.id;if(!D){te.error(`chantillon ${S.code} introuvable`);return}if(!await ht.create({echantillon:D,code_echantillon:S.code,client_name:t.clientNom,etape_actuelle:"chef_projet",statut:"en_attente",file_data:E,file_name:a.name,observations_traitement:c})){te.error(`Erreur lors de l'envoi de ${S.code}`);return}}g(!0),te.success(`Rapport envoy au chef de projet pour ${t.echantillons.length} chantillon(s)`),r(),s()},C.readAsDataURL(a)}catch(C){console.error("Erreur:",C),te.error("Erreur de connexion au serveur")}};return p?e.jsx($5,{echantillon:p,onBack:()=>m(null)}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Client"}),e.jsx("p",{className:"font-semibold",children:t.clientNom})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Chef de projet"}),e.jsx("p",{children:t.chefProjet})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold mb-4",children:["chantillons (",t.echantillons.length,")"]}),e.jsx("div",{className:"space-y-3",children:t.echantillons.map(C=>e.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:"#F5F5F5"},children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"font-semibold",children:C.code}),e.jsxs(Z,{variant:"outline",style:{borderColor:"#28A745",color:"#28A745"},children:[C.essais.length," essai(s)"]})]}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:C.essais.map(w=>e.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"4px"},children:[e.jsx(Z,{style:{backgroundColor:"#28A745",color:"#FFFFFF",fontSize:"11px"},children:w.essaiType}),w.estRepris&&e.jsx(Z,{style:{backgroundColor:"#FD7E14",color:"#FFFFFF",fontSize:"9px",padding:"2px 6px"},children:"REPRIS"})]},w.essaiType))})]}),e.jsx(X,{size:"sm",variant:"outline",onClick:()=>m(C),children:"Ouvrir"})]})},C.code))})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsx("h3",{className:"font-semibold",children:"Rapport de traitement group"}),e.jsxs("p",{className:"text-sm",style:{color:"#6C757D"},children:["Ce rapport sera envoy pour tous les chantillons de ",t.clientNom]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Fichier rapport"}),e.jsx("input",{type:"file",id:"traitement-file",onChange:b,style:{display:"none"},disabled:f}),e.jsxs(X,{type:"button",variant:"outline",size:"sm",onClick:()=>document.getElementById("traitement-file")?.click(),disabled:f,children:[e.jsx(Fo,{className:"h-4 w-4 mr-2"}),a?"Changer le fichier":"Slectionner un fichier"]}),a&&e.jsxs("p",{className:"text-xs mt-1 text-green-600",children:[" ",a.name]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Observations"}),e.jsx("textarea",{value:c,onChange:C=>d(C.target.value),placeholder:"Renseignez vos observations sur le traitement...",disabled:f,className:"w-full min-h-[100px] p-3 border rounded-md resize-y",style:{borderColor:"#D1D5DB",fontSize:"14px"}})]}),e.jsxs(X,{onClick:N,disabled:!a||f||u,style:{backgroundColor:f?"#6C757D":"#003366",color:"#FFFFFF"},className:"w-full",children:[e.jsx(Fr,{className:"h-4 w-4 mr-2"}),u?"Vrification...":f?"Dj envoy au chef de projet":"Envoyer au chef de projet"]}),f&&!u&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-green-600",children:" Rapport dj envoy au chef de projet"}),e.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"#E8F5E8",border:"1px solid #28A745"},children:[e.jsx(L,{className:"text-sm font-semibold",style:{color:"#28A745"},children:"Date d'envoi au chef projet :"}),e.jsx("p",{className:"text-sm mt-1",style:{color:"#28A745"},children:new Date().toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]})]})}function U5(){const[t,r]=v.useState([]),[s,a]=v.useState(!0),i=async()=>{a(!0);try{const f=(await(await fetch("http://127.0.0.1:8000/api/workflows/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json()).results||[],g=new Map;for(const m of f)if(m.rejet_chef_projet||m.rejet_chef_service||m.rejet_directeur_technique||m.rejet_directeur_snertp||m.statut==="rejete"){const y=m.code_echantillon;(!g.has(y)||new Date(m.updated_at)>new Date(g.get(y).updated_at))&&g.set(y,m)}const p=new Map;for(const[m,u]of g.entries()){const b=await(await fetch(`http://127.0.0.1:8000/api/echantillons/?code=${m}`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json();console.log(`API response for ${m}:`,b.results);const N=b.results?.[0];if(N){let C="",w=u.raison_rejet||"Aucune raison spcifie",E=u.date_rejet||u.updated_at||"";u.rejet_chef_projet?C="Chef de Projet":u.rejet_chef_service?C="Chef de Service":u.rejet_directeur_technique?C="Directeur Technique":u.rejet_directeur_snertp?C="Directeur SNERTP":C="Chef de Projet";const S=N.client_nom||"Client inconnu",k=N.client_code||"",R=k||S;console.log(`chantillon ${m}: clientNom=${S}, clientCode=${k}, clientKey=${R}`),console.log("Full ech object:",N),p.has(R)||p.set(R,{clientNom:S,chefProjet:N.chef_projet||"-",echantillons:[],rejectedBy:C,rejectionReason:w,dateRejected:E,file:u.file_name||"-"}),p.get(R).echantillons.find(D=>D.code===N.code)||p.get(R).echantillons.push({code:N.code,statutActuel:N.statut})}}r(Array.from(p.values()))}catch(c){console.error("Erreur chargement:",c),te.error("Erreur lors du chargement")}finally{a(!1)}};return v.useEffect(()=>{i()},[]),e.jsxs("div",{className:"p-8 bg-background",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{children:"Traitement rejet"}),e.jsx("p",{style:{color:"#A9A9A9"},children:"chantillons rejets par les chefs de projet, service ou directeurs"})]}),e.jsxs(Ce,{children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(Ee,{children:"Clients avec rapports rejets"}),e.jsxs(He,{children:[t.length," client(s) avec rapports rejets"]})]}),e.jsx(X,{onClick:i,disabled:s,children:s?"Chargement...":"Actualiser"})]})}),e.jsx(Se,{children:e.jsx("div",{className:"space-y-4",children:s?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Chargement..."})]}):t.length===0?e.jsx("div",{className:"text-center py-12",style:{color:"#A9A9A9"},children:"Aucun rapport rejet"}):t.map((c,d)=>e.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#FFF3CD",borderLeft:"4px solid #DC3545"},children:e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"font-semibold text-lg",children:c.clientNom}),e.jsxs(Z,{style:{backgroundColor:"#DC3545",color:"#FFFFFF"},children:["Rejet par ",c.rejectedBy]})]}),e.jsxs("div",{className:"text-sm space-y-1 mb-3",style:{color:"#6C757D"},children:[e.jsxs("p",{children:["Chef de projet: ",c.chefProjet]}),e.jsxs("p",{children:["Nombre d'chantillons: ",c.echantillons.length]}),c.dateRejected&&e.jsxs("p",{children:["Date de rejet: ",new Date(c.dateRejected).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),e.jsxs("p",{className:"text-red-600 font-medium",children:["Raison: ",c.rejectionReason]}),e.jsxs("p",{children:["Fichier: ",c.file]})]}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:c.echantillons.map(f=>e.jsx(Z,{style:{backgroundColor:"#6C757D",color:"#FFFFFF"},children:f.code},f.code))})]})})},`${c.clientNom}_${d}`))})})]})]})}function q5({userRole:t}){const[r,s]=v.useState([]),[a,i]=v.useState([]),[c,d]=v.useState(!0),[f,g]=v.useState(null),[p,m]=v.useState(""),u=async()=>{d(!0);const w=[],E=[];if(t==="directeur_technique"){const S=await ht.getByEtape("directeur_technique");for(const k of S)w.push({code:k.code_echantillon,clientName:"-",file:k.file_name||"-",fileData:k.file_data||"",essais:[],dateEnvoi:k.date_validation_chef_service||new Date().toISOString(),commentChefService:k.commentaire_chef_service});try{const T=(await(await fetch("http://127.0.0.1:8000/api/workflows/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json()).results||[];console.log("Tous les workflows:",T.length);for(const D of T)D.date_validation_directeur_technique&&D.etape_actuelle==="directeur_snertp"&&E.push({code:D.code_echantillon,clientName:"-",file:D.file_name||"-",fileData:D.file_data||"",essais:[],dateEnvoi:D.date_validation_directeur_technique,commentChefService:D.commentaire_directeur_technique});console.log("Rapports valids trouvs:",E.length)}catch(k){console.error("Erreur chargement workflows valids:",k)}}if(t==="directeur_snertp"){const S=await ht.getByEtape("directeur_snertp");for(const k of S)w.push({code:k.code_echantillon,clientName:"-",file:k.file_name||"-",fileData:k.file_data||"",essais:[],dateEnvoi:k.date_validation_directeur_technique||new Date().toISOString(),commentChefService:k.commentaire_directeur_technique});try{const T=(await(await fetch("http://127.0.0.1:8000/api/workflows/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json()).results||[];for(const D of T)D.date_validation_directeur_technique&&D.etape_actuelle==="directeur_snertp"&&E.push({code:D.code_echantillon,clientName:"-",file:D.file_name||"-",fileData:D.file_data||"",essais:[],dateEnvoi:D.date_validation_directeur_technique,commentChefService:D.commentaire_directeur_technique})}catch(k){console.error("Erreur chargement workflows valids:",k)}}s(w),i(E),d(!1)};v.useEffect(()=>{u()},[t]);const y=r.reduce((w,E)=>{const S=E.clientName||"Non spcifi";return w[S]||(w[S]=[]),w[S].push(E),w},{}),b=()=>({chef_projet:"Chef de Projet",chef_service:"Chef Service Gnie Civil",directeur_technique:"Directeur Technique",directeur_snertp:"Directeur SNERTP",directeur_general:"Directeur Gnral"})[t]||"Validateur",N=()=>{const w=["chef_projet","chef_service","directeur_technique","directeur_general"],E=w.indexOf(t);return E<w.length-1?w[E+1]:null},C=async(w,E)=>{const S=await ht.getByCode(w);if(!S?.id)return;let k=!1;E==="valide"?(t==="directeur_technique"&&(k=await ht.validerDirecteurTechnique(S.id,p)),k&&te.success("Rapport valid et transfr au niveau suivant",{description:p||"Aucune observation"})):(t==="directeur_technique"&&(k=await ht.rejeterDirecteurTechnique(S.id,p)),k&&te.error("Rapport rejet",{description:p||"Aucune observation"})),k||te.error("Erreur lors de la validation"),g(null),m(""),u()};return e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{children:"Module Validation"}),e.jsxs("p",{style:{color:"#A9A9A9"},children:["Niveau: ",b()]})]}),e.jsxs(Ce,{children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(Ee,{children:"Rapports en attente de validation"}),e.jsxs(He,{children:[r.length," rapport(s)  valider"]})]}),e.jsx(X,{onClick:u,disabled:c,children:c?"Chargement...":"Actualiser"})]})}),e.jsx(Se,{children:e.jsx("div",{className:"space-y-6",children:c?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Chargement..."})]}):Object.keys(y).length===0?e.jsx("div",{className:"text-center py-12",style:{color:"#A9A9A9"},children:"Aucun rapport en attente de validation"}):Object.entries(y).map(([w,E])=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("h3",{className:"text-lg font-semibold",style:{color:"#003366"},children:["Client: ",w]}),e.jsxs(Z,{variant:"outline",children:[E.length," rapport(s)"]})]}),e.jsx("div",{className:"space-y-4 pl-4 border-l-2",style:{borderColor:"#003366"},children:E.map(S=>e.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#F5F5F5"},children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsxs(Z,{style:{backgroundColor:"#FFC107",color:"#FFFFFF"},children:[e.jsx(uf,{className:"h-3 w-3 mr-1"}),"En attente"]}),e.jsx(Z,{style:{backgroundColor:"#003366",color:"#FFFFFF"},children:S.code})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx(L,{children:"Date rception"}),e.jsx("p",{children:new Date(S.dateEnvoi).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{children:[e.jsx(L,{children:"Fichier rapport"}),e.jsx("p",{children:S.file})]})]}),S.commentChefService&&e.jsxs("div",{className:"mt-3 p-2 rounded",style:{backgroundColor:"#E3F2FD"},children:[e.jsx(L,{className:"text-xs",children:"Commentaire Chef Service:"}),e.jsx("p",{className:"text-sm",children:S.commentChefService})]})]}),e.jsxs(X,{size:"sm",onClick:()=>g(S),style:{backgroundColor:"#003366"},children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Examiner"]})]})},S.code))})]},w))})})]}),a.length>0&&e.jsxs(Ce,{className:"mt-6",children:[e.jsxs(Ne,{children:[e.jsx(Ee,{children:"Rapports valids"}),e.jsxs(He,{children:[a.length," rapport(s) valid(s)"]})]}),e.jsx(Se,{children:e.jsx("div",{className:"space-y-3",children:a.map(w=>e.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#E8F5E9"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(Z,{style:{backgroundColor:"#28A745",color:"#FFFFFF"},children:[e.jsx(_t,{className:"h-3 w-3 mr-1"}),"Valid"]}),e.jsx(Z,{style:{backgroundColor:"#003366",color:"#FFFFFF"},children:w.code}),e.jsx("span",{className:"text-sm text-gray-600",children:new Date(w.dateEnvoi).toLocaleDateString("fr-FR")})]})},w.code))})})]}),e.jsx(Xt,{open:!!f,onOpenChange:()=>g(null),children:e.jsxs(It,{className:"max-w-3xl",children:[e.jsxs(Lt,{children:[e.jsxs($t,{children:["Validation du rapport - ",f?.code]}),e.jsxs(Gn,{children:["Niveau: ",b()]})]}),f&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#F5F5F5"},children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Informations"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx(L,{children:"Code chantillon"}),e.jsx("p",{children:f.code})]}),e.jsxs("div",{children:[e.jsx(L,{children:"Client"}),e.jsx("p",{children:f.clientName})]}),e.jsxs("div",{children:[e.jsx(L,{children:"Date rception"}),e.jsx("p",{children:new Date(f.dateEnvoi).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{children:[e.jsx(L,{children:"Fichier rapport"}),e.jsx("p",{children:f.file})]})]})]}),f.commentChefService&&e.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#E3F2FD"},children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Commentaire du Chef Service"}),e.jsx("p",{className:"text-sm",children:f.commentChefService})]}),e.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#F5F5F5"},children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Essais raliss"}),e.jsx("div",{className:"space-y-3",children:f.essais.map((w,E)=>{const S=k=>{if(!k||k==="-")return"-";try{return new Date(k).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return k}};return e.jsxs("div",{className:"p-3 border rounded",style:{backgroundColor:"#FFFFFF"},children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(Z,{variant:"outline",style:{fontSize:"12px"},children:w.essaiType})}),e.jsxs("div",{className:"text-xs space-y-1",style:{color:"#6C757D"},children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:e.jsx("strong",{children:"Date dbut:"})}),e.jsx("span",{children:S(w.dateDebut)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:e.jsx("strong",{children:"Date fin:"})}),e.jsx("span",{children:S(w.dateFin)})]})]})]},E)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Rapport technique"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>{if(console.log("Tentative d'ouverture du rapport:",f.code),console.log("FileData prsent:",!!f.fileData),f.fileData)try{if(f.fileData.startsWith("http"))window.open(f.fileData,"_blank");else if(f.fileData.startsWith("data:")){const w=window.open();w&&(w.document.write(`
                                <html>
                                  <head>
                                    <title>Rapport - ${f.code}</title>
                                    <style>body { margin: 0; }</style>
                                  </head>
                                  <body>
                                    <embed src="${f.fileData}" type="application/pdf" width="100%" height="100%" />
                                  </body>
                                </html>
                              `),w.document.close())}else{const w=window.open();w&&(w.document.write(`
                                <html>
                                  <head><title>Rapport - ${f.code}</title></head>
                                  <body style="margin:0;padding:20px;">
                                    <h2>Rapport: ${f.code}</h2>
                                    <p>Fichier: ${f.file}</p>
                                    <p style="color:red;">Format de fichier non reconnu. Veuillez tlcharger le fichier.</p>
                                  </body>
                                </html>
                              `),w.document.close()),te.warning("Format de fichier non reconnu")}}catch(w){console.error("Erreur ouverture rapport:",w),te.error("Erreur lors de l'ouverture du rapport")}else console.error("Aucun fileData disponible"),te.error("Fichier non disponible")},children:[e.jsx(Je,{className:"h-3 w-3 mr-1"}),"Ouvrir le rapport"]}),f.fileData&&e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{try{const w=document.createElement("a");w.href=f.fileData,w.download=f.file||"rapport.pdf",document.body.appendChild(w),w.click(),document.body.removeChild(w),te.success("Tlchargement dmarr")}catch{te.error("Erreur lors du tlchargement")}},children:"Tlcharger"})]}),f.fileData?e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[" Fichier disponible: ",f.file]}):e.jsx("p",{className:"text-sm text-red-500 mt-2",children:" Aucun fichier disponible"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"observations",children:"Observations"}),e.jsx(dr,{id:"observations",value:p,onChange:w=>m(w.target.value),placeholder:"Ajouter des observations ou remarques...",rows:4})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsxs(X,{variant:"destructive",onClick:()=>C(f.code,"rejete"),children:[e.jsx(zs,{className:"h-4 w-4 mr-2"}),"Rejeter"]}),e.jsxs(X,{style:{backgroundColor:"#28A745",color:"#FFFFFF"},onClick:()=>C(f.code,"valide"),children:[e.jsx(_t,{className:"h-4 w-4 mr-2"}),"Valider",N()===null&&" (Final)"]})]})]})]})})]})}function ux({userRole:t}={}){const[r,s]=v.useState([]),[a,i]=v.useState(!0),[c,d]=v.useState(null),[f,g]=v.useState(!1),[p,m]=v.useState(!1),[u,y]=v.useState(!1),b=v.useRef(null),[N,C]=v.useState(!1),[w,E]=v.useState(!1),[S,k]=v.useState(""),R=async()=>{i(!0);const Q=[];try{const H=(await(await fetch("http://127.0.0.1:8000/api/workflows/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json()).results||[];for(const B of H)B.date_validation_directeur_technique&&B.etape_actuelle==="directeur_snertp"&&Q.push({code:B.code_echantillon,clientName:B.client_name||"-",file:B.file_name||"-",fileData:B.file_data||"",validationDate:B.date_validation_directeur_technique,comment:B.commentaire_directeur_technique||"",workflowId:B.id})}catch(ne){console.error("Erreur chargement rapports valids:",ne)}s(Q),i(!1)};v.useEffect(()=>{R()},[]);const T=()=>{const Q=b.current;if(!Q)return;const ne=Q.getContext("2d");ne&&(ne.strokeStyle="#000",ne.lineWidth=2,ne.lineCap="round")},D=Q=>{C(!0);const ne=b.current;if(!ne)return;const z=ne.getBoundingClientRect(),H=ne.getContext("2d");H&&(H.beginPath(),H.moveTo(Q.clientX-z.left,Q.clientY-z.top))},P=Q=>{if(!N)return;const ne=b.current;if(!ne)return;const z=ne.getBoundingClientRect(),H=ne.getContext("2d");H&&(H.lineTo(Q.clientX-z.left,Q.clientY-z.top),H.stroke())},I=()=>{C(!1)},V=()=>{const Q=b.current;if(!Q)return;const ne=Q.getContext("2d");ne&&ne.clearRect(0,0,Q.width,Q.height)},Y=()=>{const Q=b.current;if(!Q){te.error("Signature non disponible");return}const ne=Q.toDataURL("image/png"),z=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Rapport Sign - ${c?.code}</title>
          <style>
            body { margin: 0; padding: 20px; font-family: Arial; }
            .container { max-width: 900px; margin: 0 auto; }
            .header { text-align: center; margin-bottom: 20px; }
            .pdf-container { border: 2px solid #003366; margin-bottom: 20px; }
            .signature-section { border-top: 2px solid #003366; padding: 20px; background: #f9f9f9; }
            .signature-img { max-width: 300px; border: 1px solid #ccc; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h2>Rapport d'Essai - ${c?.code}</h2>
              <p>Client: ${c?.clientName}</p>
            </div>
            <div class="pdf-container">
              <iframe src="${c?.fileData}" width="100%" height="600px"></iframe>
            </div>
            <div class="signature-section">
              <h3>Signature du Directeur SNERTP</h3>
              <p>Date: ${new Date().toLocaleString("fr-FR")}</p>
              <img src="${ne}" class="signature-img" alt="Signature" />
            </div>
          </div>
        </body>
      </html>
    `,H=new Blob([z],{type:"text/html"}),B=URL.createObjectURL(H);k(B),E(!0)},J=async()=>{if(!c)return;const Q=b.current;if(!Q){te.error("Canvas de signature non disponible");return}const ne=Q.toDataURL("image/png");y(!0);try{const z=await fetch("http://127.0.0.1:8000/api/rapports-marketing/create_from_workflow/",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify({workflow_id:c.workflowId,signature_directeur_snertp:ne})});if(z.ok)te.success("Rapport envoy au service marketing"),g(!1),d(null),R();else{const H=await z.json();te.error(H.detail||"Erreur lors de l'envoi")}}catch(z){console.error("Erreur:",z),te.error("Erreur lors de l'envoi au marketing")}finally{y(!1)}},ue=Q=>{d(Q),g(!0),E(!1),k(""),setTimeout(T,100)};return e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{children:t==="directeur_snertp"?"Rapports Valids":"Validation"}),e.jsx("p",{style:{color:"#A9A9A9"},children:"Rapports valids par le Directeur Technique"})]}),e.jsxs(Ce,{children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(Ee,{children:"Rapports valids"}),e.jsxs(He,{children:[r.length," rapport(s) valid(s)"]})]}),e.jsx(X,{onClick:R,disabled:a,children:a?"Chargement...":"Actualiser"})]})}),e.jsx(Se,{children:e.jsx("div",{className:"space-y-4",children:a?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Chargement..."})]}):r.length===0?e.jsx("div",{className:"text-center py-12",style:{color:"#A9A9A9"},children:"Aucun rapport valid"}):r.map(Q=>e.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"#D4EDDA",borderColor:"#28A745"},children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs(Z,{style:{backgroundColor:"#28A745",color:"#FFFFFF"},children:[e.jsx(_t,{className:"h-3 w-3 mr-1"}),"Valid"]}),e.jsx(Z,{style:{backgroundColor:"#003366",color:"#FFFFFF"},children:Q.code})]}),e.jsxs("div",{className:"text-sm space-y-1",style:{color:"#155724"},children:[e.jsxs("p",{children:["Client: ",Q.clientName]}),e.jsxs("p",{children:["Valid le: ",Q.validationDate?new Date(Q.validationDate).toLocaleString("fr-FR"):"-"]}),Q.comment&&e.jsxs("p",{children:["Observation: ",Q.comment]})]})]}),e.jsxs(X,{size:"sm",variant:"outline",onClick:()=>ue(Q),style:{borderColor:"#28A745",color:"#28A745"},children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Voir rapport"]})]})},Q.code))})})]}),e.jsx(Xt,{open:f,onOpenChange:g,children:e.jsxs(It,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Lt,{children:e.jsxs($t,{className:"flex items-center justify-between",children:[e.jsxs("span",{children:["Rapport ",c?.code]}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>g(!1),children:e.jsx(Do,{className:"h-4 w-4"})})]})}),c&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h3",{className:"font-semibold",children:"Fichier PDF"}),c.fileData&&e.jsx(X,{size:"sm",variant:"outline",onClick:()=>window.open(c.fileData,"_blank"),children:"Ouvrir en plein cran"})]}),c.fileData?e.jsx("iframe",{src:c.fileData,className:"w-full h-[400px] border rounded",title:`Rapport ${c.code}`}):e.jsx("p",{className:"text-gray-500",children:"Fichier non disponible"})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Signature numrique"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("canvas",{ref:b,width:600,height:200,className:"border rounded bg-white cursor-crosshair w-full",onMouseDown:D,onMouseMove:P,onMouseUp:I,onMouseLeave:I}),e.jsxs(X,{variant:"outline",size:"sm",onClick:V,children:[e.jsx(uN,{className:"h-4 w-4 mr-2"}),"Effacer"]})]})]}),w&&S&&e.jsxs("div",{className:"border rounded-lg p-4 bg-green-50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h3",{className:"font-semibold text-green-800",children:"Aperu du document sign"}),e.jsx(X,{size:"sm",variant:"outline",onClick:()=>window.open(S,"_blank"),children:"Ouvrir en plein cran"})]}),e.jsx("iframe",{src:S,className:"w-full h-[500px] border rounded bg-white",title:"Document sign"})]}),e.jsx("div",{className:"flex justify-end gap-3",children:w?e.jsxs(e.Fragment,{children:[e.jsx(X,{variant:"outline",onClick:()=>E(!1),children:"Modifier la signature"}),e.jsxs(X,{onClick:J,disabled:u,style:{backgroundColor:"#003366"},children:[e.jsx(Fr,{className:"h-4 w-4 mr-2"}),u?"Envoi...":"Envoyer au service marketing"]})]}):e.jsxs(X,{onClick:Y,style:{backgroundColor:"#28A745"},children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Prvisualiser le document sign"]})})]})]})})]})}function Y5(){const[t,r]=v.useState([]),[s,a]=v.useState(!0),[i,c]=v.useState(null),[d,f]=v.useState(""),[g,p]=v.useState(null),m=v.useRef(null),[u,y]=v.useState(!1),[b,N]=v.useState(!1);v.useRef(null);const C=async()=>{a(!0);const P=[],I=await ht.getByEtape("directeur_snertp");for(const V of I)P.push({code:V.code_echantillon,clientName:"-",file:V.file_name||"-",fileData:V.file_data||"",validationDate:V.date_validation_directeur_technique||"",comment:V.commentaire_directeur_technique||""});r(P),a(!1)};v.useEffect(()=>{C();const P=I=>{if(I.data.type==="rapportAction"){const{code:V,action:Y,observations:J,signature:ue}=I.data.data;D(V,Y,J,ue)}};return window.addEventListener("message",P),()=>window.removeEventListener("message",P)},[]);const w=P=>{const I=m.current;if(!I)return{x:0,y:0};const V=I.getBoundingClientRect(),Y=I.width/V.width,J=I.height/V.height;return"touches"in P?{x:(P.touches[0].clientX-V.left)*Y,y:(P.touches[0].clientY-V.top)*J}:{x:(P.clientX-V.left)*Y,y:(P.clientY-V.top)*J}},E=P=>{P.preventDefault(),y(!0);const I=m.current;if(I){const V=I.getContext("2d");if(V){const Y=w(P);V.beginPath(),V.moveTo(Y.x,Y.y)}}},S=P=>{if(P.preventDefault(),!u)return;const I=m.current;if(I){const V=I.getContext("2d");if(V){V.lineWidth=3,V.lineCap="round",V.lineJoin="round",V.strokeStyle="#000000";const Y=w(P);V.lineTo(Y.x,Y.y),V.stroke()}}},k=()=>{y(!1);const P=m.current;if(P){const I=P.getContext("2d");I&&I.closePath()}},R=()=>{const P=m.current;if(P){const I=P.getContext("2d");I&&I.clearRect(0,0,P.width,P.height)}p(null)},T=()=>{const P=m.current;if(P){const I=P.toDataURL("image/png");p(I),te.success("Signature sauvegarde")}},D=async(P,I,V,Y)=>{const J=V||d,ue=Y||g,Q=await ht.getByCode(P);Q?.id&&(I==="refuse"?await ht.rejeterDirecteurSNERTP(Q.id,J||"Rejet par le Directeur SNERTP")&&te.success("Rapport refus et envoy au traitement"):I==="avise"&&(await ht.aviserDirecteurSNERTP(Q.id,J||"",ue)?te.success("Rapport avis et envoy au service marketing"):te.error("Erreur lors de l'avis")),c(null),f(""),p(null),R(),C())};return e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{children:"Rapports  aviser"}),e.jsx("p",{style:{color:"#A9A9A9"},children:"Rapports valids par le Directeur Technique en attente d'avis"})]}),e.jsxs(Ce,{children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(Ee,{children:"Rapports  traiter"}),e.jsxs(He,{children:[t.length," rapport(s) en attente d'avis"]})]}),e.jsx(X,{onClick:C,disabled:s,children:s?"Chargement...":"Actualiser"})]})}),e.jsx(Se,{children:e.jsx("div",{className:"space-y-4",children:s?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Chargement..."})]}):t.length===0?e.jsx("div",{className:"text-center py-12",style:{color:"#A9A9A9"},children:"Aucun rapport  aviser"}):t.map(P=>e.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"#FFF3CD",borderColor:"#FFC107"},children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs(Z,{style:{backgroundColor:"#FFC107",color:"#FFFFFF"},children:[e.jsx(av,{className:"h-3 w-3 mr-1"})," aviser"]}),e.jsx(Z,{style:{backgroundColor:"#003366",color:"#FFFFFF"},children:P.code})]}),e.jsxs("div",{className:"text-sm space-y-1",style:{color:"#856404"},children:[e.jsxs("p",{children:["Client: ",P.clientName]}),e.jsxs("p",{children:["Valid le: ",P.validationDate?new Date(P.validationDate).toLocaleString("fr-FR"):"-"]}),P.comment&&e.jsxs("p",{children:["Observation DT: ",P.comment]})]})]}),e.jsxs(X,{size:"sm",variant:"outline",onClick:()=>c(P),style:{borderColor:"#FFC107",color:"#856404"},children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Traiter"]})]})},P.code))})})]}),e.jsx(Xt,{open:!!i,onOpenChange:()=>c(null),children:e.jsxs(It,{className:"max-w-[95vw] max-h-[95vh] overflow-hidden",children:[e.jsx(Lt,{children:e.jsxs($t,{children:["Dcision - ",i?.clientName]})}),i&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"20px",height:"calc(90vh - 200px)"},children:[e.jsxs("div",{className:"border rounded-lg",style:{backgroundColor:"#FFFFFF",overflow:"auto",display:"flex",flexDirection:"column"},children:[e.jsx("div",{className:"p-3",style:{backgroundColor:"#003366",color:"#FFFFFF",position:"sticky",top:0,zIndex:10},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(L,{className:"font-semibold",children:"Document  examiner"}),e.jsxs(X,{size:"sm",onClick:()=>{i.fileData&&window.open(i.fileData,"_blank")},style:{backgroundColor:"#FFFFFF",color:"#003366"},children:[e.jsx(Je,{className:"h-3 w-3 mr-1"}),"Ouvrir"]})]})}),e.jsx("div",{style:{flex:1,padding:"20px",overflowY:"auto",backgroundColor:"#FFFFFF",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:g?e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("h3",{style:{color:"#003366",marginBottom:"20px"},children:"Signature enregistre"}),e.jsx("img",{src:g,alt:"Signature",style:{maxWidth:"400px",border:"2px solid #003366",padding:"10px",borderRadius:"8px"}}),e.jsxs("div",{style:{marginTop:"20px",display:"flex",gap:"10px",flexDirection:"column"},children:[e.jsxs(X,{onClick:()=>{if(!i||!g)return;const P=window.open("","_blank");if(P){const I=`
                                  <!DOCTYPE html>
                                  <html>
                                    <head>
                                      <meta charset="UTF-8">
                                      <title>Rapport Avis - ${i.code}</title>
                                      <style>
                                        body { font-family: Arial, sans-serif; margin: 40px; line-height: 1.6; }
                                        .header { text-align: center; margin-bottom: 30px; border-bottom: 3px solid #003366; padding-bottom: 20px; }
                                        .header h1 { color: #003366; font-size: 18px; margin: 5px 0; }
                                        .info { margin: 20px 0; }
                                        .info p { margin: 10px 0; }
                                        .section { margin: 20px 0; padding: 15px; background: #f9f9f9; border-left: 4px solid #003366; }
                                        .signature-section { margin-top: 50px; text-align: center; border: 2px solid #003366; padding: 20px; }
                                        .signature-img { max-width: 300px; }
                                        .footer { margin-top: 30px; padding-top: 20px; border-top: 1px solid #ccc; font-size: 12px; color: #666; text-align: center; }
                                        .print-button { margin-top: 20px; padding: 10px 20px; background: #003366; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; }
                                        .print-button:hover { background: #004488; }
                                        @media print { .print-button { display: none; } }
                                      </style>
                                    </head>
                                    <body>
                                      <div class="header">
                                        <h1>Socit Nationale d'Essai et de Recherche des Travaux Publics (SNERTP)</h1>
                                        <h2>Rapport d'Essai Avis</h2>
                                      </div>
                                      <div class="info">
                                        <p><strong>Code chantillon :</strong> ${i.code}</p>
                                        <p><strong>Client :</strong> ${i.clientName}</p>
                                        <p><strong>Date d'avis :</strong> ${new Date().toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})}</p>
                                      </div>
                                      ${d?`
                                      <div class="section">
                                        <p><strong>Observations du Directeur SNERTP :</strong></p>
                                        <p>${d}</p>
                                      </div>
                                      `:""}
                                      <div class="signature-section">
                                        <p><strong>Signature du Directeur SNERTP</strong></p>
                                        <img src="${g}" alt="Signature" class="signature-img" />
                                        <p style="margin-top: 15px;"><strong>Date :</strong> ${new Date().toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})}</p>
                                      </div>
                                      <div class="footer">
                                        <p>Ce document a t avis lectroniquement par le Directeur SNERTP</p>
                                        <p>Rapport original : ${i.file}</p>
                                      </div>
                                      <div style="text-align: center;">
                                        <button onclick="window.print()" class="print-button"> Imprimer / Enregistrer en PDF</button>
                                        <p style="margin-top: 10px; font-size: 12px; color: #666;">Utilisez Ctrl+P ou Cmd+P puis slectionnez "Enregistrer au format PDF"</p>
                                      </div>
                                    </body>
                                  </html>
                                `;P.document.write(I),P.document.close(),te.success("Fentre d'impression ouverte")}},style:{backgroundColor:"#003366",color:"#FFFFFF"},children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Tlcharger en PDF"]}),e.jsxs(X,{onClick:()=>{if(!i||!g)return;const P=`
                                <html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>
                                  <head>
                                    <meta charset='utf-8'>
                                    <title>Rapport Avis - ${i.code}</title>
                                    <style>
                                      body { font-family: Calibri, Arial, sans-serif; font-size: 11pt; line-height: 1.5; }
                                      .header { text-align: center; border-bottom: 3px solid #003366; padding-bottom: 20px; margin-bottom: 30px; }
                                      .header h1 { color: #003366; font-size: 18pt; margin: 10px 0; }
                                      .header h2 { color: #003366; font-size: 14pt; margin: 10px 0; }
                                      .info { margin: 20px 0; }
                                      .info p { margin: 8px 0; }
                                      .signature-section { margin-top: 50px; page-break-inside: avoid; }
                                      .signature-box { text-align: center; border: 2px solid #003366; padding: 20px; margin: 20px auto; max-width: 400px; }
                                      .signature-box img { max-width: 300px; display: block; margin: 10px auto; }
                                      .signature-info { text-align: center; font-weight: bold; color: #003366; margin-top: 10px; }
                                      hr { border: 0; border-top: 1px solid #ccc; margin: 30px 0; }
                                    </style>
                                  </head>
                                  <body>
                                    <div class='header'>
                                      <h1>LABORATOIRE SNERTP</h1>
                                      <h2>Rapport d'Essai Avis</h2>
                                    </div>
                                    <div class='info'>
                                      <p><strong>Code chantillon:</strong> ${i.code}</p>
                                      <p><strong>Client:</strong> ${i.clientName}</p>
                                      <p><strong>Fichier original:</strong> ${i.file}</p>
                                      <p><strong>Date d'avis:</strong> ${new Date().toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})}</p>
                                      ${d?`
                                      <p><strong>Observations du Directeur SNERTP:</strong></p>
                                      <p style='margin-left: 20px; font-style: italic;'>${d}</p>
                                      `:""}
                                    </div>
                                    <div class='signature-section'>
                                      <div class='signature-box'>
                                        <p style='margin: 0 0 10px 0;'><strong>Signature du Directeur SNERTP</strong></p>
                                        <img src='${g}' alt='Signature Directeur SNERTP' />
                                        <div class='signature-info'>
                                          <p style='margin: 5px 0;'>Directeur SNERTP</p>
                                          <p style='margin: 5px 0;'>Date: ${new Date().toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})}</p>
                                        </div>
                                      </div>
                                    </div>
                                    <hr />
                                    <p style='text-align: center; font-size: 10pt; color: #666;'>
                                      <em>Ce document a t avis lectroniquement par le Directeur SNERTP</em><br/>
                                      <em>Rapport technique original: ${i.file}</em>
                                    </p>
                                  </body>
                                </html>
                              `,I=new Blob([P],{type:"application/msword"}),V=URL.createObjectURL(I),Y=document.createElement("a");Y.href=V,Y.download=`Rapport_Avise_${i.code}.doc`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(V),te.success("Document Word tlcharg")},style:{backgroundColor:"#28A745",color:"#FFFFFF"},children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Tlcharger en Word"]})]})]}):e.jsx("div",{style:{textAlign:"center",color:"#666"},children:e.jsx("p",{children:"La signature apparatra ici aprs enregistrement"})})})]}),e.jsxs("div",{className:"border rounded-lg p-4",style:{backgroundColor:"#E8F5E9",overflowY:"auto"},children:[e.jsx(L,{className:"mb-2 block font-semibold",children:"Signature"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Examinez le rapport  gauche, puis signez ci-dessous"}),e.jsx("div",{style:{width:"100%",height:"150px",border:"2px solid #003366",backgroundColor:"#FFFFFF"},children:e.jsx("canvas",{ref:m,width:400,height:150,style:{width:"100%",height:"100%",cursor:"crosshair",touchAction:"none"},onMouseDown:E,onMouseMove:S,onMouseUp:k,onMouseLeave:k,onTouchStart:E,onTouchMove:S,onTouchEnd:k})}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(X,{size:"sm",variant:"outline",onClick:R,children:"Effacer"}),e.jsxs(X,{size:"sm",style:{backgroundColor:"#28A745",color:"#FFFFFF"},onClick:T,children:[e.jsx(DN,{className:"h-3 w-3 mr-1"}),"Enregistrer"]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(L,{htmlFor:"observations",children:"Observations"}),e.jsx(dr,{id:"observations",value:d,onChange:P=>f(P.target.value),placeholder:"Ajouter des observations...",rows:3,className:"mt-2"})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs(X,{variant:"destructive",onClick:()=>D(i.code,"refuse"),disabled:!d.trim(),className:"flex-1",children:[e.jsx(zs,{className:"h-4 w-4 mr-2"}),"Rejeter"]}),e.jsxs(X,{style:{backgroundColor:"#003366",color:"#FFFFFF"},onClick:()=>D(i.code,"avise"),disabled:!g,className:"flex-1",children:[e.jsx(_t,{className:"h-4 w-4 mr-2"}),"Aviser"]})]})]})]})})]})})]})}function G5(){const[t,r]=v.useState([]),[s,a]=v.useState(!0),[i,c]=v.useState(null),[d,f]=v.useState(""),[g,p]=v.useState(!1),m=async()=>{a(!0);const b=[];try{const N=await fetch("http://127.0.0.1:8000/api/rapports-marketing/en_attente/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}});if(N.ok){const C=await N.json();for(const w of C){let E=w.email_client||"";if(!E)try{const R=(await(await fetch("http://127.0.0.1:8000/api/clients/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json()).results.find(T=>T.nom===w.client_name);R&&(E=R.email||"")}catch{}b.push({id:w.id,code:w.code_echantillon,clientName:w.client_name,file:w.file_name,fileData:w.file_data,dateEnvoi:w.date_envoi_marketing,avisDirecteurSNERTP:w.avis_directeur_snertp||"",signatureDirecteurSNERTP:w.signature_directeur_snertp||"",clientEmail:E})}}else te.error("Erreur lors du chargement des rapports")}catch(N){console.error("Erreur chargement backend:",N),te.error("Erreur de connexion au serveur")}r(b),a(!1)};v.useEffect(()=>{m()},[]);const u=b=>{c(b),f(b.clientEmail||""),p(!0)},y=async()=>{if(!i||!d){te.error("Adresse email requise");return}try{const b=await fetch(`http://127.0.0.1:8000/api/rapports-marketing/${i.id}/envoyer_client/`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify({email_client:d})});if(b.ok)te.success(`Rapport envoy  ${d}`),p(!1),c(null),f(""),m();else{const N=await b.json();te.error(N.detail||"Erreur lors de l'envoi")}}catch(b){console.error("Erreur:",b),te.error("Erreur lors de l'envoi au client")}};return e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{children:"Service Marketing"}),e.jsx("p",{style:{color:"#A9A9A9"},children:"Rapports aviss en attente d'envoi aux clients"})]}),e.jsxs(Ce,{children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(Ee,{children:"Rapports  envoyer"}),e.jsxs(He,{children:[t.length," rapport(s) en attente d'envoi"]})]}),e.jsx(X,{onClick:m,disabled:s,children:s?"Chargement...":"Actualiser"})]})}),e.jsx(Se,{children:e.jsx("div",{className:"space-y-4",children:s?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Chargement..."})]}):t.length===0?e.jsx("div",{className:"text-center py-12",style:{color:"#A9A9A9"},children:"Aucun rapport  envoyer"}):t.map(b=>e.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"#E3F2FD",borderColor:"#2196F3"},children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs(Z,{style:{backgroundColor:"#2196F3",color:"#FFFFFF"},children:[e.jsx(Fr,{className:"h-3 w-3 mr-1"})," envoyer"]}),e.jsx(Z,{style:{backgroundColor:"#003366",color:"#FFFFFF"},children:b.code})]}),e.jsxs("div",{className:"text-sm space-y-1",style:{color:"#1565C0"},children:[e.jsxs("p",{children:["Client: ",b.clientName]}),e.jsxs("p",{children:["Reu le: ",new Date(b.dateEnvoi).toLocaleString("fr-FR")]}),b.avisDirecteurSNERTP&&e.jsxs("p",{children:["Avis: ",b.avisDirecteurSNERTP]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{size:"sm",variant:"outline",onClick:()=>c(b),style:{borderColor:"#2196F3",color:"#1565C0"},children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Voir"]}),e.jsxs(X,{size:"sm",onClick:()=>u(b),style:{backgroundColor:"#28A745",color:"#FFFFFF"},children:[e.jsx(CN,{className:"h-4 w-4 mr-2"}),"Envoyer"]})]})]})},b.code))})})]}),e.jsx(Xt,{open:!!i&&!g,onOpenChange:()=>c(null),children:e.jsxs(It,{style:{maxWidth:"90vw",width:"90vw",maxHeight:"90vh"},children:[e.jsx(Lt,{children:e.jsxs($t,{children:["Rapport Sign - ",i?.code]})}),i&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"border rounded-lg",style:{height:"70vh",overflow:"auto",backgroundColor:"#FFFFFF"},children:e.jsxs("div",{style:{padding:"20px"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:"20px",borderBottom:"2px solid #003366",paddingBottom:"15px"},children:[e.jsx("h2",{style:{fontSize:"24px",fontWeight:"bold",color:"#003366"},children:"Rapport d'Essai"}),e.jsxs("p",{style:{fontSize:"16px",marginTop:"5px"},children:[e.jsx("strong",{children:"Code:"})," ",i.code]}),e.jsxs("p",{style:{fontSize:"16px"},children:[e.jsx("strong",{children:"Client:"})," ",i.clientName]})]}),i.fileData&&e.jsx("div",{style:{marginBottom:"20px",border:"2px solid #003366",borderRadius:"8px"},children:e.jsx("iframe",{src:i.fileData,style:{width:"100%",height:"500px",border:"none"},title:"Rapport PDF"})}),e.jsxs("div",{style:{borderTop:"2px solid #003366",paddingTop:"20px",backgroundColor:"#f9f9f9",padding:"20px",borderRadius:"8px"},children:[e.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",marginBottom:"15px"},children:"Signature du Directeur SNERTP"}),e.jsxs("p",{style:{fontSize:"14px",marginBottom:"10px"},children:[e.jsx("strong",{children:"Date:"})," ",new Date(i.dateEnvoi).toLocaleString("fr-FR")]}),i.avisDirecteurSNERTP&&e.jsxs("p",{style:{fontSize:"14px",marginBottom:"15px"},children:[e.jsx("strong",{children:"Avis:"})," ",i.avisDirecteurSNERTP]}),i.signatureDirecteurSNERTP&&e.jsx("div",{style:{marginTop:"15px"},children:e.jsx("img",{src:i.signatureDirecteurSNERTP,alt:"Signature",style:{maxWidth:"300px",border:"1px solid #ccc",borderRadius:"4px",backgroundColor:"#fff",padding:"10px"}})})]})]})}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(X,{variant:"outline",onClick:()=>{const b=`
                      <!DOCTYPE html>
                      <html>
                        <head>
                          <title>Rapport Sign - ${i.code}</title>
                          <style>body { margin: 0; padding: 20px; font-family: Arial; }</style>
                        </head>
                        <body>
                          <div style="max-width: 900px; margin: 0 auto;">
                            <div style="text-align: center; margin-bottom: 20px; border-bottom: 2px solid #003366; padding-bottom: 15px;">
                              <h2>Rapport d'Essai - ${i.code}</h2>
                              <p>Client: ${i.clientName}</p>
                            </div>
                            <div style="border: 2px solid #003366; margin-bottom: 20px;">
                              <iframe src="${i.fileData}" width="100%" height="600px"></iframe>
                            </div>
                            <div style="border-top: 2px solid #003366; padding: 20px; background: #f9f9f9;">
                              <h3>Signature du Directeur SNERTP</h3>
                              <p>Date: ${new Date(i.dateEnvoi).toLocaleString("fr-FR")}</p>
                              ${i.avisDirecteurSNERTP?`<p>Avis: ${i.avisDirecteurSNERTP}</p>`:""}
                              ${i.signatureDirecteurSNERTP?`<img src="${i.signatureDirecteurSNERTP}" style="max-width: 300px; border: 1px solid #ccc;" />`:""}
                            </div>
                          </div>
                        </body>
                      </html>
                    `,N=new Blob([b],{type:"text/html"}),C=URL.createObjectURL(N);window.open(C,"_blank")},children:"Ouvrir en plein cran"}),e.jsx(X,{variant:"outline",onClick:()=>c(null),children:"Fermer"})]})]})]})}),e.jsx(Xt,{open:g,onOpenChange:p,children:e.jsxs(It,{className:"max-w-md",children:[e.jsx(Lt,{children:e.jsx($t,{children:"Envoyer le rapport par email"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(L,{children:"Client"}),e.jsx("p",{className:"text-sm font-medium mt-1",children:i?.clientName})]}),e.jsxs("div",{children:[e.jsx(L,{children:"Code chantillon"}),e.jsx("p",{className:"text-sm font-medium mt-1",children:i?.code})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"email",children:"Adresse email"}),e.jsx(ge,{id:"email",type:"email",value:d,onChange:b=>f(b.target.value),placeholder:"email@exemple.com"})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(X,{variant:"outline",onClick:()=>{p(!1),f("")},children:"Annuler"}),e.jsxs(X,{style:{backgroundColor:"#28A745",color:"#FFFFFF"},onClick:y,disabled:!d,children:[e.jsx(Fr,{className:"h-4 w-4 mr-2"}),"Envoyer"]})]})]})]})})]})}function K5(){const[t,r]=v.useState("mois"),[s,a]=v.useState({enStockage:0,essaisEnCoursRoute:0,essaisEnCoursMeca:0,enValidation:0,rapportsValides:0,rapportsRejetes:0}),i=Y0(),c=DR(),[d,f]=v.useState([]);v.useEffect(()=>{(async()=>{try{const y=await(await fetch("http://127.0.0.1:8000/api/echantillons/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json();f(y.results||[])}catch{console.log("API non disponible")}})()},[]),v.useEffect(()=>{(()=>{const u=[...i,...d],y=[...new Set(u.map(k=>k.statut))];console.log("Statuts trouvs:",y),console.log("Total chantillons:",u.length),u.forEach(k=>{const R=k.essais_types||k.essais||[];R.length>0&&console.log(`chantillon ${k.code}: statut=${k.statut}, essais=${JSON.stringify(R)}`)});const b=u.filter(k=>k.statut==="stockage"||k.statut==="attente"||k.statut==="En attente").length,N=u.filter(k=>{const T=(k.essais_types||k.essais||[]).some(P=>["AG","Proctor","CBR"].includes(P)),D=!["valide","Valid","completed","Termin"].includes(k.statut);return T&&D}).length,C=u.filter(k=>{const T=(k.essais_types||k.essais||[]).some(P=>["Oedometre","Cisaillement"].includes(P)),D=!["valide","Valid","completed","Termin"].includes(k.statut);return T&&D}).length;let w=0;for(let k=0;k<localStorage.length;k++){const R=localStorage.key(k);if(R&&R.startsWith("sent_to_chef_service_")){const T=localStorage.getItem(R);if(T)try{const D=JSON.parse(T);!D.acceptedByChefService&&!D.rejectedByChefService&&w++}catch{}}}let E=0;for(let k=0;k<localStorage.length;k++){const R=localStorage.key(k);if(R&&R.startsWith("sent_to_chef_service_")){const T=localStorage.getItem(R);if(T)try{JSON.parse(T).acceptedByChefService===!0&&E++}catch{}}}let S=0;for(let k=0;k<localStorage.length;k++){const R=localStorage.key(k);if(R&&R.startsWith("sent_to_chef_")){const T=localStorage.getItem(R);if(T)try{const D=JSON.parse(T);(D.rejected===!0||D.rejectedByChefService===!0)&&S++}catch{}}}for(let k=0;k<localStorage.length;k++){const R=localStorage.key(k);if(R&&R.startsWith("sent_to_directeur_technique_")){const T=localStorage.getItem(R);if(T)try{JSON.parse(T).rejectedByDirecteurTechnique===!0&&S++}catch{}}}console.log("Stats calcules:",{enStockage:b,essaisEnCoursRoute:N,essaisEnCoursMeca:C,enValidation:w,rapportsValides:E,rapportsRejetes:S}),a({enStockage:b,essaisEnCoursRoute:N,essaisEnCoursMeca:C,enValidation:w,rapportsValides:E,rapportsRejetes:S})})()},[i,d]);const g=m=>({stockage:"Stockage",essais:"Essais en cours",decodification:"Dcodification",traitement:"Traitement",validation:"Validation",valide:"Valid",rejete:"Rejet"})[m]||m,p=m=>({stockage:"#FFC107",essais:"#003366",decodification:"#003366",traitement:"#003366",validation:"#FFC107",valide:"#28A745",rejete:"#DC3545"})[m]||"#A9A9A9";return e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{children:"Module Administration"}),e.jsx("p",{style:{color:"#A9A9A9"},children:"Supervision et statistiques globales"})]}),e.jsx("div",{className:"mb-6 flex justify-end",children:e.jsxs(ln,{value:t,onValueChange:m=>r(m),children:[e.jsx(dn,{className:"w-48",children:e.jsx(cn,{})}),e.jsxs(un,{children:[e.jsx(Be,{value:"semaine",children:"Cette semaine"}),e.jsx(Be,{value:"mois",children:"Ce mois"}),e.jsx(Be,{value:"annee",children:"Cette anne"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6 mb-8",children:[e.jsxs(Ce,{children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Ee,{className:"text-sm",children:"En stockage"}),e.jsx(Pl,{className:"h-4 w-4",style:{color:"#17A2B8"}})]}),e.jsxs(Se,{children:[e.jsx("div",{className:"text-2xl",children:s.enStockage}),e.jsx("p",{className:"text-xs",style:{color:"#A9A9A9"},children:"chantillons en attente"})]})]}),e.jsxs(Ce,{children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Ee,{className:"text-sm",children:"En cours Route"}),e.jsx(Eo,{className:"h-4 w-4",style:{color:"#003366"}})]}),e.jsxs(Se,{children:[e.jsx("div",{className:"text-2xl",children:s.essaisEnCoursRoute}),e.jsx("p",{className:"text-xs",style:{color:"#A9A9A9"},children:"AG, Proctor, CBR"})]})]}),e.jsxs(Ce,{children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Ee,{className:"text-sm",children:"En cours Mca-Sol"}),e.jsx(Eo,{className:"h-4 w-4",style:{color:"#6F42C1"}})]}),e.jsxs(Se,{children:[e.jsx("div",{className:"text-2xl",children:s.essaisEnCoursMeca}),e.jsx("p",{className:"text-xs",style:{color:"#A9A9A9"},children:"Oedomtrique, Cisaillement"})]})]}),e.jsxs(Ce,{children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Ee,{className:"text-sm",children:"En validation"}),e.jsx(nv,{className:"h-4 w-4",style:{color:"#FFC107"}})]}),e.jsxs(Se,{children:[e.jsx("div",{className:"text-2xl",children:s.enValidation}),e.jsx("p",{className:"text-xs",style:{color:"#A9A9A9"},children:"En attente Chef Service"})]})]}),e.jsxs(Ce,{children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Ee,{className:"text-sm",children:"Rapports valids"}),e.jsx(_t,{className:"h-4 w-4",style:{color:"#28A745"}})]}),e.jsxs(Se,{children:[e.jsx("div",{className:"text-2xl",children:s.rapportsValides}),e.jsx("p",{className:"text-xs",style:{color:"#A9A9A9"},children:"Valids par Chef Service"})]})]}),e.jsxs(Ce,{children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Ee,{className:"text-sm",children:"Rapports rejets"}),e.jsx(zs,{className:"h-4 w-4",style:{color:"#DC3545"}})]}),e.jsxs(Se,{children:[e.jsx("div",{className:"text-2xl",children:s.rapportsRejetes}),e.jsx("p",{className:"text-xs",style:{color:"#A9A9A9"},children:"Tous niveaux"})]})]})]}),e.jsxs(s0,{defaultValue:"chaine",className:"space-y-6",children:[e.jsxs(o0,{children:[e.jsx(Aa,{value:"chaine",children:"Chane de traitement"}),e.jsx(Aa,{value:"essais",children:"Statistiques essais"}),e.jsx(Aa,{value:"details",children:"Dtails"})]}),e.jsx(Ta,{value:"chaine",className:"space-y-6",children:e.jsxs(Ce,{children:[e.jsxs(Ne,{children:[e.jsx(Ee,{children:"Vue d'ensemble de la chane"}),e.jsx(He,{children:"Suivi des chantillons  chaque tape"})]}),e.jsx(Se,{children:e.jsx("div",{className:"space-y-4",children:[{etape:"Stockage",count:s.enStockage,color:"#17A2B8"},{etape:"En cours Route",count:s.essaisEnCoursRoute,color:"#003366"},{etape:"En cours Mca-Sol",count:s.essaisEnCoursMeca,color:"#6F42C1"},{etape:"En validation",count:s.enValidation,color:"#FFC107"},{etape:"Rapports valids",count:s.rapportsValides,color:"#28A745"},{etape:"Rapports rejets",count:s.rapportsRejetes,color:"#DC3545"}].map(m=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"#F5F5F5"},children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:m.color}}),e.jsx("span",{children:m.etape})]}),e.jsx(Z,{variant:"outline",children:m.count})]},m.etape))})})]})}),e.jsx(Ta,{value:"essais",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(Ce,{children:[e.jsx(Ne,{children:e.jsx(Ee,{children:"Essais par type"})}),e.jsx(Se,{children:e.jsx("div",{className:"space-y-3",children:["AG","Proctor","CBR","Oedometre","Cisaillement"].map(m=>{const u=c.filter(y=>y.type===m).length;return e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:m}),e.jsx(Z,{variant:"outline",children:u})]},m)})})})]}),e.jsxs(Ce,{children:[e.jsx(Ne,{children:e.jsx(Ee,{children:"Statut des essais"})}),e.jsx(Se,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:"#FFC107"}}),e.jsx("span",{children:"En attente"})]}),e.jsx(Z,{variant:"outline",children:c.filter(m=>m.statut==="attente").length})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:"#003366"}}),e.jsx("span",{children:"En cours"})]}),e.jsx(Z,{variant:"outline",children:c.filter(m=>m.statut==="en_cours").length})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:"#28A745"}}),e.jsx("span",{children:"Termins"})]}),e.jsx(Z,{variant:"outline",children:c.filter(m=>m.statut==="termine").length})]})]})})]})]})}),e.jsx(Ta,{value:"details",className:"space-y-6",children:e.jsxs(Ce,{children:[e.jsxs(Ne,{children:[e.jsx(Ee,{children:"Dtails des chantillons"}),e.jsx(He,{children:"Vue dtaille de tous les chantillons"})]}),e.jsx(Se,{children:e.jsx("div",{className:"space-y-3",children:i.map(m=>e.jsxs("div",{className:"p-4 rounded-lg flex justify-between items-center",style:{backgroundColor:"#F5F5F5"},children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{children:m.code}),e.jsx(Z,{style:{backgroundColor:p(m.statut),color:"#FFFFFF"},children:g(m.statut)}),m.priorite==="urgente"&&e.jsx(Z,{variant:"outline",style:{borderColor:"#DC3545",color:"#DC3545"},children:"Urgent"})]}),e.jsxs("p",{className:"text-sm",style:{color:"#A9A9A9"},children:[m.nature," - Reu le ",m.dateReception]})]}),e.jsxs("div",{className:"text-xs text-right",style:{color:"#A9A9A9"},children:[e.jsx("p",{children:"Date fin estime"}),e.jsx("p",{children:m.dateFinEstimee})]})]},m.id))})})]})})]})]})}function Q5(){const[t,r]=v.useState([]),[s,a]=v.useState(!0),[i,c]=v.useState(null),d=async()=>{a(!0);const f=new Map,g=await ht.getByEtape("chef_service");console.log("Tous les workflows chef_service (archivs):",g.length,g.map(u=>u.code_echantillon));const p=g.filter(u=>u.validation_chef_projet);console.log("Workflows archivs:",p.length,p.map(u=>u.code_echantillon));for(const u of p){const y=u.code_echantillon;let b=u.client_name||"-",N="";const C=b.match(/\(([^)]+)\)/);C&&(N=C[1]);const w=N||y;console.log(`chantillon ${y}: clientName=${b}, clientCode=${N}, clientKey=${w}`),f.has(w)||f.set(w,{clientId:N,clientName:b,echantillons:[],dateEnvoi:u.created_at||new Date().toISOString(),file:u.file_name||"-",fileData:u.file_data||""});const E={code:y,dateEnvoi:u.created_at||new Date().toISOString(),file:u.file_name||"-",clientName:b,essais:[]};try{const R=(await(await fetch(`http://127.0.0.1:8000/api/echantillons/?code=${y}`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json()).results[0];if(R){const D=await(await fetch(`http://127.0.0.1:8000/api/essais/?echantillon=${R.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json();console.log(`API retourne pour ${y}:`,D.results?.length,"essais:",D.results?.map(V=>({type:V.type,statut:V.statut,validation:V.statut_validation})));const P=(D.results||[]).filter(V=>V.statut==="termine"&&V.statut_validation==="accepted");console.log(`Essais accepts pour ${y}:`,P.length,P.map(V=>V.type));const I=new Map;P.forEach(V=>{(!I.has(V.type)||new Date(V.date_fin)>new Date(I.get(V.type).date_fin))&&I.set(V.type,V)}),console.log(`Essais uniques pour ${y}:`,I.size,Array.from(I.keys())),I.forEach(V=>{E.essais.push({echantillonCode:y,essaiType:V.type,dateReception:V.date_reception||"-",dateDebut:V.date_debut||"-",dateFin:V.date_fin||"-",operateur:V.operateur||"-",resultats:V.resultats||{},commentaires:V.commentaires||"-",fichier:V.fichier||"-",fichierData:"",validationComment:V.commentaires_validation||"-",validationDate:V.date_validation||"-",estRepris:!!V.date_rejet})})}}catch(S){console.error("Erreur chargement essais:",S)}E.essais.length>0&&f.get(w).echantillons.push(E)}const m=Array.from(f.values());console.log("Clients groups:",m.length,m),r(m),a(!1)};return v.useEffect(()=>{d()},[]),e.jsxs("div",{className:"p-8 bg-background",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{children:"Rapports de traitement"}),e.jsx("p",{style:{color:"#A9A9A9"},children:"chantillons envoys par le responsable traitement"})]}),e.jsxs(Ce,{children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(Ee,{children:"Rapports archivs"}),e.jsx(He,{children:"Tous les rapports transmis au chef service sont archivs ici"})]}),e.jsx(X,{onClick:d,disabled:s,children:s?"Chargement...":"Actualiser"})]})}),e.jsx(Se,{children:e.jsx("div",{className:"space-y-4",children:s?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Chargement..."})]}):t.length===0?e.jsx("div",{className:"text-center py-12",style:{color:"#A9A9A9"},children:e.jsx("p",{children:"Aucun rapport de traitement reu"})}):t.map(f=>e.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#F5F5F5"},children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"font-semibold text-lg",children:f.clientName}),e.jsxs(Z,{variant:"outline",style:{borderColor:"#28A745",color:"#28A745"},children:[f.echantillons.length," chantillon(s)"]})]}),e.jsxs("div",{className:"text-sm space-y-1 mb-3",style:{color:"#6C757D"},children:[e.jsxs("p",{children:["Date rception: ",new Date(f.dateEnvoi).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),e.jsxs("p",{children:["Fichier rapport: ",f.file]})]}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:f.echantillons.map(g=>e.jsx(Z,{style:{backgroundColor:"#6C757D",color:"#FFFFFF"},children:g.code},g.code))})]}),e.jsxs(X,{size:"sm",variant:"outline",onClick:()=>c(f),children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Voir dtails"]})]})},f.clientId||f.clientName))})})]}),e.jsx(Xt,{open:!!i,onOpenChange:()=>c(null),children:e.jsxs(It,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Lt,{children:[e.jsxs($t,{children:["Dtails - ",i?.clientName]}),e.jsxs(Gn,{children:[i?.echantillons.length," chantillon(s) avec essais valids"]})]}),i&&e.jsx(J5,{client:i,onClose:()=>c(null)})]})})]})}function J5({client:t,onClose:r}){const[s,a]=v.useState(null),[i,c]=v.useState([]);return v.useEffect(()=>{const d=async()=>{try{const p=(await(await fetch(`http://127.0.0.1:8000/api/echantillons/?code=${t.echantillons[0].code}`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}})).json()).results?.[0];if(p?.client){const u=await(await fetch(`http://127.0.0.1:8000/api/echantillons/?client=${p.client}`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}})).json();c(u.results||[])}}catch(f){console.error("Erreur chargement chantillons:",f)}};t.echantillons.length>0&&d()},[t.echantillons]),s?e.jsx(X5,{echantillon:s,onBack:()=>a(null)}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Client"}),e.jsx("p",{className:"font-semibold text-lg",children:t.clientName})]}),e.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[e.jsx(L,{children:"Fichier rapport de traitement"}),t.file&&t.file!=="-"?e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>{const d=document.createElement("a");d.href=t.fileData,d.download=t.file,document.body.appendChild(d),d.click(),document.body.removeChild(d),te.success(`Tlchargement de ${t.file}`)},children:[e.jsx(cN,{className:"h-4 w-4 mr-2"}),t.file]}):e.jsx("p",{className:"text-sm text-gray-500",children:"Aucun fichier disponible"})]}),i.length>0&&e.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[e.jsx(L,{children:"Tous les chantillons du client"}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto p-2 rounded",style:{backgroundColor:"#FAFAFA"},children:i.map(d=>e.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"#FFFFFF",border:"1px solid #E0E0E0"},children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:d.code}),e.jsx(Z,{variant:"outline",style:{borderColor:d.statut==="valide"?"#28A745":"#FFC107",color:d.statut==="valide"?"#28A745":"#FFC107"},children:d.statut})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Reu le: ",new Date(d.date_reception).toLocaleDateString("fr-FR")]})]},d.id))})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsxs("h3",{className:"font-semibold mb-4",children:["chantillons archivs (",t.echantillons.length,")"]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Ces rapports ont t transmis au chef de service et sont archivs ici pour consultation."}),e.jsx("div",{className:"space-y-3",children:t.echantillons.map(d=>(console.log(`chantillon ${d.code}: ${d.essais.length} essais`,d.essais.map(f=>f.essaiType)),e.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:"#F5F5F5"},children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"font-semibold",children:d.code}),e.jsxs(Z,{variant:"outline",style:{borderColor:"#28A745",color:"#28A745"},children:[d.essais.length," essai(s)"]}),e.jsx(Z,{style:{backgroundColor:"#6C757D",color:"#FFFFFF"},children:"ARCHIV"})]}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:d.essais.map((f,g)=>e.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"4px"},children:[e.jsx(Z,{style:{backgroundColor:"#28A745",color:"#FFFFFF",fontSize:"11px"},children:f.essaiType}),f.estRepris&&e.jsx(Z,{style:{backgroundColor:"#FD7E14",color:"#FFFFFF",fontSize:"9px",padding:"2px 6px"},children:"REPRIS"})]},`${f.essaiType}-${g}`))})]}),e.jsx(X,{size:"sm",variant:"outline",onClick:()=>a(d),children:"Consulter"})]})},d.code)))})]})]})}function X5({echantillon:t,onBack:r}){const[s,a]=v.useState(null);return s?e.jsx(Z5,{essai:s,onBack:()=>a(null)}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:r,children:" Retour"}),e.jsxs("h3",{className:"font-semibold",children:["chantillon ",t.code]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold mb-4",children:["Essais accepts (",t.essais.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.essais.map((i,c)=>e.jsxs(X,{variant:"outline",className:"h-20 flex flex-col justify-center p-4",onClick:()=>a(i),style:{borderColor:"#28A745",backgroundColor:"#28A74520"},children:[e.jsx("span",{className:"font-semibold",children:i.essaiType}),e.jsx("span",{className:"text-xs text-green-600",children:"Accept "})]},`${i.essaiType}-${c}`))})]})]})}function Z5({essai:t,onBack:r}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:r,children:" Retour"}),e.jsxs("h3",{className:"font-semibold",children:["Essai ",t.essaiType," - ",t.echantillonCode]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Code chantillon"}),e.jsx("p",{children:t.echantillonCode})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Type d'essai"}),e.jsx(Z,{style:{backgroundColor:"#28A745",color:"#FFFFFF"},children:t.essaiType})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Oprateur"}),e.jsx("p",{children:t.operateur})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Date fin"}),e.jsx("p",{children:t.dateFin})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Commentaires"}),e.jsx("p",{children:t.commentaires})]})]})}function eP(){const[t,r]=v.useState([]),[s,a]=v.useState([]),[i,c]=v.useState(!0),[d,f]=v.useState("all"),g=async()=>{c(!0);try{const m=await fetch("http://127.0.0.1:8000/api/workflows/?etape_actuelle=chef_projet&statut=rejected",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}});if(m.ok){const y=(await m.json()).results.map(b=>({echantillonCode:b.code_echantillon,essaiType:b.type_essai||"Rapport",chefProjet:b.chef_projet||"-",dateSent:b.date_envoi_chef_projet,dateRejected:b.date_rejet_chef_projet,rejectionReason:b.commentaires_rejet||"-",file:b.file_name||"-"}));r(y),a(y)}else toast.error("Erreur lors du chargement")}catch(m){console.error("Erreur:",m),toast.error("Erreur de connexion")}c(!1)},p=m=>{f(m);const u=new Date;if(m==="all"){a(t);return}const y=t.filter(b=>{const N=new Date(b.dateRejected);return m==="today"?N.toDateString()===u.toDateString():m==="month"?N.getMonth()===u.getMonth()&&N.getFullYear()===u.getFullYear():m==="year"?N.getFullYear()===u.getFullYear():!0});a(y)};return v.useEffect(()=>{g()},[]),e.jsxs("div",{className:"p-8 bg-background",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{children:"Rapports rejets"}),e.jsx("p",{style:{color:"#A9A9A9"},children:"Rapports rejets par le chef de projet"})]}),e.jsxs(Ce,{children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(Ee,{children:"Rapports rejets"}),e.jsxs(He,{children:[s.length," rapport(s) rejet(s) sur ",t.length," au total"]})]}),e.jsx(X,{onClick:g,disabled:i,children:i?"Chargement...":"Actualiser"})]})}),e.jsxs(Se,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(L,{children:"Filtrer par priode"}),e.jsxs(ln,{value:d,onValueChange:p,children:[e.jsx(dn,{className:"w-48",children:e.jsx(cn,{})}),e.jsxs(un,{children:[e.jsx(Be,{value:"all",children:"Toutes les priodes"}),e.jsx(Be,{value:"today",children:"Aujourd'hui"}),e.jsx(Be,{value:"month",children:"Ce mois"}),e.jsx(Be,{value:"year",children:"Cette anne"})]})]})]}),e.jsx("div",{className:"space-y-4",children:i?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Chargement..."})]}):s.length===0?e.jsx("div",{className:"text-center py-12",style:{color:"#A9A9A9"},children:"Aucun rapport rejet pour cette priode"}):s.map((m,u)=>e.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#F5F5F5"},children:e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"font-semibold",children:m.echantillonCode}),e.jsx(Z,{style:{backgroundColor:"#DC3545",color:"#FFFFFF"},children:m.essaiType}),e.jsx(Z,{variant:"outline",style:{borderColor:"#DC3545",color:"#DC3545"},children:"Rejet "})]}),e.jsxs("div",{className:"text-sm space-y-1",style:{color:"#6C757D"},children:[e.jsxs("p",{children:["Chef de projet: ",m.chefProjet]}),e.jsxs("p",{children:["Date d'envoi: ",new Date(m.dateSent).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),e.jsxs("p",{children:["Date de rejet: ",new Date(m.dateRejected).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),e.jsxs("p",{children:["Raison du rejet: ",m.rejectionReason]}),e.jsxs("p",{children:["Fichier: ",m.file]})]})]})})},`${m.echantillonCode}_${m.essaiType}_${u}`))})]})]})]})}function tP(){const[t,r]=v.useState([]),[s,a]=v.useState(!0),[i,c]=v.useState(null),[d,f]=v.useState(new Map),g=async()=>{a(!0);const p=[],m=await ht.getByEtape("chef_service"),u=new Map;for(const y of m){const b=y.code_echantillon;let N="-";try{const S=(await(await fetch("http://127.0.0.1:8000/api/echantillons/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json()).results.find(k=>k.code===b);S&&S.client_nom&&(N=S.client_nom)}catch{}const C=[];try{const E=await(await fetch(`http://127.0.0.1:8000/api/essais/?echantillon_code=${b}&statut_validation=accepted`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json();for(const S of E.results||[]){const k={AG:5,Proctor:5,CBR:9,Oedometre:18,Cisaillement:4};let R=S.date_debut||S.date_reception||"-",T=S.date_fin||S.date_validation||"-";if(R==="-"&&T==="-"&&y.date_validation_chef_projet)try{const P=new Date(y.date_validation_chef_projet),I=k[S.type]||5;T=P.toISOString().split("T")[0];const V=new Date(P);V.setDate(V.getDate()-I),R=V.toISOString().split("T")[0]}catch{}let D;if(R!=="-"&&T!=="-")try{const P=new Date(R),I=new Date(T);D=Math.ceil((I.getTime()-P.getTime())/(1e3*60*60*24))}catch{}C.push({essaiType:S.type,resultats:S.resultats||{},dateDebut:R,dateFin:T,dureeJours:D})}}catch{}p.push({code:b,clientName:N,dateEnvoi:y.date_validation_chef_projet||new Date().toISOString(),file:y.file_name||"-",fileData:y.file_data||"",essais:C}),u.set(b,y)}r(p),f(u),a(!1)};return v.useEffect(()=>{g()},[]),e.jsxs("div",{className:"p-8 bg-background",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{children:"Rapports reus"}),e.jsx("p",{style:{color:"#A9A9A9"},children:"chantillons envoys par les chefs de projet"})]}),e.jsxs(Ce,{children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(Ee,{children:"Rapports en attente"}),e.jsxs(He,{children:[t.length," rapport(s) reu(s)"]})]}),e.jsx(X,{onClick:g,disabled:s,children:s?"Chargement...":"Actualiser"})]})}),e.jsx(Se,{children:e.jsx("div",{className:"space-y-4",children:s?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Chargement..."})]}):t.length===0?e.jsx("div",{className:"text-center py-12",style:{color:"#A9A9A9"},children:"Aucun rapport reu"}):t.map(p=>{const u=d.get(p.code)?.etape_actuelle==="directeur_technique";return e.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#F5F5F5"},children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"font-semibold",children:p.clientName}),e.jsx(Z,{style:{backgroundColor:"#003366",color:"#FFFFFF"},children:p.code}),u&&e.jsx(Z,{style:{backgroundColor:"#28A745",color:"#FFFFFF"},children:"Envoy au DT"})]}),e.jsxs("div",{className:"text-sm space-y-1 mb-3",style:{color:"#6C757D"},children:[e.jsxs("p",{children:["Date rception: ",new Date(p.dateEnvoi).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),e.jsxs("p",{children:["Fichier rapport: ",p.file]})]})]}),e.jsxs(X,{size:"sm",variant:"outline",onClick:()=>c(p),children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Voir dtails"]})]})},p.code)})})})]}),e.jsx(Xt,{open:!!i,onOpenChange:()=>c(null),children:e.jsxs(It,{className:"max-w-2xl",children:[e.jsxs(Lt,{children:[e.jsxs($t,{children:["Dtails du rapport - ",i?.code]}),e.jsx(Gn,{children:"Rapport envoy par le chef de projet"})]}),i&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Code chantillon"}),e.jsx("p",{children:i.code})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Client"}),e.jsx("p",{children:i.clientName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Date de rception"}),e.jsx("p",{children:new Date(i.dateEnvoi).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Fichier rapport"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>{i.fileData?i.fileData.startsWith("http")||i.fileData.startsWith("data:")?window.open(i.fileData,"_blank"):te.error("Format de fichier non valide"):te.error("Fichier non disponible")},children:[e.jsx(Je,{className:"h-3 w-3 mr-1"}),"Ouvrir le rapport"]}),i.fileData&&e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{try{const p=document.createElement("a");p.href=i.fileData,p.download=i.file||"rapport.pdf",document.body.appendChild(p),p.click(),document.body.removeChild(p),te.success("Tlchargement dmarr")}catch{te.error("Erreur lors du tlchargement")}},children:"Tlcharger"})]}),!i.fileData&&e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Aucun fichier disponible"})]}),i.essais&&i.essais.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Essais raliss"}),e.jsx("div",{className:"space-y-2",children:i.essais.map((p,m)=>{const u=y=>{if(!y||y==="-")return"-";try{return new Date(y).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return y}};return e.jsxs("div",{className:"p-3 border rounded-lg",style:{backgroundColor:"#F8F9FA"},children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"font-semibold text-sm",children:p.essaiType}),p.dureeJours!==void 0&&e.jsxs(Z,{variant:"outline",style:{fontSize:"10px"},children:[p.dureeJours," jour",p.dureeJours>1?"s":""]})]}),e.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Date dbut:"})," ",u(p.dateDebut)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date fin:"})," ",u(p.dateFin)]}),p.resultats&&Object.keys(p.resultats).length>0&&e.jsxs("div",{className:"mt-2 pt-2 border-t",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Rsultats:"}),Object.entries(p.resultats).slice(0,3).map(([y,b])=>e.jsxs("p",{className:"ml-2",children:[y,": ",String(b)]},y))]})]})]},m)})})]}),e.jsx(nP,{echantillon:i,onClose:()=>c(null)})]})]})})]})}function nP({echantillon:t,onClose:r}){const[s,a]=v.useState(""),[i,c]=v.useState(!1),[d,f]=v.useState(!1);v.useEffect(()=>{(async()=>{const u=await ht.getByCode(t.code);u&&(c(u.etape_actuelle!=="chef_service"),f(u.etape_actuelle==="directeur_technique"))})()},[t.code]);const g=async()=>{const m=await ht.getByCode(t.code);m?.id&&(await ht.validerChefService(m.id,s)?(c(!0),f(!0),te.success("Rapport accept et envoy au Directeur Technique"),setTimeout(()=>r(),1e3)):te.error("Erreur lors de la validation"))},p=async()=>{if(!s.trim()){te.error("Veuillez indiquer la raison du rejet");return}const m=await ht.getByCode(t.code);m?.id&&(await ht.rejeterChefService(m.id,s)?(c(!0),te.success("Rapport rejet et renvoy au responsable traitement"),setTimeout(()=>r(),1e3)):te.error("Erreur lors du rejet"))};return e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsx("h3",{className:"font-semibold",children:"Validation du rapport"}),i&&d?e.jsxs("div",{className:"flex items-center gap-2 p-4 rounded-lg",style:{backgroundColor:"#28A74520"},children:[e.jsx(_t,{className:"h-6 w-6",style:{color:"#28A745"}}),e.jsx("span",{className:"font-semibold",style:{color:"#28A745"},children:"Rapport valid"})]}):i?e.jsxs("div",{className:"flex items-center gap-2 p-4 rounded-lg",style:{backgroundColor:"#DC354520"},children:[e.jsx(zs,{className:"h-6 w-6",style:{color:"#DC3545"}}),e.jsx("span",{className:"font-semibold",style:{color:"#DC3545"},children:"Rapport rejet"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Commentaire"}),e.jsx(dr,{value:s,onChange:m=>a(m.target.value),placeholder:"Ajouter un commentaire (obligatoire en cas de rejet)...",rows:3,disabled:i})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{onClick:g,disabled:i,style:{backgroundColor:i?"#6C757D":"#28A745",color:"#FFFFFF",opacity:i?.5:1},children:[e.jsx(_t,{className:"h-4 w-4 mr-2"}),"Accepter le rapport"]}),e.jsxs(X,{onClick:p,disabled:i,style:{backgroundColor:i?"#6C757D":"#DC3545",color:"#FFFFFF",opacity:i?.5:1},children:[e.jsx(zs,{className:"h-4 w-4 mr-2"}),"Rejeter le rapport"]})]})]})]})}function rP(){const[t,r]=v.useState([]),[s,a]=v.useState(!0),i=async()=>{a(!0);const c=[];for(let d=0;d<localStorage.length;d++){const f=localStorage.key(d);if(f&&f.startsWith("sent_to_marketing_")){const g=localStorage.getItem(f);if(g)try{const p=JSON.parse(g);if(!p.processedByMarketing){let m="-",u="-",y="-";try{const C=(await(await fetch("http://127.0.0.1:8000/api/clients/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json()).results.find(w=>w.nom===p.clientName);C&&(m=C.email||C.adresse||"-",u=C.telephone||"-")}catch{const N=localStorage.getItem("clients");if(N){const w=JSON.parse(N).find(E=>E.nom===p.clientName);w&&(m=w.email||w.adresse||"-",u=w.telephone||"-")}}try{const C=(await(await fetch("http://127.0.0.1:8000/api/echantillons/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json()).results.find(w=>w.code===p.code);C&&C.date_retour_predite&&(y=new Date(C.date_retour_predite).toLocaleDateString("fr-FR"))}catch{}c.push({clientName:p.clientName,clientAddress:m,clientPhone:u,dateRetourClient:y})}}catch{}}}r(c),a(!1)};return v.useEffect(()=>{i()},[]),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{children:"Tableau de bord Marketing"}),e.jsx("p",{style:{color:"#A9A9A9"},children:"Rapports en attente d'envoi aux clients"})]}),e.jsxs(Ce,{children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(Ee,{children:"Clients  contacter"}),e.jsxs(He,{children:[t.length," rapport(s) en attente"]})]}),e.jsx(X,{onClick:i,disabled:s,children:s?"Chargement...":"Actualiser"})]})}),e.jsx(Se,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-3 font-semibold",children:"Nom du client"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Adresse"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Numro"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Date de retour client"})]})}),e.jsx("tbody",{children:s?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"p-3 text-center text-gray-500",children:"Chargement..."})}):t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"p-3 text-center text-gray-500",children:"Aucun rapport en attente"})}):t.map((c,d)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"font-medium",children:c.clientName})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm",children:c.clientAddress})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm",children:c.clientPhone})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm",children:c.dateRetourClient})})]},d))})]})})})]})]})}const sP="http://127.0.0.1:8000/api";class oP{getAuthHeaders(){return{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}}async request(r,s={}){const a=`${sP}${r}`,i=await fetch(a,{...s,headers:{...this.getAuthHeaders(),...s.headers}});if(!i.ok)throw new Error(`API Error: ${i.status} ${i.statusText}`);return i.json()}async getEchantillons(){return this.request("/echantillons/")}async getEchantillonsGroupedByClient(){return this.request("/echantillons/grouped_by_client/")}async updateEchantillonDatesEnvoi(r,s){return this.request(`/echantillons/${r}/update_dates_envoi/`,{method:"POST",body:JSON.stringify(s)})}async updateEchantillonStatut(r,s){return this.request(`/echantillons/${r}/change_statut/`,{method:"POST",body:JSON.stringify({statut:s})})}async getRapports(){return this.request("/rapports/")}async createRapport(r){return this.request("/rapports/",{method:"POST",body:JSON.stringify(r)})}async envoyerRapportChefService(r){return this.request(`/rapports/${r}/envoyer_chef_service/`,{method:"POST"})}async validerRapportChefService(r,s,a){return this.request(`/rapports/${r}/valider_chef_service/`,{method:"POST",body:JSON.stringify({action:s,observations:a})})}async validerRapportDirecteurTechnique(r,s,a){return this.request(`/rapports/${r}/valider_directeur_technique/`,{method:"POST",body:JSON.stringify({action:s,observations:a})})}async envoyerRapportClient(r,s,a){return this.request(`/rapports/${r}/envoyer_client/`,{method:"POST",body:JSON.stringify({signature:s,observations:a})})}async syncLocalStorageData(){try{console.log("Dbut de la synchronisation des donnes localStorage...");const s=(await this.getEchantillons()).results||[];let a=0;for(const i of s){const c={};let d=!1;const f=`planning_${i.code}`,g=localStorage.getItem(f);if(g)try{const u=JSON.parse(g);u.dateEnvoiAG&&!i.date_envoi_ag&&(c.date_envoi_ag=u.dateEnvoiAG,d=!0),u.dateEnvoiProctor&&!i.date_envoi_proctor&&(c.date_envoi_proctor=u.dateEnvoiProctor,d=!0),u.dateEnvoiCBR&&!i.date_envoi_cbr&&(c.date_envoi_cbr=u.dateEnvoiCBR,d=!0),u.dateRetour&&!i.date_retour_predite&&(c.date_retour_predite=u.dateRetour,d=!0),u.essais&&(!i.essais_types||i.essais_types.length===0)&&(c.essais_types=u.essais,d=!0)}catch(u){console.warn(`Erreur parsing planning pour ${i.code}:`,u)}const p=`sent_to_chef_${i.code}`,m=localStorage.getItem(p);if(m)try{const u=JSON.parse(m);if(u.sent===!0&&i.statut!=="traitement"){const y={echantillon:i.id,contenu:`Rapport pour l'chantillon ${i.code}`,statut:"chef_service",date_envoi_chef_service:u.date||new Date().toISOString()};try{await this.createRapport(y),console.log(`Rapport cr pour ${i.code}`)}catch{console.warn(`Rapport existe dj pour ${i.code}`)}i.statut!=="traitement"&&(await this.updateEchantillonStatut(i.id,"traitement"),console.log(`Statut mis  jour pour ${i.code}`))}}catch(u){console.warn(`Erreur parsing sent data pour ${i.code}:`,u)}if(d)try{await this.updateEchantillonDatesEnvoi(i.id,c),a++,console.log(`Donnes synchronises pour ${i.code}:`,c)}catch(u){console.error(`Erreur sync pour ${i.code}:`,u)}}return console.log(`Synchronisation termine. ${a} chantillons mis  jour.`),{success:!0,syncCount:a}}catch(r){return console.error("Erreur lors de la synchronisation:",r),{success:!1,error:r}}}}const aP=new oP;function iP(){const[t,r]=v.useState(!1),[s,a]=v.useState(!1),[i,c]=v.useState(null),d=async()=>{a(!0),c(null);try{const f=await aP.syncLocalStorageData();c(f),f.success&&setTimeout(()=>window.location.reload(),1500)}catch(f){c({success:!1,error:f})}finally{a(!1)}};return e.jsxs("div",{className:"relative",children:[e.jsxs(X,{onClick:()=>r(!0),variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(iN,{className:"h-4 w-4"}),"Sync Backend"]}),t&&e.jsxs("div",{className:"absolute top-12 right-0 bg-white border rounded-lg shadow-lg p-4",style:{width:"320px"},children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h3",{className:"font-semibold",children:"Synchronisation"}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>r(!1),children:e.jsx(Do,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Synchroniser localStorage avec le backend"}),i&&e.jsx("div",{className:"mb-4 p-2 rounded",children:i.success?e.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[e.jsx(_t,{className:"h-4 w-4"}),e.jsxs("span",{className:"text-sm",children:[i.syncCount," lments synchroniss"]})]}):e.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[e.jsx(zs,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Erreur de synchronisation"})]})}),e.jsx(X,{onClick:d,disabled:s,className:"w-full",style:{backgroundColor:"#003366"},children:s?"Synchronisation...":"Dmarrer"})]})]})}function $s(t,r){const s=[new Date(2025,0,1),new Date(2025,3,21),new Date(2025,4,1),new Date(2025,4,29),new Date(2025,5,9),new Date(2025,7,7),new Date(2025,7,15),new Date(2025,10,1),new Date(2025,10,15),new Date(2025,11,25)],a=f=>s.some(g=>g.getDate()===f.getDate()&&g.getMonth()===f.getMonth()&&g.getFullYear()===f.getFullYear()),i=f=>{const g=f.getDay();return g===0||g===6};let c=new Date(t),d=0;for(;d<r;)c.setDate(c.getDate()+1),!i(c)&&!a(c)&&d++;return c}async function lj(){try{const s=(await(await fetch("http://127.0.0.1:8000/api/echantillons/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json()).results||[],a={AG:0,Proctor:0,CBR:0,Oedometre:0,Cisaillement:0};return s.forEach(i=>{(i.statut==="stockage"||i.statut==="essais")&&(i.essais_types||[]).forEach(d=>{a[d]!==void 0&&a[d]++})}),a}catch(t){return console.error("Erreur comptage chantillons:",t),{AG:0,Proctor:0,CBR:0,Oedometre:0,Cisaillement:0}}}async function lP(t,r){const s=new Date;let a=r;return a||(a=await lj()),cj(t,s,a)}function qt(t,r){return cj(t,new Date,{AG:0,Proctor:0,CBR:0,Oedometre:0,Cisaillement:0})}function cj(t,r,s){const a={AG:5,Proctor:5,CBR:9,Oedometre:18,Cisaillement:4},i={AG:5,Proctor:4,CBR:4,Oedometre:10,Cisaillement:4};let c=0,d=0,f="Bas sur les contraintes relles du laboratoire";t.essais.forEach(N=>{const C=a[N]||0,w=i[N]||1,E=s[N]||0;let S=0;N==="Oedometre"?E>=10&&(S=Math.ceil((E-9)*18/10)):S=Math.floor(E/w),C>d&&(d=C),S>c&&(c=S)});const g=$s(r,c),p=2,m=c+d+p,u=$s(r,m);let y=.9;c>5?y-=.15:c>2&&(y-=.05),y=Math.min(.95,Math.max(.75,y));const b={weekday:"long",year:"numeric",month:"long",day:"numeric"};return{date:g.toLocaleDateString("fr-FR",b),confidence:Math.round(y*100),raison:f,delaiJours:c,dateRetour:u.toLocaleDateString("fr-FR",b),confidenceRetour:Math.round((y-.05)*100),raisonRetour:`Dlai total: ${d} jours d'essais + ${p} jours de traitement`,delaiRetourJours:m,chargeParEssai:s}}function fx({user:t}){const r=Y0(),s=FR(),[a,i]=v.useState("all"),c=Array.isArray(r)?a==="all"?r:r.filter(m=>m.statut===a):[],d=m=>({attente:"En attente",stockage:"Stockage",essais:"Essais",decodification:"Dcodification",traitement:"Traitement",validation:"Validation",valide:"Valid",rejete:"Rejet"})[m]||m,f=m=>({attente:"#FFC107",stockage:"#17A2B8",essais:"#003366",decodification:"#6F42C1",traitement:"#FD7E14",validation:"#E83E8C",valide:"#28A745",rejete:"#DC3545"})[m]||"#6C757D",g=m=>{const u={rejete:0,attente:1,stockage:2,essais:3,decodification:4,traitement:5,validation:6,valide:7};let y="valide",b=7;return m.forEach(N=>{const C=u[N.statut]??7;C<b&&(b=C,y=N.statut)}),y},p=c.reduce((m,u)=>{const y=u.clientCode;return m[y]||(m[y]=[]),m[y].push(u),m},{});return t.role==="receptionniste"?e.jsx(xP,{stats:{enAttente:Array.isArray(r)?r.filter(m=>m.statut==="stockage").length:0,enCours:Array.isArray(r)?r.filter(m=>m.statut==="essais").length:0,termines:Array.isArray(r)?r.filter(m=>m.statut==="decodification").length:0,valides:Array.isArray(r)?r.filter(m=>m.statut==="valide").length:0}}):t.email==="meca@snertp.com"||t.role==="operateur_mecanique"?e.jsx(dP,{}):t.email==="route@snertp.com"?e.jsx(pP,{}):t.email==="traitement@snertp.com"?e.jsx(mP,{}):t.role==="chef_projet"?e.jsx(hP,{}):t.role==="chef_service"?e.jsx(fP,{}):t.role==="directeur_technique"||t.email==="technique@snertp.com"?e.jsx(uP,{}):t.role==="directeur_snertp"||t.email==="directeur@snertp.com"?e.jsx(gP,{}):t.role==="service_marketing"?e.jsx(rP,{}):e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{children:"Tableau de bord - Directeur Technique"}),e.jsx("p",{style:{color:"#A9A9A9"},children:"Suivi des chantillons et gestion des processus"})]}),e.jsx("div",{className:"mb-6",children:e.jsxs(Ce,{children:[e.jsx(Ne,{children:e.jsxs(Ee,{className:"flex items-center gap-2",children:[e.jsx(gN,{className:"h-5 w-5"}),"Filtres"]})}),e.jsx(Se,{children:e.jsx("div",{className:"flex gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Statut des chantillons"}),e.jsxs(ln,{value:a,onValueChange:i,children:[e.jsx(dn,{className:"w-48",children:e.jsx(cn,{})}),e.jsxs(un,{children:[e.jsx(Be,{value:"all",children:"Tous les statuts"}),e.jsx(Be,{value:"stockage",children:"En attente"}),e.jsx(Be,{value:"essais",children:"En cours d'essais"}),e.jsx(Be,{value:"decodification",children:"Dcodification"}),e.jsx(Be,{value:"traitement",children:"Traitement"}),e.jsx(Be,{value:"validation",children:"Validation"}),e.jsx(Be,{value:"valide",children:"Valid"})]})]})]})})})]})}),e.jsxs(Ce,{children:[e.jsxs(Ne,{children:[e.jsxs(Ee,{children:["Suivi des chantillons par client (",Object.keys(p).length," clients)"]}),e.jsx(He,{children:"Vue d'ensemble des chantillons groups par client avec le statut le plus dfavorable"})]}),e.jsxs(Se,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-3 font-semibold",children:"Client"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Codes chantillons"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Date rception"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Date envoi essais"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Date envoi traitement"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Date envoi chef projet"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Statut"})]})}),e.jsx("tbody",{children:Object.entries(p).map(([m,u])=>{const y=s.find(E=>E.code===m),b=g(u),N=u.sort((E,S)=>new Date(S.dateReception).getTime()-new Date(E.dateReception).getTime()),C=N[0]?.dateReception,w=N.filter(E=>E.dateEnvoiSection).sort((E,S)=>new Date(S.dateEnvoiSection).getTime()-new Date(E.dateEnvoiSection).getTime())[0]?.dateEnvoiSection;return e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-3",children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"font-medium",children:y?.nom||m})})}),e.jsx("td",{className:"p-3",children:e.jsx("div",{className:"space-y-1",children:N.map((E,S)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm",children:E.code}),E.priorite==="urgente"&&e.jsx(Z,{variant:"destructive",className:"text-xs",children:"URGENT"}),S<N.length-1&&e.jsx("span",{className:"text-gray-400",children:""})]},E.id))})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm",children:C})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm",children:w||"-"})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm text-gray-500",children:"-"})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm text-gray-500",children:"-"})}),e.jsx("td",{className:"p-3",children:e.jsx(Z,{style:{backgroundColor:f(b),color:"#FFFFFF"},children:d(b)})})]},m)})})]})}),Object.keys(p).length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucun chantillon trouv pour ce filtre"})]})]})]})}function cP({echantillon:t,getEssaiInfo:r}){const[s,a]=v.useState({termine:!1,dateEnvoi:null,dateFin:null,operateur:null}),[i,c]=v.useState({termine:!1,dateEnvoi:null,dateFin:null,operateur:null}),[d,f]=v.useState("-");v.useEffect(()=>{t.essais_types?.includes("Oedometre")&&r(t.id,"Oedometre").then(a),t.essais_types?.includes("Cisaillement")&&r(t.id,"Cisaillement").then(c)},[t.id,t.code,r]),v.useEffect(()=>{const u={Oedometre:18,Cisaillement:8};let y=null;if(t.essais_types?.includes("Oedometre")&&s.dateEnvoi){const b=new Date(s.dateEnvoi.split("/").reverse().join("-")),N=new Date(b);N.setDate(N.getDate()+u.Oedometre),(!y||N>y)&&(y=N)}if(t.essais_types?.includes("Cisaillement")&&i.dateEnvoi){const b=new Date(i.dateEnvoi.split("/").reverse().join("-")),N=new Date(b);N.setDate(N.getDate()+u.Cisaillement),(!y||N>y)&&(y=N)}y?(y.setDate(y.getDate()+2),f(y.toLocaleDateString("fr-FR"))):f("-")},[s,i,t.essais_types]);const g=(u,y)=>u?{text:"Termin",color:"#28A745"}:y?{text:"En cours",color:"#FFC107"}:{text:"Stockage",color:"#17A2B8"},p=g(s.termine,s.dateEnvoi),m=g(i.termine,i.dateEnvoi);return e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"font-medium",children:t.code})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm",children:new Date(t.date_reception).toLocaleDateString("fr-FR")})}),e.jsx("td",{className:"p-3",children:t.essais_types?.includes("Oedometre")?e.jsxs("div",{children:[e.jsx("div",{className:"text-xs mb-1",style:{color:"#6C757D"},children:s.dateEnvoi||"-"}),e.jsx("div",{className:"my-1",children:e.jsx(Z,{style:{backgroundColor:p.color,color:"#FFFFFF",fontSize:"10px",padding:"2px 6px"},children:p.text})}),s.operateur&&e.jsxs("div",{className:"text-xs mt-1",style:{color:"#003366"},children:["Op: ",s.operateur]}),s.dateFin&&e.jsx("div",{className:"text-xs mt-1",style:{color:"#6C757D"},children:s.dateFin})]}):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx("td",{className:"p-3",children:t.essais_types?.includes("Cisaillement")?e.jsxs("div",{children:[e.jsx("div",{className:"text-xs mb-1",style:{color:"#6C757D"},children:i.dateEnvoi||"-"}),e.jsx("div",{className:"my-1",children:e.jsx(Z,{style:{backgroundColor:m.color,color:"#FFFFFF",fontSize:"10px",padding:"2px 6px"},children:m.text})}),i.operateur&&e.jsxs("div",{className:"text-xs mt-1",style:{color:"#003366"},children:["Op: ",i.operateur]}),i.dateFin&&e.jsx("div",{className:"text-xs mt-1",style:{color:"#6C757D"},children:i.dateFin})]}):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm font-medium",style:{color:d==="-"?"#6C757D":"#DC3545"},children:d})})]})}function dP(){const[t,r]=v.useState([]),[s,a]=v.useState(!0);v.useEffect(()=>{(async()=>{try{const g=((await(await fetch("http://127.0.0.1:8000/api/echantillons/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json()).results||[]).filter(m=>m.essais_types&&(m.essais_types.includes("Oedometre")||m.essais_types.includes("Cisaillement"))),p=await Promise.all(g.map(async m=>{try{const b=(await(await fetch(`http://127.0.0.1:8000/api/essais/?echantillon=${m.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json()).results||[],N=b.find(S=>S.type==="Oedometre"),C=N?.date_reception?new Date(N.date_reception).toLocaleDateString("fr-FR"):null,w=b.find(S=>S.type==="Cisaillement"),E=w?.date_reception?new Date(w.date_reception).toLocaleDateString("fr-FR"):null;return{...m,date_envoi_oedometre:C,date_envoi_cisaillement:E}}catch{return{...m,date_envoi_oedometre:null,date_envoi_cisaillement:null}}}));r(p)}catch(d){console.error("Erreur chargement chantillons:",d)}finally{a(!1)}})()},[]);const i=async(c,d)=>{try{const g=await(await fetch(`http://127.0.0.1:8000/api/essais/?echantillon=${c}&type=${d}`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json();if(g.results&&g.results.length>0){const p=g.results.find(m=>m.echantillon===c)||g.results[0];return{termine:p.statut==="termine",dateEnvoi:p.date_reception?new Date(p.date_reception).toLocaleDateString("fr-FR"):null,dateFin:p.date_fin?new Date(p.date_fin).toLocaleDateString("fr-FR"):null,operateur:p.operateur||null}}}catch{}return{termine:!1,dateEnvoi:null,dateFin:null,operateur:null}};return e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{children:"Tableau de bord Mcanique"}),e.jsx("p",{style:{color:"#A9A9A9"},children:"Suivi des essais mcaniques"})]}),e.jsxs(Ce,{children:[e.jsxs(Ne,{children:[e.jsx(Ee,{children:"chantillons avec essais mcaniques"}),e.jsxs(He,{children:[t.length," chantillon(s) avec essais Oedomtrique ou Cisaillement"]})]}),e.jsx(Se,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-3 font-semibold",children:"Code chantillon"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Date Rception"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Oedomtrique"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Cisaillement Direct"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Date de Retour Client"})]})}),e.jsx("tbody",{children:s?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-3 text-center text-gray-500",children:"Chargement..."})}):t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-3 text-center text-gray-500",children:"Aucun chantillon avec essais mcaniques"})}):t.map(c=>e.jsx(cP,{echantillon:c,getEssaiInfo:i},`meca-${c.id}-${c.code}`))})]})})})]})]})}function uP(){const[t,r]=v.useState([]),[s,a]=v.useState(!0),i=async()=>{a(!0);try{const f=(await(await fetch("http://127.0.0.1:8000/api/echantillons/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json()).results.reduce((p,m)=>{const u=m.client_code||m.client_nom||"-";return p[u]||(p[u]=[]),p[u].push(m),p},{}),g=Object.entries(f).map(([p,m])=>{const u=m,y=`${u[0]?.client_nom||"-"} (${p})`,b=u[0]?.date_reception?new Date(u[0].date_reception).toLocaleDateString("fr-FR"):"-";let N="-",C="-",w="-",E="-";const S=u.find(k=>k.date_retour_predite);if(S&&S.date_retour_predite)try{E=new Date(S.date_retour_predite).toLocaleDateString("fr-FR")}catch{E=S.date_retour_predite}else{const k=u[0];if(k){const R={id:k.id,code:k.code,clientCode:k.client_code||"",qrCode:k.code,nature:k.nature||"",profondeurDebut:k.profondeur_debut||0,profondeurFin:k.profondeur_fin||0,dateReception:k.date_reception||"",essais:k.essais_types||[],statut:k.statut||"",priorite:k.priorite||"normale",chefProjet:k.chef_projet||""};E=qt(R).dateRetour}}return{clientName:y,nombreEchantillons:u.length,dateReception:b,dateTraitement:N,dateChefProjet:C,dateChefService:w,dateRetourClient:E}});r(g)}catch(c){console.error("Erreur chargement:",c)}finally{a(!1)}};return v.useEffect(()=>{i()},[]),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{children:"Tableau de bord Directeur Technique"}),e.jsx("p",{style:{color:"#A9A9A9"},children:"Suivi des chantillons par client"})]}),e.jsxs(Ce,{children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(Ee,{children:"chantillons par client"}),e.jsxs(He,{children:[t.length," client(s)"]})]}),e.jsx(X,{onClick:i,disabled:s,children:s?"Chargement...":"Actualiser"})]})}),e.jsx(Se,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-3 font-semibold",children:"Nom du client"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Date de rception"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Date traitement"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Date chef projet"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Date chef service"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Date de retour client"})]})}),e.jsx("tbody",{children:s?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-3 text-center text-gray-500",children:"Chargement..."})}):t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-3 text-center text-gray-500",children:"Aucun chantillon"})}):t.map((c,d)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"font-medium",children:c.clientName})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm",children:c.dateReception})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm",children:c.dateTraitement})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm",children:c.dateChefProjet})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm",children:c.dateChefService})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm text-gray-500",children:c.dateRetourClient})})]},d))})]})})})]})]})}function fP(){const[t,r]=v.useState([]),[s,a]=v.useState(!0),i=async()=>{a(!0);try{const f=(await(await fetch("http://127.0.0.1:8000/api/echantillons/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json()).results.reduce((p,m)=>{const u=m.client_code||m.client_nom||"-";return p[u]||(p[u]=[]),p[u].push(m),p},{}),g=Object.entries(f).map(([p,m])=>{const u=m,y=u[0]?.date_reception?new Date(u[0].date_reception).toLocaleDateString("fr-FR"):"-";let b="-",N="-",C="-";const w=u.find(E=>E.date_retour_predite);if(w&&w.date_retour_predite)try{C=new Date(w.date_retour_predite).toLocaleDateString("fr-FR")}catch{C=w.date_retour_predite}else{const E=u[0];if(E){const S={id:E.id,code:E.code,clientCode:E.client_code||"",qrCode:E.code,nature:E.nature||"",profondeurDebut:E.profondeur_debut||0,profondeurFin:E.profondeur_fin||0,dateReception:E.date_reception||"",essais:E.essais_types||[],statut:E.statut||"",priorite:E.priorite||"normale",chefProjet:E.chef_projet||""};C=qt(S).dateRetour}}return{clientName:`${u[0].client_nom} (${u[0].client_code})`,nombreEchantillons:u.length,dateReception:y,dateTraitement:b,dateChefProjet:N,dateRetourClient:C}});r(g)}catch(c){console.error("Erreur chargement:",c)}finally{a(!1)}};return v.useEffect(()=>{i()},[]),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{children:"Tableau de bord Chef de Service"}),e.jsx("p",{style:{color:"#A9A9A9"},children:"Suivi des chantillons par client"})]}),e.jsxs(Ce,{children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(Ee,{children:"chantillons par client"}),e.jsxs(He,{children:[t.length," client(s)"]})]}),e.jsx(X,{onClick:i,disabled:s,children:s?"Chargement...":"Actualiser"})]})}),e.jsx(Se,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-3 font-semibold",children:"Nom du client"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Date de rception"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Nombre d'chantillons"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Date de traitement"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Date chef projet"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Date de retour client"})]})}),e.jsx("tbody",{children:s?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-3 text-center text-gray-500",children:"Chargement..."})}):t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-3 text-center text-gray-500",children:"Aucun chantillon"})}):t.map((c,d)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"font-medium",children:c.clientName})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm",children:c.dateReception})}),e.jsx("td",{className:"p-3",children:e.jsx(Z,{style:{backgroundColor:"#003366",color:"#FFFFFF"},children:c.nombreEchantillons})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm",children:c.dateTraitement})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm",children:c.dateChefProjet})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm text-gray-500",children:c.dateRetourClient})})]},d))})]})})})]})]})}function hP(){const[t,r]=v.useState([]),[s,a]=v.useState(!0);return v.useEffect(()=>{(async()=>{try{const f=(await(await fetch("http://127.0.0.1:8000/api/echantillons/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json()).results.reduce((p,m)=>{const u=m.client_code||m.client_nom||"-";return p[u]||(p[u]=[]),p[u].push(m),p},{}),g=Object.entries(f).map(([p,m])=>{const u=m,y=u[0]?.date_reception?new Date(u[0].date_reception).toLocaleDateString("fr-FR"):"-";let b="-",N="-";const C=u.find(w=>w.date_retour_predite);if(C&&C.date_retour_predite)try{N=new Date(C.date_retour_predite).toLocaleDateString("fr-FR")}catch{N=C.date_retour_predite}else{const w=u[0];if(w){const E={id:w.id,code:w.code,clientCode:w.client_code||"",qrCode:w.code,nature:w.nature||"",profondeurDebut:w.profondeur_debut||0,profondeurFin:w.profondeur_fin||0,dateReception:w.date_reception||"",essais:w.essais_types||[],statut:w.statut||"",priorite:w.priorite||"normale",chefProjet:w.chef_projet||""};N=qt(E).dateRetour}}return{clientName:p,nombreEchantillons:u.length,dateReception:y,dateTraitement:b,dateRetourClient:N}});r(g)}catch(c){console.error("Erreur chargement:",c)}finally{a(!1)}})()},[]),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{children:"Tableau de bord Chef de Projet"}),e.jsx("p",{style:{color:"#A9A9A9"},children:"Suivi des chantillons par client"})]}),e.jsxs(Ce,{children:[e.jsxs(Ne,{children:[e.jsx(Ee,{children:"chantillons par client"}),e.jsxs(He,{children:[t.length," client(s)"]})]}),e.jsx(Se,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-3 font-semibold",children:"Nom du client"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Nombre d'chantillons"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Date de rception"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Date traitement"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Date de retour client"})]})}),e.jsx("tbody",{children:s?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-3 text-center text-gray-500",children:"Chargement..."})}):t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-3 text-center text-gray-500",children:"Aucun chantillon"})}):t.map((i,c)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"font-medium",children:i.clientName})}),e.jsx("td",{className:"p-3",children:e.jsx(Z,{style:{backgroundColor:"#003366",color:"#FFFFFF"},children:i.nombreEchantillons})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm",children:i.dateReception})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm",children:i.dateTraitement})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm text-gray-500",children:i.dateRetourClient})})]},c))})]})})})]})]})}function Ru({echantillonId:t,type:r,dateEnvoi:s,echantillonStatut:a}){const[i,c]=v.useState({termine:!1,dateEnvoi:null,dateReception:null,dateFin:null,operateur:null});v.useEffect(()=>{(async()=>{try{const m=await(await fetch(`http://127.0.0.1:8000/api/essais/?echantillon=${t}&type=${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json();if(m.results&&m.results.length>0){const u=m.results.find(b=>b.echantillon===t)||m.results[0];let y=null;if(u.date_reception){const b={AG:5,Proctor:4,CBR:5},N=new Date(u.date_reception),C=new Date(N);C.setDate(C.getDate()+b[r]),y=C.toLocaleDateString("fr-FR")}c({termine:u.statut==="termine",dateEnvoi:u.date_envoi_decodification?new Date(u.date_envoi_decodification).toLocaleDateString("fr-FR"):null,dateReception:u.date_reception?new Date(u.date_reception).toLocaleDateString("fr-FR"):null,dateFin:y,operateur:u.operateur||null})}}catch{}})()},[t,r]);const f=i.termine?{text:"Termin",color:"#28A745"}:i.dateReception?{text:"En cours",color:"#FFC107"}:{text:"Stockage",color:"#17A2B8"};return e.jsxs("div",{children:[e.jsx("div",{className:"text-xs mb-1",style:{color:"#6C757D"},children:i.dateReception||"-"}),e.jsx("div",{className:"my-1",children:e.jsx(Z,{style:{backgroundColor:f.color,color:"#FFFFFF",fontSize:"10px",padding:"2px 6px"},children:f.text})}),i.operateur&&e.jsxs("div",{className:"text-xs mt-1",style:{color:"#003366"},children:["Op: ",i.operateur]}),i.dateFin&&e.jsxs("div",{className:"text-xs mt-1",style:{color:"#003366",fontWeight:500},children:["Fin: ",i.dateFin]})]})}function pP(){const[t,r]=v.useState([]),[s,a]=v.useState(!0);return v.useEffect(()=>{(async()=>{try{const f=(await(await fetch("http://127.0.0.1:8000/api/echantillons/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json()).results.filter(b=>b.essais_types&&(b.essais_types.includes("AG")||b.essais_types.includes("Proctor")||b.essais_types.includes("CBR"))),g=await lj();let p=0,m=0,u=0;const y=f.map(b=>{const N=b.date_reception?new Date(b.date_reception):new Date;let C=null,w=null,E=null;if(b.essais_types?.includes("AG")){const S=Math.floor((g.AG+p)/5);C=$s(N,S).toLocaleDateString("fr-FR"),p++}if(b.essais_types?.includes("Proctor")){const S=Math.floor((g.Proctor+m)/4);w=$s(N,S).toLocaleDateString("fr-FR"),m++}if(b.essais_types?.includes("CBR")){const S=Math.floor((g.CBR+u)/4);E=$s(N,S).toLocaleDateString("fr-FR"),u++}return{...b,date_envoi_ag:C,date_envoi_proctor:w,date_envoi_cbr:E}});r(y)}catch(c){console.error("Erreur chargement chantillons:",c)}finally{a(!1)}})()},[]),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{children:"Tableau de bord Route"}),e.jsx("p",{style:{color:"#A9A9A9"},children:"Suivi des essais route"})]}),e.jsxs(Ce,{children:[e.jsxs(Ne,{children:[e.jsx(Ee,{children:"chantillons avec essais route"}),e.jsxs(He,{children:[t.length," chantillon(s) avec essais AG, Proctor ou CBR"]})]}),e.jsx(Se,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-3 font-semibold",children:"Code chantillon"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Date Rception"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"AG"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Proctor"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"CBR"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Date de Retour Client"})]})}),e.jsx("tbody",{children:s?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-3 text-center text-gray-500",children:"Chargement..."})}):t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-3 text-center text-gray-500",children:"Aucun chantillon avec essais route"})}):t.map(i=>{const c={AG:5,Proctor:4,CBR:5};let d=null;["AG","Proctor","CBR"].forEach(g=>{if(i.essais_types?.includes(g)){const p=`date_envoi_${g.toLowerCase()}`,m=i[p];if(m){const u=new Date(m.split("/").reverse().join("-")),y=new Date(u);y.setDate(y.getDate()+c[g]),(!d||y>d)&&(d=y)}}}),d&&d.setDate(d.getDate()+2);const f=d?d.toLocaleDateString("fr-FR"):"-";return e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"font-medium",children:i.code})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm",children:new Date(i.date_reception).toLocaleDateString("fr-FR")})}),e.jsx("td",{className:"p-3",children:i.essais_types?.includes("AG")?e.jsx("div",{children:e.jsx(Ru,{echantillonId:i.id,type:"AG",dateEnvoi:i.date_envoi_ag,echantillonStatut:i.statut})},`${i.id}-AG`):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx("td",{className:"p-3",children:i.essais_types?.includes("Proctor")?e.jsx("div",{children:e.jsx(Ru,{echantillonId:i.id,type:"Proctor",dateEnvoi:i.date_envoi_proctor,echantillonStatut:i.statut})},`${i.id}-Proctor`):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx("td",{className:"p-3",children:i.essais_types?.includes("CBR")?e.jsx("div",{children:e.jsx(Ru,{echantillonId:i.id,type:"CBR",dateEnvoi:i.date_envoi_cbr,echantillonStatut:i.statut})},`${i.id}-CBR`):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm font-medium",style:{color:f==="-"?"#6C757D":"#DC3545"},children:f})})]},i.id)})})]})})})]})]})}function mP(){const[t,r]=v.useState([]),[s,a]=v.useState(!0);return v.useEffect(()=>{(async()=>{try{const d=await(await fetch("http://127.0.0.1:8000/api/echantillons/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json();console.log(" Dashboard Traitement:",d.results.length,"chantillons"),d.results.forEach(p=>console.log(`  ${p.code}: date_retour_predite=${p.date_retour_predite}`));const f=d.results.reduce((p,m)=>{const u=m.client_code||m.client_nom||"-";return p[u]||(p[u]=[]),p[u].push(m),p},{}),g=Object.entries(f).map(([p,m])=>{const u=m,y=u[0],b=y?.date_reception?new Date(y.date_reception).toLocaleDateString("fr-FR"):"-";let N="-";u.find(S=>S.statut==="traitement")&&(N="En traitement");let w="-";const E=u.find(S=>S.date_retour_predite);if(E&&E.date_retour_predite)try{w=new Date(E.date_retour_predite).toLocaleDateString("fr-FR")}catch{w=E.date_retour_predite}return{clientName:`${y.client_nom} (${y.client_code})`,nombreEchantillons:u.length,dateReception:b,dateTraitement:N,dateRetourClient:w}});r(g)}catch(c){console.error("Erreur chargement:",c)}finally{a(!1)}})()},[]),e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Tableau de bord Traitement"}),e.jsx("p",{style:{color:"#A9A9A9"},children:"Suivi des chantillons par client"})]}),e.jsx(iP,{})]})}),e.jsxs(Ce,{children:[e.jsxs(Ne,{children:[e.jsx(Ee,{children:"chantillons par client"}),e.jsxs(He,{children:[t.length," client(s)"]})]}),e.jsx(Se,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-3 font-semibold",children:"Nom du client"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Nombre d'chantillons"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Date de rception"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Date traitement"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Date de retour client"})]})}),e.jsx("tbody",{children:s?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-3 text-center text-gray-500",children:"Chargement..."})}):t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-3 text-center text-gray-500",children:"Aucun chantillon"})}):t.map((i,c)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"font-medium",children:i.clientName})}),e.jsx("td",{className:"p-3",children:e.jsx(Z,{style:{backgroundColor:"#003366",color:"#FFFFFF"},children:i.nombreEchantillons})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm",children:i.dateReception})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm",children:i.dateTraitement})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm text-gray-500",children:i.dateRetourClient})})]},c))})]})})})]})]})}function gP(){const[t,r]=v.useState([]),[s,a]=v.useState(!0),i=async()=>{a(!0);try{const f=(await(await fetch("http://127.0.0.1:8000/api/echantillons/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json()).results.reduce((p,m)=>{const u=m.client_nom||"-";return p[u]||(p[u]=[]),p[u].push(m),p},{}),g=Object.entries(f).map(([p,m])=>{const u=m,y=u[0]?.date_reception?new Date(u[0].date_reception).toLocaleDateString("fr-FR"):"-";let b="-",N="-";const C=u.find(E=>E.date_retour_predite);if(C&&C.date_retour_predite)try{N=new Date(C.date_retour_predite).toLocaleDateString("fr-FR")}catch{N=C.date_retour_predite}else{const E=u[0];if(E){const S={id:E.id,code:E.code,clientCode:E.client_code||"",qrCode:E.code,nature:E.nature||"",profondeurDebut:E.profondeur_debut||0,profondeurFin:E.profondeur_fin||0,dateReception:E.date_reception||"",essais:E.essais_types||[],statut:E.statut||"",priorite:E.priorite||"normale",chefProjet:E.chef_projet||""};N=qt(S).dateRetour}}return{clientName:p,dateReception:y,dateDirecteurTechnique:b,dateRetourClient:N,statut:"Pas avis"}});r(g)}catch(c){console.error("Erreur chargement:",c)}finally{a(!1)}};return v.useEffect(()=>{i()},[]),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{children:"Tableau de bord Directeur SNERTP"}),e.jsx("p",{style:{color:"#A9A9A9"},children:"Vue d'ensemble des chantillons par client"})]}),e.jsxs(Ce,{children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(Ee,{children:"chantillons par client"}),e.jsxs(He,{children:[t.length," client(s)"]})]}),e.jsx(X,{onClick:i,disabled:s,children:s?"Chargement...":"Actualiser"})]})}),e.jsx(Se,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-3 font-semibold",children:"Nom du client"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Date de rception"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Date directeur technique"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Date de retour client"}),e.jsx("th",{className:"text-left p-3 font-semibold",children:"Statut"})]})}),e.jsx("tbody",{children:s?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-3 text-center text-gray-500",children:"Chargement..."})}):t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-3 text-center text-gray-500",children:"Aucun chantillon"})}):t.map((c,d)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"font-medium",children:c.clientName})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm",children:c.dateReception})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm",children:c.dateDirecteurTechnique})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm text-gray-500",children:c.dateRetourClient})}),e.jsx("td",{className:"p-3",children:e.jsx(Z,{style:{backgroundColor:c.statut==="Avis"?"#28A745":"#FFC107",color:"#FFFFFF"},children:c.statut})})]},d))})]})})})]})]})}function xP({stats:t}){const[r,s]=v.useState("client"),[a,i]=v.useState(""),[c,d]=v.useState(null),[f,g]=v.useState("all"),[p,m]=v.useState(),[u,y]=v.useState(),[b,N]=v.useState("all"),[C,w]=v.useState([]),[E,S]=v.useState([]),k=C.filter(D=>{const P=E.filter(I=>I.client_code===D.code);if(P.length===0)return!1;if(f!=="all"||p||u){const I=new Date;let V,Y;if(f==="week"?V=new Date(I.getTime()-10080*60*1e3):f==="month"?V=new Date(I.getFullYear(),I.getMonth(),1):f==="year"?V=new Date(I.getFullYear(),0,1):p&&(V=p),u&&(Y=u),!P.some(ue=>{const Q=new Date(ue.date_reception);return!(V&&Q<V||Y&&Q>Y)}))return!1}return!(b!=="all"&&!P.some(V=>V.nature===b))});v.useEffect(()=>{(async()=>{try{const I=await(await fetch("http://127.0.0.1:8000/api/echantillons/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}})).json();S(I.results||[]);const V=[],Y=new Set;I.results.forEach(J=>{J.client_code&&J.client_nom&&!Y.has(J.client_code)&&(Y.add(J.client_code),V.push({id:J.client_code,code:J.client_code,nom:J.client_nom,contact:J.client_contact||"-",projet:J.client_projet||"-",email:J.client_email||"-",telephone:J.client_telephone||"-",dateCreation:new Date().toISOString().split("T")[0]}))}),w(V)}catch(P){console.error("Erreur chargement donnes:",P),toast.error("Erreur de connexion au serveur")}})()},[]);const R=()=>{},T=({echantillon:D})=>{const[P,I]=v.useState(null);return v.useEffect(()=>{(async()=>{const Y=await lP(D);I(Y)})()},[D]),P?e.jsxs("div",{className:"mt-3 p-3 rounded-lg border",style:{backgroundColor:"#F8F9FA",borderColor:"#E9ECEF"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Dn,{className:"h-4 w-4",style:{color:"#003366"}}),e.jsx("span",{className:"text-sm font-semibold",children:"Prdiction d'envoi par IA"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm font-semibold",style:{color:"#495057"},children:"Dtails par essai :"}),D.essais.map(V=>{const Y={AG:5,Proctor:5,CBR:9,Oedometre:18,Cisaillement:4},J={AG:5,Proctor:4,CBR:4,Oedometre:10,Cisaillement:4},ue=P.chargeParEssai?.[V]||0,Q=J[V]||1,ne=V==="Oedometre"&&ue>=10?Math.ceil((ue-9)*18/10):Math.floor(ue/Q),z=Y[V]||0,H=new Date,B=$s(H,ne),F=$s(H,ne+z+2),ee={weekday:"long",year:"numeric",month:"long",day:"numeric"};return e.jsx("div",{className:"p-3 rounded border",style:{backgroundColor:"#F8F9FA",borderColor:"#DEE2E6"},children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-semibold",children:V}),e.jsxs("span",{className:"text-xs",style:{color:"#6C757D"},children:["Dlai: ",ne," jour(s)"]})]}),e.jsxs("div",{className:"text-xs",style:{color:"#495057"},children:[e.jsxs("div",{children:["Envoi prvu: ",e.jsx("strong",{children:B.toLocaleDateString("fr-FR",ee)})]}),e.jsxs("div",{className:"mt-1",children:["Retour prvu: ",e.jsx("strong",{children:F.toLocaleDateString("fr-FR",ee)})]})]})]})},V)}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",style:{borderColor:"#DEE2E6"},children:[e.jsx("span",{className:"text-sm",style:{color:"#495057"},children:"Envoi prvu pour :"}),e.jsx(Z,{variant:"outline",style:{backgroundColor:P.delaiJours<=5?"#D4EDDA":"#FFF3CD",color:P.delaiJours<=5?"#155724":"#856404",borderColor:P.delaiJours<=5?"#C3E6CB":"#FFEEBA"},children:P.date})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t",style:{borderColor:"#DEE2E6"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Je,{className:"h-4 w-4",style:{color:"#28A745"}}),e.jsx("span",{className:"text-sm font-semibold",children:"Date probable de retour des rsultats"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",style:{color:"#495057"},children:"Rsultats disponibles le :"}),e.jsx(Z,{variant:"outline",style:{backgroundColor:"#E3F2FD",color:"#003366",borderColor:"#B3D9FF"},children:P.dateRetour})]}),e.jsx("div",{className:"flex justify-between items-center text-xs mt-1",children:e.jsxs("span",{style:{color:"#6C757D"},children:["Dlai total: ",P.delaiRetourJours," jours"]})})]})]})]}):e.jsx("div",{className:"mt-3 p-3 rounded-lg border",style:{backgroundColor:"#F8F9FA",borderColor:"#E9ECEF"},children:e.jsx("span",{className:"text-sm",children:"Chargement de la prdiction..."})})};return e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{children:"Accueil Rception"}),e.jsx("p",{style:{color:"#A9A9A9"},children:"Gestion des clients et recherche d'chantillons"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs(Ce,{children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Ee,{className:"text-sm",children:"En attente"}),e.jsx(oN,{className:"h-4 w-4",style:{color:"#FFC107"}})]}),e.jsx(Se,{children:e.jsx("div",{className:"text-2xl",children:t.enAttente})})]}),e.jsxs(Ce,{children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Ee,{className:"text-sm",children:"En cours"}),e.jsx(uf,{className:"h-4 w-4",style:{color:"#003366"}})]}),e.jsx(Se,{children:e.jsx("div",{className:"text-2xl",children:t.enCours})})]}),e.jsxs(Ce,{children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Ee,{className:"text-sm",children:"Termins"}),e.jsx(_t,{className:"h-4 w-4",style:{color:"#28A745"}})]}),e.jsx(Se,{children:e.jsx("div",{className:"text-2xl",children:t.termines})})]}),e.jsxs(Ce,{children:[e.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Ee,{className:"text-sm",children:"Clients"}),e.jsx(og,{className:"h-4 w-4",style:{color:"#003366"}})]}),e.jsx(Se,{children:e.jsx("div",{className:"text-2xl",children:C.length})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(Ce,{children:[e.jsxs(Ne,{children:[e.jsx(Ee,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(og,{className:"h-5 w-5"}),"Clients enregistrs"]})}),e.jsxs(He,{children:[k.length," client(s) sur ",C.length," au total"]}),e.jsx("div",{className:"space-y-4 mt-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Priode"}),e.jsxs(ln,{value:f,onValueChange:g,children:[e.jsx(dn,{children:e.jsx(cn,{})}),e.jsxs(un,{children:[e.jsx(Be,{value:"all",children:"Toutes les priodes"}),e.jsx(Be,{value:"week",children:"Cette semaine"}),e.jsx(Be,{value:"month",children:"Ce mois"}),e.jsx(Be,{value:"year",children:"Cette anne"}),e.jsx(Be,{value:"custom",children:"Priode personnalise"})]})]})]}),f==="custom"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Date dbut"}),e.jsxs(_n,{children:[e.jsx(kn,{asChild:!0,children:e.jsxs(X,{variant:"outline",className:"w-full justify-start text-left",children:[e.jsx(Sn,{className:"mr-2 h-4 w-4"}),p?Ie(p,"PPP",{locale:Qt}):"Slectionner"]})}),e.jsx(Fn,{className:"w-auto p-0",children:e.jsx(Dn,{mode:"single",selected:p,onSelect:m,initialFocus:!0})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Date fin"}),e.jsxs(_n,{children:[e.jsx(kn,{asChild:!0,children:e.jsxs(X,{variant:"outline",className:"w-full justify-start text-left",children:[e.jsx(Sn,{className:"mr-2 h-4 w-4"}),u?Ie(u,"PPP",{locale:Qt}):"Slectionner"]})}),e.jsx(Fn,{className:"w-auto p-0",children:e.jsx(Dn,{mode:"single",selected:u,onSelect:y,initialFocus:!0})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Nature d'chantillon"}),e.jsxs(ln,{value:b,onValueChange:N,children:[e.jsx(dn,{children:e.jsx(cn,{})}),e.jsxs(un,{children:[e.jsx(Be,{value:"all",children:"Toutes les natures"}),e.jsx(Be,{value:"Sol",children:"Sol"}),e.jsx(Be,{value:"Gravier",children:"Gravier"})]})]})]})]})})]}),e.jsx(Se,{children:e.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:k.map(D=>{const P=E.filter(J=>J.client_code===D.code),I=P.length,V=P.map(J=>({id:J.id,code:J.code,clientCode:J.client_code,nature:J.nature||"",profondeurDebut:J.profondeur_debut||0,profondeurFin:J.profondeur_fin||0,sondage:J.sondage||"vrac",nappe:J.nappe||"",essais:J.essais_types||[],qrCode:J.code,dateReception:J.date_reception||"",dateFinEstimee:"",statut:J.statut||"stockage",chefProjet:J.chef_projet||""}));let Y="";if(V.length>0){const J=V.map(ne=>qt(ne)),ue=Math.max(...J.map(ne=>ne.delaiRetourJours)),Q=J.find(ne=>ne.delaiRetourJours===ue);Q&&(Y=Q.dateRetour)}return e.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#F5F5F5"},children:e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsx("span",{children:D.code}),e.jsx(Z,{variant:"outline",children:D.nom})]}),Y&&e.jsxs("div",{className:"text-xs mt-2",style:{color:"#28A745"},children:[e.jsx("strong",{children:"Retour client prvu :"})," ",Y]}),e.jsxs("div",{className:"text-sm space-y-1 mt-2",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{style:{color:"#A9A9A9"},children:"Contact:"}),e.jsx("span",{children:D.contact})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{style:{color:"#A9A9A9"},children:"Projet:"}),e.jsx("span",{children:D.projet})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{style:{color:"#A9A9A9"},children:"Email:"}),e.jsx("span",{children:D.email})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{style:{color:"#A9A9A9"},children:"Tl:"}),e.jsx("span",{children:D.telephone})]})]})]}),e.jsxs(Z,{style:{backgroundColor:"#003366",color:"#FFFFFF"},children:[I," chantillon(s)"]})]})},D.id)})})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Ce,{children:[e.jsxs(Ne,{children:[e.jsx(Ee,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(sg,{className:"h-5 w-5"}),"Recherche"]})}),e.jsx(He,{children:"Rechercher par code client ou code chantillon"})]}),e.jsx(Se,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Type de recherche"}),e.jsxs(ln,{value:r,onValueChange:D=>s(D),children:[e.jsx(dn,{children:e.jsx(cn,{})}),e.jsxs(un,{children:[e.jsx(Be,{value:"client",children:"Par code client"}),e.jsx(Be,{value:"echantillon",children:"Par code chantillon"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{children:"Code"}),e.jsx(ge,{placeholder:r==="client"?"Ex: CLI-001":"Ex: S-0001/25",value:a,onChange:D=>i(D.target.value),onKeyPress:D=>D.key==="Enter"&&R()})]}),e.jsxs(X,{onClick:R,className:"w-full",style:{backgroundColor:"#003366"},children:[e.jsx(sg,{className:"h-4 w-4 mr-2"}),"Rechercher"]})]})})]}),c&&e.jsxs(Ce,{children:[e.jsx(Ne,{children:e.jsx(Ee,{children:"Rsultats"})}),e.jsx(Se,{children:c.type==="client"&&Array.isArray(c.data)?e.jsxs("div",{className:"space-y-4",children:[c.client&&e.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"#F5F5F5"},children:[e.jsxs("h4",{className:"font-semibold mb-2",children:["Client: ",c.client.nom]}),e.jsxs("p",{className:"text-sm",style:{color:"#A9A9A9"},children:[c.client.contact," - ",c.client.projet]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h4",{className:"font-semibold",children:["chantillons (",c.data.length,")"]}),c.data.length===0?e.jsx("p",{style:{color:"#A9A9A9"},children:"Aucun chantillon trouv"}):c.data.map(D=>e.jsxs("div",{className:"p-3 rounded-lg border",style:{backgroundColor:"#F5F5F5"},children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{children:D.code}),D.photo&&e.jsx("div",{className:"w-8 h-8 rounded overflow-hidden border",children:e.jsx("img",{src:D.photo,alt:"Photo chantillon",className:"w-full h-full object-cover"})})]}),e.jsxs("p",{className:"text-sm",style:{color:"#A9A9A9"},children:[D.nature," - ",D.profondeurDebut,"m  ",D.profondeurFin,"m"]}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:D.essais&&D.essais.length>0?D.essais.map(P=>e.jsx(Z,{variant:"outline",style:{fontSize:"10px",padding:"2px 6px"},children:P},P)):e.jsx("span",{className:"text-xs text-gray-400",children:"Aucun essai"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8",children:e.jsx(qf,{value:`Code: ${D.code}
Nature: ${D.nature}
Profondeurs: ${D.profondeurDebut}m - ${D.profondeurFin}m
Nappe phratique: ${D.nappe?D.nappe+" m":"Non renseigne"}
Type de sondage: ${D.sondage==="carotte"?"Carott":"Vrac"}
Essais demands: ${(D.essais||[]).join(", ")}
Envoi prvu pour: ${qt(D).date}
Dure en attente de stock: ${qt(D).delaiJours} jours
Date de retour essai: ${qt(D).dateRetour}${D.photo?`
Tlcharger photo: http://127.0.0.1:8000`+D.photo:""}`,size:32})}),e.jsx("span",{className:"text-xs",style:{color:"#A9A9A9"},children:D.qrCode}),e.jsxs(X,{size:"sm",variant:"outline",onClick:()=>{const P=window.open("","_blank");P&&(P.document.write(`
                                        <html>
                                          <head>
                                            <title>Code QR - ${D.code}</title>
                                            <style>
                                              body { font-family: Arial, sans-serif; text-align: center; padding: 20px; }
                                              .qr-container { margin: 20px auto; display: inline-block; }
                                              .info { margin-top: 20px; }
                                              .prediction { margin-top: 15px; padding: 10px; background: #f8f9fa; border-radius: 5px; }
                                            </style>
                                          </head>
                                          <body>
                                            <h2>Code QR de l'chantillon</h2>
                                            <div class="qr-container">
                                              <div id="qr-code"></div>
                                            </div>
                                            <div class="info">
                                              <p><strong>Code:</strong> ${D.code}</p>
                                              <p><strong>Nature:</strong> ${D.nature}</p>
                                              <p><strong>Profondeurs:</strong> ${D.profondeurDebut}m - ${D.profondeurFin}m</p>
                                              ${D.photo?`<img src="${D.photo}" alt="Photo chantillon" style="max-width: 200px; margin-top: 10px; border-radius: 8px;" />`:""}
                                            </div>
                                            <div class="prediction">
                                              <p><strong>Nappe phratique :</strong> ${D.nappe?D.nappe+" m":"Non renseigne"}</p>
                                              <p><strong>Type de sondage :</strong> ${D.sondage==="carotte"?"Carott":"Vrac"}</p>
                                              <p style="margin-top: 10px;"><strong>Essais demands :</strong> ${(D.essais||[]).join(", ")}</p>
                                              <p style="margin-top: 15px;"><strong>Envoi prvu pour :</strong> ${qt(D).date}</p>
                                              <p><strong>Dure en attente de stock :</strong> ${qt(D).delaiJours} jours</p>
                                              <p style="margin-top: 10px;"><strong>Date de retour essai :</strong> ${qt(D).dateRetour}</p>
                                              ${D.photo?'<p style="margin-top: 15px; padding-top: 10px; border-top: 1px solid #dee2e6;"><strong>Lien photo :</strong><br/><a href="'+D.photo+'" target="_blank" style="color: #003366; word-break: break-all;">'+D.photo+"</a></p>":""}
                                            </div>
                                            <script src="https://unpkg.com/qr-code-styling@1.6.0-rc.1/lib/qr-code-styling.js"><\/script>
                                            <script>
                                              const prediction = { date: '${qt(D).date}', delaiJours: ${qt(D).delaiJours}, dateRetour: '${qt(D).dateRetour}' };
                                              const photoUrl = '${D.photo||""}';
                                              const qrData = 'Code: ${D.code}\\nNature: ${D.nature}\\nProfondeurs: ${D.profondeurDebut}m - ${D.profondeurFin}m\\nNappe phratique: ${D.nappe?D.nappe+" m":"Non renseigne"}\\nType de sondage: ${D.sondage==="carotte"?"Carott":"Vrac"}\\nEssais demands: ${(D.essais||[]).join(", ")}\\nEnvoi prvu pour: ' + prediction.date + '\\nDure en attente de stock: ' + prediction.delaiJours + ' jours\\nDate de retour essai: ' + prediction.dateRetour + (photoUrl ? '\\nPhoto: ' + photoUrl : '');
                                              const qrCode = new QRCodeStyling({
                                                width: 200,
                                                height: 200,
                                                data: qrData,
                                                dotsOptions: { color: "#000000", type: "square" },
                                                backgroundOptions: { color: "#ffffff" }
                                              });
                                              qrCode.append(document.getElementById("qr-code"));
                                              setTimeout(() => window.print(), 500);
                                            <\/script>
                                          </body>
                                        </html>
                                      `),P.document.close())},style:{padding:"4px 8px",fontSize:"12px"},children:[e.jsx(ov,{className:"h-3 w-3 mr-1"}),"Imprimer"]})]})]}),e.jsx(T,{echantillon:D})]},D.id))]})]}):c.data?e.jsxs("div",{className:"space-y-4",children:[c.client&&e.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"#F5F5F5"},children:[e.jsxs("h4",{className:"font-semibold mb-2",children:["Client: ",c.client.nom]}),e.jsxs("p",{className:"text-sm",style:{color:"#A9A9A9"},children:[c.client.contact," - ",c.client.projet]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold",children:"Dtails chantillon"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx(L,{children:"Code"}),e.jsx("p",{className:"font-medium",children:c.data.code})]}),e.jsxs("div",{children:[e.jsx(L,{children:"Nature"}),e.jsx("p",{className:"font-medium",children:c.data.nature})]}),e.jsxs("div",{children:[e.jsx(L,{children:"Profondeurs"}),e.jsxs("p",{className:"font-medium",children:[c.data.profondeurDebut,"m - ",c.data.profondeurFin,"m"]})]}),e.jsxs("div",{children:[e.jsx(L,{children:"Type de sondage"}),e.jsx("p",{className:"font-medium",children:c.data.sondage==="carotte"?"Carot":"Vrac"})]}),c.data.numeroSondage&&e.jsxs("div",{children:[e.jsx(L,{children:"Numro de sondage"}),e.jsx("p",{className:"font-medium",children:c.data.numeroSondage})]}),e.jsxs("div",{children:[e.jsx(L,{children:"Nappe phratique"}),e.jsx("p",{className:"font-medium",children:c.data.nappe?`${c.data.nappe} m`:"Non renseigne"})]}),e.jsxs("div",{children:[e.jsx(L,{children:"Date rception"}),e.jsx("p",{className:"font-medium",children:c.data.dateReception})]}),e.jsxs("div",{children:[e.jsx(L,{children:"Chef de projet"}),e.jsx("p",{className:"font-medium",children:c.data.chefProjet||"-"})]})]}),c.data.photo&&e.jsxs("div",{className:"mt-4",children:[e.jsx(L,{children:"Photo de l'chantillon"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("img",{src:c.data.photo,alt:"Photo chantillon",className:"max-w-full h-auto rounded-lg border",style:{maxHeight:"200px"}}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("a",{href:c.data.photo,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline",children:"Ouvrir en plein cran"}),e.jsx("a",{href:c.data.photo,download:!0,className:"text-xs text-green-600 hover:underline font-semibold",children:" Tlcharger l'image"})]})]})]}),e.jsxs("div",{children:[e.jsx(L,{children:"Essais demands"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:c.data.essais&&c.data.essais.length>0?c.data.essais.map(D=>e.jsx(Z,{variant:"outline",children:D},D)):e.jsx("span",{className:"text-sm text-gray-500",children:"Aucun essai demand"})})]}),e.jsx(T,{echantillon:c.data})]})]}):e.jsx("p",{style:{color:"#A9A9A9"},children:"Aucun rsultat trouv"})})]})]})]})]})}function vP({user:t,onLogout:r}){const[s,a]=v.useState("home"),i=()=>{switch(s){case"home":return e.jsx(fx,{user:t});case"reception":return e.jsx($R,{});case"storage":return e.jsx(N5,{});case"decodification":return e.jsx(S5,{});case"essais-route":return e.jsx(F5,{});case"essais-mecanique":return e.jsx(P5,{});case"essais-rejetes":return e.jsx(M5,{});case"essais-rejetes-mecanique":return e.jsx(I5,{});case"traitement":return e.jsx(V5,{});case"traitement-rejete":return e.jsx(U5,{});case"validation":return t.role==="directeur_technique"?e.jsx(q5,{userRole:t.role}):e.jsx(ux,{userRole:t.role});case"admin":return e.jsx(K5,{});case"chef-projet":return e.jsx(Q5,{});case"chef-projet-rejete":return e.jsx(eP,{});case"rapports-chef-service":return e.jsx(tP,{});case"rapports-valides":return t.role==="directeur_snertp"?e.jsx(Y5,{}):e.jsx(ux,{userRole:t.role});case"service-marketing":return e.jsx(G5,{});default:return e.jsx(fx,{user:t})}};return e.jsx(rk,{children:e.jsxs("div",{className:"flex min-h-screen w-full",children:[e.jsx(lD,{user:t,activeView:s,onNavigate:a,onLogout:r}),e.jsx("main",{className:"flex-1 overflow-auto bg-background",children:i()})]})})}function yP(){const{code:t}=G1(),r=Fx(),[s,a]=v.useState(null),[i,c]=v.useState(null),[d,f]=v.useState(!0),[g,p]=v.useState(null),[m,u]=v.useState(!1);if(v.useEffect(()=>{(async()=>{if(t)try{f(!0);const C=t.replace(/-/g,"/"),w=await LR(C);if(w){a(w);const E=await G0(w.client);c(E)}else p("chantillon non trouv")}catch(C){console.error("Erreur chargement chantillon:",C),p("Erreur lors du chargement de l'chantillon")}finally{f(!1)}})()},[t]),d)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})});if(g||!s)return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsxs(Ce,{className:"max-w-md w-full",children:[e.jsx(Ne,{children:e.jsx(Ee,{className:"text-red-600",children:"Erreur"})}),e.jsxs(Se,{children:[e.jsx("p",{className:"text-gray-600 mb-4",children:g||"chantillon non trouv"}),e.jsxs(X,{onClick:()=>r("/"),variant:"outline",children:[e.jsx(tg,{className:"h-4 w-4 mr-2"}),"Retour  l'accueil"]})]})]})});const y=N=>({attente:"En attente",stockage:"Stockage",essais:"Essais",decodification:"Dcodification",traitement:"Traitement",validation:"Validation",valide:"Valid",rejete:"Rejet"})[N]||N,b=N=>({attente:"#FFC107",stockage:"#17A2B8",essais:"#003366",decodification:"#6F42C1",traitement:"#FD7E14",validation:"#E83E8C",valide:"#28A745",rejete:"#DC3545"})[N]||"#6C757D";return e.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(X,{onClick:()=>r("/"),variant:"outline",className:"mb-4",children:[e.jsx(tg,{className:"h-4 w-4 mr-2"}),"Retour"]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dtails de l'chantillon"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Informations compltes de l'chantillon scann"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(Ce,{children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Ee,{className:"text-2xl",children:s.code}),e.jsx(Z,{style:{backgroundColor:b(s.statut),color:"#FFFFFF"},children:y(s.statut)})]})}),e.jsxs(Se,{className:"space-y-4",children:[s.photo&&e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>u(!0),children:[e.jsx("img",{src:s.photo,alt:`Photo de l'chantillon ${s.code}`,className:"w-full h-auto rounded-lg border shadow-sm transition-opacity group-hover:opacity-90",style:{maxHeight:"400px",objectFit:"cover"}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all rounded-lg",children:e.jsx("span",{className:"text-white opacity-0 group-hover:opacity-100 font-semibold text-lg",children:"Cliquer pour agrandir"})})]})}),i&&e.jsxs("div",{className:"p-4 rounded-lg bg-blue-50 border border-blue-200",children:[e.jsxs("h3",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[e.jsx(VN,{className:"h-4 w-4"}),"Client"]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Code:"})," ",i.code]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Nom:"})," ",i.nom]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Contact:"})," ",i.contact]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Projet:"})," ",i.projet]}),i.email&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",i.email]}),i.telephone&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Tl:"})," ",i.telephone]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(sv,{className:"h-5 w-5 text-gray-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Nature"}),e.jsx("p",{className:"font-medium",children:s.nature})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(EN,{className:"h-5 w-5 text-gray-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Profondeur"}),e.jsxs("p",{className:"font-medium",children:[s.profondeur_debut,"m - ",s.profondeur_fin,"m"]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Sn,{className:"h-5 w-5 text-gray-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Date de rception"}),e.jsx("p",{className:"font-medium",children:Gt(s.date_reception)})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"h-5 w-5 text-gray-500 mt-0.5 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-bold",children:"S"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Type de sondage"}),e.jsx("p",{className:"font-medium capitalize",children:s.sondage})]})]})]}),s.nappe&&e.jsxs("div",{className:"p-3 rounded-lg bg-gray-50",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Nappe phratique"}),e.jsx("p",{className:"font-medium",children:s.nappe})]}),s.chef_projet&&e.jsxs("div",{className:"p-3 rounded-lg bg-gray-50",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Chef de projet"}),e.jsx("p",{className:"font-medium",children:s.chef_projet})]}),s.priorite==="urgente"&&e.jsx(Z,{variant:"destructive",className:"text-sm",children:"CHANTILLON URGENT"})]})]}),s.essais&&s.essais.length>0&&e.jsxs(Ce,{children:[e.jsx(Ne,{children:e.jsx(Ee,{children:"Essais demands"})}),e.jsx(Se,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:s.essais.map(N=>e.jsx(Z,{variant:"outline",className:"text-sm",children:typeof N=="string"?N:N.type},N.id||N))})})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(Ce,{className:"sticky top-4",children:[e.jsx(Ne,{children:e.jsx(Ee,{className:"text-center",children:"QR Code"})}),e.jsxs(Se,{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg border",children:e.jsx(qf,{value:s.qr_code,size:200})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Code QR"}),e.jsx("p",{className:"font-mono text-sm font-medium",children:s.qr_code})]}),e.jsx(X,{onClick:()=>{try{window.print()}catch(N){console.error("Erreur impression:",N)}},className:"w-full",style:{backgroundColor:"#003366"},children:"Imprimer cette page"})]})]})})]})]}),m&&s?.photo&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",onClick:()=>u(!1),children:e.jsxs("div",{className:"relative max-w-6xl max-h-full",children:[e.jsx("button",{onClick:()=>u(!1),className:"absolute top-4 right-4 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100 z-10",children:e.jsx("span",{className:"text-2xl font-bold",children:""})}),e.jsx("img",{src:s.photo,alt:`Photo de l'chantillon ${s.code}`,className:"max-w-full max-h-screen rounded-lg",onClick:N=>N.stopPropagation()})]})}),e.jsx("style",{children:`
        @media print {
          .sticky { position: relative !important; }
          button { display: none !important; }
        }
      `})]})}var jP=(t,r,s,a,i,c,d,f)=>{let g=document.documentElement,p=["light","dark"];function m(b){(Array.isArray(t)?t:[t]).forEach(N=>{let C=N==="class",w=C&&c?i.map(E=>c[E]||E):i;C?(g.classList.remove(...w),g.classList.add(c&&c[b]?c[b]:b)):g.setAttribute(N,b)}),u(b)}function u(b){f&&p.includes(b)&&(g.style.colorScheme=b)}function y(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(a)m(a);else try{let b=localStorage.getItem(r)||s,N=d&&b==="system"?y():b;m(N)}catch{}},wP=v.createContext(void 0),bP={setTheme:t=>{},themes:[]},CP=()=>{var t;return(t=v.useContext(wP))!=null?t:bP};v.memo(({forcedTheme:t,storageKey:r,attribute:s,enableSystem:a,enableColorScheme:i,defaultTheme:c,value:d,themes:f,nonce:g,scriptProps:p})=>{let m=JSON.stringify([s,r,c,t,f,d,a,i]).slice(1,-1);return v.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?g:"",dangerouslySetInnerHTML:{__html:`(${jP.toString()})(${m})`}})});const hx=({...t})=>{const{theme:r="system"}=CP();return e.jsx(E2,{theme:r,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};function NP(){const t={access_token:localStorage.getItem("access_token"),refresh_token:localStorage.getItem("refresh_token"),user:localStorage.getItem("user")};localStorage.clear(),Object.entries(t).forEach(([r,s])=>{s&&localStorage.setItem(r,s)}),console.log(" localStorage nettoy - Migration vers backend termine")}function EP(){sessionStorage.getItem("backend_migration_done")||(NP(),sessionStorage.setItem("backend_migration_done","true"),console.log(" Migration automatique vers backend effectue"))}function SP(){const[t,r]=v.useState(null),[s,a]=v.useState(!0);v.useEffect(()=>{(async()=>{try{const f=await XN();f&&r(f)}catch(f){console.error("Erreur lors de la vrification de l'authentification:",f)}finally{a(!1)}})(),EP()},[]);const i=d=>{r(d)},c=()=>{QN(),r(null)};return s?e.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#F5F5F5"},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement..."})]})}):e.jsx(Ab,{children:e.jsxs(cb,{children:[e.jsx(Au,{path:"/echantillon/:code",element:e.jsx(yP,{})}),e.jsx(Au,{path:"/*",element:t?e.jsxs(Nk,{userRole:t.role,children:[e.jsx(vP,{user:t,onLogout:c}),e.jsx(hx,{})]}):e.jsxs(e.Fragment,{children:[e.jsx(S2,{onLogin:i}),e.jsx(hx,{})]})})]})})}u1.createRoot(document.getElementById("root")).render(e.jsx(SP,{}));
